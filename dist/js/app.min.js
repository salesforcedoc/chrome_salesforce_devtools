!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return fr.apply(null,arguments)}function t(e){fr=e}function n(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function r(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function i(e){var t;for(t in e)return!1;return!0}function o(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function a(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function u(e,t,n,r){return bt(e,t,n,r,!0).utc()}function c(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function p(e){return null==e._pf&&(e._pf=c()),e._pf}function d(e){if(null==e._isValid){var t=p(e),n=hr.call(t.parsedDateParts,function(e){return null!=e}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function f(e){var t=u(NaN);return null!=e?l(p(t),e):p(t).userInvalidated=!0,t}function h(e){return void 0===e}function m(e,t){var n,r,i;if(h(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),h(t._i)||(e._i=t._i),h(t._f)||(e._f=t._f),h(t._l)||(e._l=t._l),h(t._strict)||(e._strict=t._strict),h(t._tzm)||(e._tzm=t._tzm),h(t._isUTC)||(e._isUTC=t._isUTC),h(t._offset)||(e._offset=t._offset),h(t._pf)||(e._pf=p(t)),h(t._locale)||(e._locale=t._locale),mr.length>0)for(n in mr)r=mr[n],i=t[r],h(i)||(e[r]=i);return e}function b(t){m(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),br===!1&&(br=!0,e.updateOffset(this),br=!1)}function y(e){return e instanceof b||null!=e&&null!=e._isAMomentObject}function g(e){return 0>e?Math.ceil(e)||0:Math.floor(e)}function _(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=g(t)),n}function v(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;i>r;r++)(n&&e[r]!==t[r]||!n&&_(e[r])!==_(t[r]))&&a++;return a+o}function T(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function E(t,n){var r=!0;return l(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),r){for(var i,o=[],a=0;a<arguments.length;a++){if(i="","object"==typeof arguments[a]){i+="\n["+a+"] ";for(var s in arguments[0])i+=s+": "+arguments[0][s]+", ";i=i.slice(0,-2)}else i=arguments[a];o.push(i)}T(t+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),r=!1}return n.apply(this,arguments)},n)}function w(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),yr[t]||(T(n),yr[t]=!0)}function S(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function A(e){var t,n;for(n in e)t=e[n],S(t)?this[n]=t:this["_"+n]=t;this._config=e,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function D(e,t){var n,i=l({},e);for(n in t)s(t,n)&&(r(e[n])&&r(t[n])?(i[n]={},l(i[n],e[n]),l(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)s(e,n)&&!s(t,n)&&r(e[n])&&(i[n]=l({},i[n]));return i}function C(e){null!=e&&this.set(e)}function I(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return S(r)?r.call(t,n):r}function O(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function N(){return this._invalidDate}function x(e){return this._ordinal.replace("%d",e)}function R(e,t,n,r){var i=this._relativeTime[n];return S(i)?i(e,t,n,r):i.replace(/%d/i,e)}function k(e,t){var n=this._relativeTime[e>0?"future":"past"];return S(n)?n(t):n.replace(/%s/i,t)}function L(e,t){var n=e.toLowerCase();Dr[n]=Dr[n+"s"]=Dr[t]=e}function M(e){return"string"==typeof e?Dr[e]||Dr[e.toLowerCase()]:void 0}function U(e){var t,n,r={};for(n in e)s(e,n)&&(t=M(n),t&&(r[t]=e[n]));return r}function j(e,t){Cr[e]=t}function P(e){var t=[];for(var n in e)t.push({unit:n,priority:Cr[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function B(t,n){return function(r){return null!=r?(q(this,t,r),e.updateOffset(this,n),this):F(this,t)}}function F(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function q(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function Y(e){return e=M(e),S(this[e])?this[e]():this}function W(e,t){if("object"==typeof e){e=U(e);for(var n=P(e),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit])}else if(e=M(e),S(this[e]))return this[e](t);return this}function H(e,t,n){var r=""+Math.abs(e),i=t-r.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function V(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(xr[e]=i),t&&(xr[t[0]]=function(){return H(i.apply(this,arguments),t[1],t[2])}),n&&(xr[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function Q(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function X(e){var t,n,r=e.match(Ir);for(t=0,n=r.length;n>t;t++)xr[r[t]]?r[t]=xr[r[t]]:r[t]=Q(r[t]);return function(t){var i,o="";for(i=0;n>i;i++)o+=r[i]instanceof Function?r[i].call(t,e):r[i];return o}}function z(e,t){return e.isValid()?(t=G(t,e.localeData()),Nr[t]=Nr[t]||X(t),Nr[t](e)):e.localeData().invalidDate()}function G(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(Or.lastIndex=0;r>=0&&Or.test(e);)e=e.replace(Or,n),Or.lastIndex=0,r-=1;return e}function $(e,t,n){Gr[e]=S(t)?t:function(e,r){return e&&n?n:t}}function K(e,t){return s(Gr,e)?Gr[e](t._strict,t._locale):new RegExp(J(e))}function J(e){return Z(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}))}function Z(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ee(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(r=function(e,n){n[t]=_(e)}),n=0;n<e.length;n++)$r[e[n]]=r}function te(e,t){ee(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function ne(e,t,n){null!=t&&s($r,e)&&$r[e](t,n._a,n,e)}function re(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function ie(e,t){return e?n(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||ai).test(t)?"format":"standalone"][e.month()]:this._months}function oe(e,t){return e?n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[ai.test(t)?"format":"standalone"][e.month()]:this._monthsShort}function ae(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;12>r;++r)o=u([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?(i=_r.call(this._shortMonthsParse,a),-1!==i?i:null):(i=_r.call(this._longMonthsParse,a),-1!==i?i:null):"MMM"===t?(i=_r.call(this._shortMonthsParse,a),-1!==i?i:(i=_r.call(this._longMonthsParse,a),-1!==i?i:null)):(i=_r.call(this._longMonthsParse,a),-1!==i?i:(i=_r.call(this._shortMonthsParse,a),-1!==i?i:null))}function se(e,t,n){var r,i,o;if(this._monthsParseExact)return ae.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;12>r;r++){if(i=u([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function le(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=_(t);else if(t=e.localeData().monthsParse(t),"number"!=typeof t)return e;return n=Math.min(e.date(),re(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ue(t){return null!=t?(le(this,t),e.updateOffset(this,!0),this):F(this,"Month")}function ce(){return re(this.year(),this.month())}function pe(e){return this._monthsParseExact?(s(this,"_monthsRegex")||fe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=ui),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function de(e){return this._monthsParseExact?(s(this,"_monthsRegex")||fe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=ci),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function fe(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;12>t;t++)n=u([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;12>t;t++)r[t]=Z(r[t]),i[t]=Z(i[t]);for(t=0;24>t;t++)o[t]=Z(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function he(e){return me(e)?366:365}function me(e){return e%4===0&&e%100!==0||e%400===0}function be(){return me(this.year())}function ye(e,t,n,r,i,o,a){var s=new Date(e,t,n,r,i,o,a);return 100>e&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function ge(e){var t=new Date(Date.UTC.apply(null,arguments));return 100>e&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function _e(e,t,n){var r=7+t-n,i=(7+ge(e,0,r).getUTCDay()-t)%7;return-i+r-1}function ve(e,t,n,r,i){var o,a,s=(7+n-r)%7,l=_e(e,r,i),u=1+7*(t-1)+s+l;return 0>=u?(o=e-1,a=he(o)+u):u>he(e)?(o=e+1,a=u-he(e)):(o=e,a=u),{year:o,dayOfYear:a}}function Te(e,t,n){var r,i,o=_e(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return 1>a?(i=e.year()-1,r=a+Ee(i,t,n)):a>Ee(e.year(),t,n)?(r=a-Ee(e.year(),t,n),i=e.year()+1):(i=e.year(),r=a),{week:r,year:i}}function Ee(e,t,n){var r=_e(e,t,n),i=_e(e+1,t,n);return(he(e)-r+i)/7}function we(e){return Te(e,this._week.dow,this._week.doy).week}function Se(){return this._week.dow}function Ae(){return this._week.doy}function De(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Ce(e){var t=Te(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Ie(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Oe(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Ne(e,t){return e?n(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:this._weekdays}function xe(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Re(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function ke(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;7>r;++r)o=u([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?(i=_r.call(this._weekdaysParse,a),-1!==i?i:null):"ddd"===t?(i=_r.call(this._shortWeekdaysParse,a),-1!==i?i:null):(i=_r.call(this._minWeekdaysParse,a),-1!==i?i:null):"dddd"===t?(i=_r.call(this._weekdaysParse,a),-1!==i?i:(i=_r.call(this._shortWeekdaysParse,a),-1!==i?i:(i=_r.call(this._minWeekdaysParse,a),-1!==i?i:null))):"ddd"===t?(i=_r.call(this._shortWeekdaysParse,a),-1!==i?i:(i=_r.call(this._weekdaysParse,a),-1!==i?i:(i=_r.call(this._minWeekdaysParse,a),-1!==i?i:null))):(i=_r.call(this._minWeekdaysParse,a),-1!==i?i:(i=_r.call(this._weekdaysParse,a),-1!==i?i:(i=_r.call(this._shortWeekdaysParse,a),-1!==i?i:null)))}function Le(e,t,n){var r,i,o;if(this._weekdaysParseExact)return ke.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;7>r;r++){if(i=u([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Me(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Ie(e,this.localeData()),this.add(e-t,"d")):t}function Ue(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function je(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Oe(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Pe(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||qe.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=bi),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Be(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||qe.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=yi),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Fe(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||qe.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=gi),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function qe(){function e(e,t){return t.length-e.length}var t,n,r,i,o,a=[],s=[],l=[],c=[];for(t=0;7>t;t++)n=u([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(r),s.push(i),l.push(o),c.push(r),c.push(i),c.push(o);for(a.sort(e),s.sort(e),l.sort(e),c.sort(e),t=0;7>t;t++)s[t]=Z(s[t]),l[t]=Z(l[t]),c[t]=Z(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Ye(){return this.hours()%12||12}function We(){return this.hours()||24}function He(e,t){V(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Ve(e,t){return t._meridiemParse}function Qe(e){return"p"===(e+"").toLowerCase().charAt(0)}function Xe(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function ze(e){return e?e.toLowerCase().replace("_","-"):e}function Ge(e){for(var t,n,r,i,o=0;o<e.length;){for(i=ze(e[o]).split("-"),t=i.length,n=ze(e[o+1]),n=n?n.split("-"):null;t>0;){if(r=$e(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&v(i,n,!0)>=t-1)break;t--}o++}return null}function $e(e){var t=null;if(!wi[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=_i._abbr,require("./locale/"+e),Ke(t)}catch(e){}return wi[e]}function Ke(e,t){var n;return e&&(n=h(t)?et(e):Je(e,t),n&&(_i=n)),_i._abbr}function Je(e,t){if(null!==t){var n=Ei;return t.abbr=e,null!=wi[e]?(w("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=wi[e]._config):null!=t.parentLocale&&(null!=wi[t.parentLocale]?n=wi[t.parentLocale]._config:w("parentLocaleUndefined","specified parentLocale is not defined yet. See http://momentjs.com/guides/#/warnings/parent-locale/")),wi[e]=new C(D(n,t)),Ke(e),wi[e]}return delete wi[e],null}function Ze(e,t){if(null!=t){var n,r=Ei;null!=wi[e]&&(r=wi[e]._config),t=D(r,t),n=new C(t),n.parentLocale=wi[e],wi[e]=n,Ke(e)}else null!=wi[e]&&(null!=wi[e].parentLocale?wi[e]=wi[e].parentLocale:null!=wi[e]&&delete wi[e]);return wi[e]}function et(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return _i;if(!n(e)){if(t=$e(e))return t;e=[e]}return Ge(e)}function tt(){return gr(wi)}function nt(e){var t,n=e._a;return n&&-2===p(e).overflow&&(t=n[Jr]<0||n[Jr]>11?Jr:n[Zr]<1||n[Zr]>re(n[Kr],n[Jr])?Zr:n[ei]<0||n[ei]>24||24===n[ei]&&(0!==n[ti]||0!==n[ni]||0!==n[ri])?ei:n[ti]<0||n[ti]>59?ti:n[ni]<0||n[ni]>59?ni:n[ri]<0||n[ri]>999?ri:-1,p(e)._overflowDayOfYear&&(Kr>t||t>Zr)&&(t=Zr),p(e)._overflowWeeks&&-1===t&&(t=ii),p(e)._overflowWeekday&&-1===t&&(t=oi),p(e).overflow=t),e}function rt(e){var t,n,r,i,o,a,s=e._i,l=Si.exec(s)||Ai.exec(s);if(l){for(p(e).iso=!0,t=0,n=Ci.length;n>t;t++)if(Ci[t][1].exec(l[1])){i=Ci[t][0],r=Ci[t][2]!==!1;break}if(null==i)return void(e._isValid=!1);if(l[3]){for(t=0,n=Ii.length;n>t;t++)if(Ii[t][1].exec(l[3])){o=(l[2]||" ")+Ii[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(l[4]){if(!Di.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=i+(o||"")+(a||""),ut(e)}else e._isValid=!1}function it(t){var n=Oi.exec(t._i);return null!==n?void(t._d=new Date(+n[1])):(rt(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function ot(e,t,n){return null!=e?e:null!=t?t:n}function at(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function st(e){var t,n,r,i,o=[];if(!e._d){for(r=at(e),e._w&&null==e._a[Zr]&&null==e._a[Jr]&&lt(e),e._dayOfYear&&(i=ot(e._a[Kr],r[Kr]),e._dayOfYear>he(i)&&(p(e)._overflowDayOfYear=!0),n=ge(i,0,e._dayOfYear),e._a[Jr]=n.getUTCMonth(),e._a[Zr]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;7>t;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ei]&&0===e._a[ti]&&0===e._a[ni]&&0===e._a[ri]&&(e._nextDay=!0,e._a[ei]=0),e._d=(e._useUTC?ge:ye).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ei]=24)}}function lt(e){var t,n,r,i,o,a,s,l;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(o=1,a=4,n=ot(t.GG,e._a[Kr],Te(yt(),1,4).year),r=ot(t.W,1),i=ot(t.E,1),(1>i||i>7)&&(l=!0)):(o=e._locale._week.dow,a=e._locale._week.doy,n=ot(t.gg,e._a[Kr],Te(yt(),o,a).year),r=ot(t.w,1),null!=t.d?(i=t.d,(0>i||i>6)&&(l=!0)):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(l=!0)):i=o),1>r||r>Ee(n,o,a)?p(e)._overflowWeeks=!0:null!=l?p(e)._overflowWeekday=!0:(s=ve(n,r,i,o,a),e._a[Kr]=s.year,e._dayOfYear=s.dayOfYear)}function ut(t){if(t._f===e.ISO_8601)return void rt(t);t._a=[],p(t).empty=!0;var n,r,i,o,a,s=""+t._i,l=s.length,u=0;for(i=G(t._f,t._locale).match(Ir)||[],n=0;n<i.length;n++)o=i[n],r=(s.match(K(o,t))||[])[0],r&&(a=s.substr(0,s.indexOf(r)),a.length>0&&p(t).unusedInput.push(a),s=s.slice(s.indexOf(r)+r.length),u+=r.length),xr[o]?(r?p(t).empty=!1:p(t).unusedTokens.push(o),ne(o,r,t)):t._strict&&!r&&p(t).unusedTokens.push(o);p(t).charsLeftOver=l-u,s.length>0&&p(t).unusedInput.push(s),t._a[ei]<=12&&p(t).bigHour===!0&&t._a[ei]>0&&(p(t).bigHour=void 0),p(t).parsedDateParts=t._a.slice(0),p(t).meridiem=t._meridiem,t._a[ei]=ct(t._locale,t._a[ei],t._meridiem),st(t),nt(t)}function ct(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&12>t&&(t+=12),r||12!==t||(t=0),t):t}function pt(e){var t,n,r,i,o;if(0===e._f.length)return p(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,t=m({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],ut(t),d(t)&&(o+=p(t).charsLeftOver,o+=10*p(t).unusedTokens.length,p(t).score=o,(null==r||r>o)&&(r=o,n=t));l(e,n||t)}function dt(e){if(!e._d){var t=U(e._i);e._a=a([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),st(e)}}function ft(e){var t=new b(nt(ht(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function ht(e){var t=e._i,r=e._f;return e._locale=e._locale||et(e._l),null===t||void 0===r&&""===t?f({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),y(t)?new b(nt(t)):(n(r)?pt(e):o(t)?e._d=t:r?ut(e):mt(e),d(e)||(e._d=null),e))}function mt(t){var r=t._i;void 0===r?t._d=new Date(e.now()):o(r)?t._d=new Date(r.valueOf()):"string"==typeof r?it(t):n(r)?(t._a=a(r.slice(0),function(e){return parseInt(e,10)}),st(t)):"object"==typeof r?dt(t):"number"==typeof r?t._d=new Date(r):e.createFromInputFallback(t)}function bt(e,t,o,a,s){var l={};return"boolean"==typeof o&&(a=o,o=void 0),(r(e)&&i(e)||n(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=s,l._l=o,l._i=e,l._f=t,l._strict=a,ft(l)}function yt(e,t,n,r){return bt(e,t,n,r,!1)}function gt(e,t){var r,i;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return yt();for(r=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](r)||(r=t[i]);return r}function _t(){var e=[].slice.call(arguments,0);return gt("isBefore",e)}function vt(){var e=[].slice.call(arguments,0);return gt("isAfter",e)}function Tt(e){var t=U(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=et(),this._bubble()}function Et(e){return e instanceof Tt}function wt(e){return 0>e?-1*Math.round(-1*e):Math.round(e)}function St(e,t){V(e,0,0,function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+H(~~(e/60),2)+t+H(~~e%60,2)})}function At(e,t){var n=(t||"").match(e)||[],r=n[n.length-1]||[],i=(r+"").match(ki)||["-",0,0],o=+(60*i[1])+_(i[2]);return"+"===i[0]?o:-o}function Dt(t,n){var r,i;return n._isUTC?(r=n.clone(),i=(y(t)||o(t)?t.valueOf():yt(t).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),e.updateOffset(r,!1),r):yt(t).local()}function Ct(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function It(t,n){var r,i=this._offset||0;return this.isValid()?null!=t?("string"==typeof t?t=At(Qr,t):Math.abs(t)<16&&(t=60*t),!this._isUTC&&n&&(r=Ct(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==t&&(!n||this._changeInProgress?Ht(this,Bt(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:Ct(this):null!=t?this:NaN}function Ot(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Nt(e){return this.utcOffset(0,e)}function xt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ct(this),"m")),this}function Rt(){if(this._tzm)this.utcOffset(this._tzm);else if("string"==typeof this._i){var e=At(Vr,this._i);0===e?this.utcOffset(0,!0):this.utcOffset(At(Vr,this._i))}return this}function kt(e){return!!this.isValid()&&(e=e?yt(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function Lt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Mt(){if(!h(this._isDSTShifted))return this._isDSTShifted;var e={};if(m(e,this),e=ht(e),e._a){var t=e._isUTC?u(e._a):yt(e._a);this._isDSTShifted=this.isValid()&&v(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Ut(){return!!this.isValid()&&!this._isUTC}function jt(){return!!this.isValid()&&this._isUTC}function Pt(){return!!this.isValid()&&this._isUTC&&0===this._offset}function Bt(e,t){var n,r,i,o=e,a=null;return Et(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(o={},t?o[t]=e:o.milliseconds=e):(a=Li.exec(e))?(n="-"===a[1]?-1:1,o={y:0,d:_(a[Zr])*n,h:_(a[ei])*n,m:_(a[ti])*n,s:_(a[ni])*n,ms:_(wt(1e3*a[ri]))*n}):(a=Mi.exec(e))?(n="-"===a[1]?-1:1,o={y:Ft(a[2],n),M:Ft(a[3],n),w:Ft(a[4],n),d:Ft(a[5],n),h:Ft(a[6],n),m:Ft(a[7],n),s:Ft(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=Yt(yt(o.from),yt(o.to)),o={},o.ms=i.milliseconds,o.M=i.months),r=new Tt(o),Et(e)&&s(e,"_locale")&&(r._locale=e._locale),r}function Ft(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function qt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Yt(e,t){var n;return e.isValid()&&t.isValid()?(t=Dt(t,e),e.isBefore(t)?n=qt(e,t):(n=qt(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Wt(e,t){return function(n,r){var i,o;return null===r||isNaN(+r)||(w(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),n="string"==typeof n?+n:n,i=Bt(n,r),Ht(this,i,e),this}}function Ht(t,n,r,i){var o=n._milliseconds,a=wt(n._days),s=wt(n._months);t.isValid()&&(i=null==i||i,o&&t._d.setTime(t._d.valueOf()+o*r),a&&q(t,"Date",F(t,"Date")+a*r),s&&le(t,F(t,"Month")+s*r),i&&e.updateOffset(t,a||s))}function Vt(e,t){var n=e.diff(t,"days",!0);return-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse"}function Qt(t,n){var r=t||yt(),i=Dt(r,this).startOf("day"),o=e.calendarFormat(this,i)||"sameElse",a=n&&(S(n[o])?n[o].call(this,r):n[o]);return this.format(a||this.localeData().calendar(o,this,yt(r)))}function Xt(){return new b(this)}function zt(e,t){var n=y(e)?e:yt(e);return!(!this.isValid()||!n.isValid())&&(t=M(h(t)?"millisecond":t),"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Gt(e,t){var n=y(e)?e:yt(e);return!(!this.isValid()||!n.isValid())&&(t=M(h(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function $t(e,t,n,r){return r=r||"()",("("===r[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))}function Kt(e,t){var n,r=y(e)?e:yt(e);return!(!this.isValid()||!r.isValid())&&(t=M(t||"millisecond"),"millisecond"===t?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Jt(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Zt(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function en(e,t,n){var r,i,o,a;return this.isValid()?(r=Dt(e,this),r.isValid()?(i=6e4*(r.utcOffset()-this.utcOffset()),t=M(t),"year"===t||"month"===t||"quarter"===t?(a=tn(this,r),"quarter"===t?a/=3:"year"===t&&(a/=12)):(o=this-r,a="second"===t?o/1e3:"minute"===t?o/6e4:"hour"===t?o/36e5:"day"===t?(o-i)/864e5:"week"===t?(o-i)/6048e5:o),n?a:g(a)):NaN):NaN}function tn(e,t){var n,r,i=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(i,"months");return 0>t-o?(n=e.clone().add(i-1,"months"),r=(t-o)/(o-n)):(n=e.clone().add(i+1,"months"),r=(t-o)/(n-o)),-(i+r)||0}function nn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function rn(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?S(Date.prototype.toISOString)?this.toDate().toISOString():z(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):z(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function on(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=z(this,t);return this.localeData().postformat(n)}function an(e,t){return this.isValid()&&(y(e)&&e.isValid()||yt(e).isValid())?Bt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function sn(e){return this.from(yt(),e)}function ln(e,t){return this.isValid()&&(y(e)&&e.isValid()||yt(e).isValid())?Bt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function un(e){return this.to(yt(),e)}function cn(e){var t;return void 0===e?this._locale._abbr:(t=et(e),null!=t&&(this._locale=t),this)}function pn(){return this._locale}function dn(e){switch(e=M(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function fn(e){return e=M(e),void 0===e||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function hn(){return this._d.valueOf()-6e4*(this._offset||0)}function mn(){return Math.floor(this.valueOf()/1e3)}function bn(){return new Date(this.valueOf())}function yn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function gn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function _n(){return this.isValid()?this.toISOString():null}function vn(){return d(this)}function Tn(){return l({},p(this))}function En(){return p(this).overflow}function wn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Sn(e,t){V(0,[e,e.length],0,t)}function An(e){return On.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Dn(e){return On.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Cn(){return Ee(this.year(),1,4)}function In(){var e=this.localeData()._week;return Ee(this.year(),e.dow,e.doy)}function On(e,t,n,r,i){var o;return null==e?Te(this,r,i).year:(o=Ee(e,r,i),t>o&&(t=o),Nn.call(this,e,t,n,r,i))}function Nn(e,t,n,r,i){var o=ve(e,t,n,r,i),a=ge(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function xn(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Rn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function kn(e,t){t[ri]=_(1e3*("0."+e))}function Ln(){return this._isUTC?"UTC":""}function Mn(){return this._isUTC?"Coordinated Universal Time":""}function Un(e){return yt(1e3*e)}function jn(){return yt.apply(null,arguments).parseZone()}function Pn(e){return e}function Bn(e,t,n,r){var i=et(),o=u().set(r,t);return i[n](o,e)}function Fn(e,t,n){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return Bn(e,t,n,"month");var r,i=[];for(r=0;12>r;r++)i[r]=Bn(e,r,n,"month");return i}function qn(e,t,n,r){"boolean"==typeof e?("number"==typeof t&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,"number"==typeof t&&(n=t,t=void 0),t=t||"");var i=et(),o=e?i._week.dow:0;if(null!=n)return Bn(t,(n+o)%7,r,"day");var a,s=[];for(a=0;7>a;a++)s[a]=Bn(t,(a+o)%7,r,"day");return s}function Yn(e,t){return Fn(e,t,"months")}function Wn(e,t){return Fn(e,t,"monthsShort")}function Hn(e,t,n){return qn(e,t,n,"weekdays")}function Vn(e,t,n){return qn(e,t,n,"weekdaysShort")}function Qn(e,t,n){return qn(e,t,n,"weekdaysMin");
}function Xn(){var e=this._data;return this._milliseconds=Xi(this._milliseconds),this._days=Xi(this._days),this._months=Xi(this._months),e.milliseconds=Xi(e.milliseconds),e.seconds=Xi(e.seconds),e.minutes=Xi(e.minutes),e.hours=Xi(e.hours),e.months=Xi(e.months),e.years=Xi(e.years),this}function zn(e,t,n,r){var i=Bt(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Gn(e,t){return zn(this,e,t,1)}function $n(e,t){return zn(this,e,t,-1)}function Kn(e){return 0>e?Math.floor(e):Math.ceil(e)}function Jn(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||0>=o&&0>=a&&0>=s||(o+=864e5*Kn(er(s)+a),a=0,s=0),l.milliseconds=o%1e3,e=g(o/1e3),l.seconds=e%60,t=g(e/60),l.minutes=t%60,n=g(t/60),l.hours=n%24,a+=g(n/24),i=g(Zn(a)),s+=i,a-=Kn(er(i)),r=g(s/12),s%=12,l.days=a,l.months=s,l.years=r,this}function Zn(e){return 4800*e/146097}function er(e){return 146097*e/4800}function tr(e){var t,n,r=this._milliseconds;if(e=M(e),"month"===e||"year"===e)return t=this._days+r/864e5,n=this._months+Zn(t),"month"===e?n:n/12;switch(t=this._days+Math.round(er(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function nr(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*_(this._months/12)}function rr(e){return function(){return this.as(e)}}function ir(e){return e=M(e),this[e+"s"]()}function or(e){return function(){return this._data[e]}}function ar(){return g(this.days()/7)}function sr(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function lr(e,t,n){var r=Bt(e).abs(),i=uo(r.as("s")),o=uo(r.as("m")),a=uo(r.as("h")),s=uo(r.as("d")),l=uo(r.as("M")),u=uo(r.as("y")),c=i<co.s&&["s",i]||1>=o&&["m"]||o<co.m&&["mm",o]||1>=a&&["h"]||a<co.h&&["hh",a]||1>=s&&["d"]||s<co.d&&["dd",s]||1>=l&&["M"]||l<co.M&&["MM",l]||1>=u&&["y"]||["yy",u];return c[2]=t,c[3]=+e>0,c[4]=n,sr.apply(null,c)}function ur(e){return void 0===e?uo:"function"==typeof e&&(uo=e,!0)}function cr(e,t){return void 0!==co[e]&&(void 0===t?co[e]:(co[e]=t,!0))}function pr(e){var t=this.localeData(),n=lr(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function dr(){var e,t,n,r=po(this._milliseconds)/1e3,i=po(this._days),o=po(this._months);e=g(r/60),t=g(e/60),r%=60,e%=60,n=g(o/12),o%=12;var a=n,s=o,l=i,u=t,c=e,p=r,d=this.asSeconds();return d?(0>d?"-":"")+"P"+(a?a+"Y":"")+(s?s+"M":"")+(l?l+"D":"")+(u||c||p?"T":"")+(u?u+"H":"")+(c?c+"M":"")+(p?p+"S":""):"P0D"}var fr,hr;hr=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;n>r;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var mr=e.momentProperties=[],br=!1,yr={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var gr;gr=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)s(e,t)&&n.push(t);return n};var _r,vr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Tr={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Er="Invalid date",wr="%d",Sr=/\d{1,2}/,Ar={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Dr={},Cr={},Ir=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Or=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Nr={},xr={},Rr=/\d/,kr=/\d\d/,Lr=/\d{3}/,Mr=/\d{4}/,Ur=/[+-]?\d{6}/,jr=/\d\d?/,Pr=/\d\d\d\d?/,Br=/\d\d\d\d\d\d?/,Fr=/\d{1,3}/,qr=/\d{1,4}/,Yr=/[+-]?\d{1,6}/,Wr=/\d+/,Hr=/[+-]?\d+/,Vr=/Z|[+-]\d\d:?\d\d/gi,Qr=/Z|[+-]\d\d(?::?\d\d)?/gi,Xr=/[+-]?\d+(\.\d{1,3})?/,zr=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Gr={},$r={},Kr=0,Jr=1,Zr=2,ei=3,ti=4,ni=5,ri=6,ii=7,oi=8;_r=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},V("M",["MM",2],"Mo",function(){return this.month()+1}),V("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),V("MMMM",0,0,function(e){return this.localeData().months(this,e)}),L("month","M"),j("month",8),$("M",jr),$("MM",jr,kr),$("MMM",function(e,t){return t.monthsShortRegex(e)}),$("MMMM",function(e,t){return t.monthsRegex(e)}),ee(["M","MM"],function(e,t){t[Jr]=_(e)-1}),ee(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[Jr]=i:p(n).invalidMonth=e});var ai=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,si="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),li="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ui=zr,ci=zr;V("Y",0,0,function(){var e=this.year();return 9999>=e?""+e:"+"+e}),V(0,["YY",2],0,function(){return this.year()%100}),V(0,["YYYY",4],0,"year"),V(0,["YYYYY",5],0,"year"),V(0,["YYYYYY",6,!0],0,"year"),L("year","y"),j("year",1),$("Y",Hr),$("YY",jr,kr),$("YYYY",qr,Mr),$("YYYYY",Yr,Ur),$("YYYYYY",Yr,Ur),ee(["YYYYY","YYYYYY"],Kr),ee("YYYY",function(t,n){n[Kr]=2===t.length?e.parseTwoDigitYear(t):_(t)}),ee("YY",function(t,n){n[Kr]=e.parseTwoDigitYear(t)}),ee("Y",function(e,t){t[Kr]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return _(e)+(_(e)>68?1900:2e3)};var pi=B("FullYear",!0);V("w",["ww",2],"wo","week"),V("W",["WW",2],"Wo","isoWeek"),L("week","w"),L("isoWeek","W"),j("week",5),j("isoWeek",5),$("w",jr),$("ww",jr,kr),$("W",jr),$("WW",jr,kr),te(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=_(e)});var di={dow:0,doy:6};V("d",0,"do","day"),V("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),V("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),V("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),V("e",0,0,"weekday"),V("E",0,0,"isoWeekday"),L("day","d"),L("weekday","e"),L("isoWeekday","E"),j("day",11),j("weekday",11),j("isoWeekday",11),$("d",jr),$("e",jr),$("E",jr),$("dd",function(e,t){return t.weekdaysMinRegex(e)}),$("ddd",function(e,t){return t.weekdaysShortRegex(e)}),$("dddd",function(e,t){return t.weekdaysRegex(e)}),te(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:p(n).invalidWeekday=e}),te(["d","e","E"],function(e,t,n,r){t[r]=_(e)});var fi="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),hi="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),mi="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),bi=zr,yi=zr,gi=zr;V("H",["HH",2],0,"hour"),V("h",["hh",2],0,Ye),V("k",["kk",2],0,We),V("hmm",0,0,function(){return""+Ye.apply(this)+H(this.minutes(),2)}),V("hmmss",0,0,function(){return""+Ye.apply(this)+H(this.minutes(),2)+H(this.seconds(),2)}),V("Hmm",0,0,function(){return""+this.hours()+H(this.minutes(),2)}),V("Hmmss",0,0,function(){return""+this.hours()+H(this.minutes(),2)+H(this.seconds(),2)}),He("a",!0),He("A",!1),L("hour","h"),j("hour",13),$("a",Ve),$("A",Ve),$("H",jr),$("h",jr),$("HH",jr,kr),$("hh",jr,kr),$("hmm",Pr),$("hmmss",Br),$("Hmm",Pr),$("Hmmss",Br),ee(["H","HH"],ei),ee(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),ee(["h","hh"],function(e,t,n){t[ei]=_(e),p(n).bigHour=!0}),ee("hmm",function(e,t,n){var r=e.length-2;t[ei]=_(e.substr(0,r)),t[ti]=_(e.substr(r)),p(n).bigHour=!0}),ee("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[ei]=_(e.substr(0,r)),t[ti]=_(e.substr(r,2)),t[ni]=_(e.substr(i)),p(n).bigHour=!0}),ee("Hmm",function(e,t,n){var r=e.length-2;t[ei]=_(e.substr(0,r)),t[ti]=_(e.substr(r))}),ee("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[ei]=_(e.substr(0,r)),t[ti]=_(e.substr(r,2)),t[ni]=_(e.substr(i))});var _i,vi=/[ap]\.?m?\.?/i,Ti=B("Hours",!0),Ei={calendar:vr,longDateFormat:Tr,invalidDate:Er,ordinal:wr,ordinalParse:Sr,relativeTime:Ar,months:si,monthsShort:li,week:di,weekdays:fi,weekdaysMin:mi,weekdaysShort:hi,meridiemParse:vi},wi={},Si=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Ai=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Di=/Z|[+-]\d\d(?::?\d\d)?/,Ci=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ii=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Oi=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=E("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),e.ISO_8601=function(){};var Ni=E("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=yt.apply(null,arguments);return this.isValid()&&e.isValid()?this>e?this:e:f()}),xi=E("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=yt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:f()}),Ri=function(){return Date.now?Date.now():+new Date};St("Z",":"),St("ZZ",""),$("Z",Qr),$("ZZ",Qr),ee(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=At(Qr,e)});var ki=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Li=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Mi=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Bt.fn=Tt.prototype;var Ui=Wt(1,"add"),ji=Wt(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Pi=E("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});V(0,["gg",2],0,function(){return this.weekYear()%100}),V(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Sn("gggg","weekYear"),Sn("ggggg","weekYear"),Sn("GGGG","isoWeekYear"),Sn("GGGGG","isoWeekYear"),L("weekYear","gg"),L("isoWeekYear","GG"),j("weekYear",1),j("isoWeekYear",1),$("G",Hr),$("g",Hr),$("GG",jr,kr),$("gg",jr,kr),$("GGGG",qr,Mr),$("gggg",qr,Mr),$("GGGGG",Yr,Ur),$("ggggg",Yr,Ur),te(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=_(e)}),te(["gg","GG"],function(t,n,r,i){n[i]=e.parseTwoDigitYear(t)}),V("Q",0,"Qo","quarter"),L("quarter","Q"),j("quarter",7),$("Q",Rr),ee("Q",function(e,t){t[Jr]=3*(_(e)-1)}),V("D",["DD",2],"Do","date"),L("date","D"),j("date",9),$("D",jr),$("DD",jr,kr),$("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),ee(["D","DD"],Zr),ee("Do",function(e,t){t[Zr]=_(e.match(jr)[0],10)});var Bi=B("Date",!0);V("DDD",["DDDD",3],"DDDo","dayOfYear"),L("dayOfYear","DDD"),j("dayOfYear",4),$("DDD",Fr),$("DDDD",Lr),ee(["DDD","DDDD"],function(e,t,n){n._dayOfYear=_(e)}),V("m",["mm",2],0,"minute"),L("minute","m"),j("minute",14),$("m",jr),$("mm",jr,kr),ee(["m","mm"],ti);var Fi=B("Minutes",!1);V("s",["ss",2],0,"second"),L("second","s"),j("second",15),$("s",jr),$("ss",jr,kr),ee(["s","ss"],ni);var qi=B("Seconds",!1);V("S",0,0,function(){return~~(this.millisecond()/100)}),V(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),V(0,["SSS",3],0,"millisecond"),V(0,["SSSS",4],0,function(){return 10*this.millisecond()}),V(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),V(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),V(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),V(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),V(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),L("millisecond","ms"),j("millisecond",16),$("S",Fr,Rr),$("SS",Fr,kr),$("SSS",Fr,Lr);var Yi;for(Yi="SSSS";Yi.length<=9;Yi+="S")$(Yi,Wr);for(Yi="S";Yi.length<=9;Yi+="S")ee(Yi,kn);var Wi=B("Milliseconds",!1);V("z",0,0,"zoneAbbr"),V("zz",0,0,"zoneName");var Hi=b.prototype;Hi.add=Ui,Hi.calendar=Qt,Hi.clone=Xt,Hi.diff=en,Hi.endOf=fn,Hi.format=on,Hi.from=an,Hi.fromNow=sn,Hi.to=ln,Hi.toNow=un,Hi.get=Y,Hi.invalidAt=En,Hi.isAfter=zt,Hi.isBefore=Gt,Hi.isBetween=$t,Hi.isSame=Kt,Hi.isSameOrAfter=Jt,Hi.isSameOrBefore=Zt,Hi.isValid=vn,Hi.lang=Pi,Hi.locale=cn,Hi.localeData=pn,Hi.max=xi,Hi.min=Ni,Hi.parsingFlags=Tn,Hi.set=W,Hi.startOf=dn,Hi.subtract=ji,Hi.toArray=yn,Hi.toObject=gn,Hi.toDate=bn,Hi.toISOString=rn,Hi.toJSON=_n,Hi.toString=nn,Hi.unix=mn,Hi.valueOf=hn,Hi.creationData=wn,Hi.year=pi,Hi.isLeapYear=be,Hi.weekYear=An,Hi.isoWeekYear=Dn,Hi.quarter=Hi.quarters=xn,Hi.month=ue,Hi.daysInMonth=ce,Hi.week=Hi.weeks=De,Hi.isoWeek=Hi.isoWeeks=Ce,Hi.weeksInYear=In,Hi.isoWeeksInYear=Cn,Hi.date=Bi,Hi.day=Hi.days=Me,Hi.weekday=Ue,Hi.isoWeekday=je,Hi.dayOfYear=Rn,Hi.hour=Hi.hours=Ti,Hi.minute=Hi.minutes=Fi,Hi.second=Hi.seconds=qi,Hi.millisecond=Hi.milliseconds=Wi,Hi.utcOffset=It,Hi.utc=Nt,Hi.local=xt,Hi.parseZone=Rt,Hi.hasAlignedHourOffset=kt,Hi.isDST=Lt,Hi.isLocal=Ut,Hi.isUtcOffset=jt,Hi.isUtc=Pt,Hi.isUTC=Pt,Hi.zoneAbbr=Ln,Hi.zoneName=Mn,Hi.dates=E("dates accessor is deprecated. Use date instead.",Bi),Hi.months=E("months accessor is deprecated. Use month instead",ue),Hi.years=E("years accessor is deprecated. Use year instead",pi),Hi.zone=E("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Ot),Hi.isDSTShifted=E("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Mt);var Vi=Hi,Qi=C.prototype;Qi.calendar=I,Qi.longDateFormat=O,Qi.invalidDate=N,Qi.ordinal=x,Qi.preparse=Pn,Qi.postformat=Pn,Qi.relativeTime=R,Qi.pastFuture=k,Qi.set=A,Qi.months=ie,Qi.monthsShort=oe,Qi.monthsParse=se,Qi.monthsRegex=de,Qi.monthsShortRegex=pe,Qi.week=we,Qi.firstDayOfYear=Ae,Qi.firstDayOfWeek=Se,Qi.weekdays=Ne,Qi.weekdaysMin=Re,Qi.weekdaysShort=xe,Qi.weekdaysParse=Le,Qi.weekdaysRegex=Pe,Qi.weekdaysShortRegex=Be,Qi.weekdaysMinRegex=Fe,Qi.isPM=Qe,Qi.meridiem=Xe,Ke("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===_(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=E("moment.lang is deprecated. Use moment.locale instead.",Ke),e.langData=E("moment.langData is deprecated. Use moment.localeData instead.",et);var Xi=Math.abs,zi=rr("ms"),Gi=rr("s"),$i=rr("m"),Ki=rr("h"),Ji=rr("d"),Zi=rr("w"),eo=rr("M"),to=rr("y"),no=or("milliseconds"),ro=or("seconds"),io=or("minutes"),oo=or("hours"),ao=or("days"),so=or("months"),lo=or("years"),uo=Math.round,co={s:45,m:45,h:22,d:26,M:11},po=Math.abs,fo=Tt.prototype;fo.abs=Xn,fo.add=Gn,fo.subtract=$n,fo.as=tr,fo.asMilliseconds=zi,fo.asSeconds=Gi,fo.asMinutes=$i,fo.asHours=Ki,fo.asDays=Ji,fo.asWeeks=Zi,fo.asMonths=eo,fo.asYears=to,fo.valueOf=nr,fo._bubble=Jn,fo.get=ir,fo.milliseconds=no,fo.seconds=ro,fo.minutes=io,fo.hours=oo,fo.days=ao,fo.weeks=ar,fo.months=so,fo.years=lo,fo.humanize=pr,fo.toISOString=dr,fo.toString=dr,fo.toJSON=dr,fo.locale=cn,fo.localeData=pn,fo.toIsoString=E("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",dr),fo.lang=Pi,V("X",0,0,"unix"),V("x",0,0,"valueOf"),$("x",Hr),$("X",Xr),ee("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),ee("x",function(e,t,n){n._d=new Date(_(e))}),e.version="2.15.2",t(yt),e.fn=Vi,e.min=_t,e.max=vt,e.now=Ri,e.utc=u,e.unix=Un,e.months=Yn,e.isDate=o,e.locale=Ke,e.invalid=f,e.duration=Bt,e.isMoment=y,e.weekdays=Hn,e.parseZone=jn,e.localeData=et,e.isDuration=Et,e.monthsShort=Wn,e.weekdaysMin=Qn,e.defineLocale=Je,e.updateLocale=Ze,e.locales=tt,e.weekdaysShort=Vn,e.normalizeUnits=M,e.relativeTimeRounding=ur,e.relativeTimeThreshold=cr,e.calendarFormat=Vt,e.prototype=Vi;var ho=e;return ho}),!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=!!e&&"length"in e&&e.length,n=oe.type(e);return"function"===n||oe.isWindow(e)?!1:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){if(oe.isFunction(t))return oe.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return oe.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(me.test(t))return oe.filter(t,e,n);t=oe.filter(t,e)}return oe.grep(e,function(e){return Z.call(t,e)>-1!==n})}function i(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t={};return oe.each(e.match(Te)||[],function(e,n){t[n]=!0}),t}function a(){G.removeEventListener("DOMContentLoaded",a),e.removeEventListener("load",a),oe.ready()}function s(){this.expando=oe.expando+s.uid++}function l(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Ie,"-$&").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Ce.test(n)?oe.parseJSON(n):n}catch(i){}De.set(e,t,n)}else n=void 0;return n}function u(e,t,n,r){var i,o=1,a=20,s=r?function(){return r.cur()}:function(){return oe.css(e,t,"")},l=s(),u=n&&n[3]||(oe.cssNumber[t]?"":"px"),c=(oe.cssNumber[t]||"px"!==u&&+l)&&Ne.exec(oe.css(e,t));if(c&&c[3]!==u){u=u||c[3],n=n||[],c=+l||1;do o=o||".5",c/=o,oe.style(e,t,c+u);while(o!==(o=s()/l)&&1!==o&&--a)}return n&&(c=+c||+l||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=u,r.start=c,r.end=i)),i}function c(e,t){var n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&oe.nodeName(e,t)?oe.merge([e],n):n}function p(e,t){for(var n=0,r=e.length;r>n;n++)Ae.set(e[n],"globalEval",!t||Ae.get(t[n],"globalEval"))}function d(e,t,n,r,i){for(var o,a,s,l,u,d,f=t.createDocumentFragment(),h=[],m=0,b=e.length;b>m;m++)if(o=e[m],o||0===o)if("object"===oe.type(o))oe.merge(h,o.nodeType?[o]:o);else if(je.test(o)){for(a=a||f.appendChild(t.createElement("div")),s=(Le.exec(o)||["",""])[1].toLowerCase(),l=Ue[s]||Ue._default,a.innerHTML=l[1]+oe.htmlPrefilter(o)+l[2],d=l[0];d--;)a=a.lastChild;oe.merge(h,a.childNodes),a=f.firstChild,a.textContent=""}else h.push(t.createTextNode(o));for(f.textContent="",m=0;o=h[m++];)if(r&&oe.inArray(o,r)>-1)i&&i.push(o);else if(u=oe.contains(o.ownerDocument,o),a=c(f.appendChild(o),"script"),u&&p(a),n)for(d=0;o=a[d++];)Me.test(o.type||"")&&n.push(o);return f}function f(){return!0}function h(){return!1}function m(){try{return G.activeElement}catch(e){}}function b(e,t,n,r,i,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(s in t)b(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),i===!1)i=h;else if(!i)return e;return 1===o&&(a=i,i=function(e){return oe().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=oe.guid++)),e.each(function(){oe.event.add(this,t,i,r,n)})}function y(e,t){return oe.nodeName(e,"table")&&oe.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function g(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function _(e){var t=He.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function v(e,t){var n,r,i,o,a,s,l,u;if(1===t.nodeType){if(Ae.hasData(e)&&(o=Ae.access(e),a=Ae.set(t,o),u=o.events)){delete a.handle,a.events={};for(i in u)for(n=0,r=u[i].length;r>n;n++)oe.event.add(t,i,u[i][n])}De.hasData(e)&&(s=De.access(e),l=oe.extend({},s),De.set(t,l))}}function T(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ke.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function E(e,t,n,r){t=K.apply([],t);var i,o,a,s,l,u,p=0,f=e.length,h=f-1,m=t[0],b=oe.isFunction(m);if(b||f>1&&"string"==typeof m&&!re.checkClone&&We.test(m))return e.each(function(i){var o=e.eq(i);b&&(t[0]=m.call(this,i,o.html())),E(o,t,n,r)});if(f&&(i=d(t,e[0].ownerDocument,!1,e,r),o=i.firstChild,1===i.childNodes.length&&(i=o),o||r)){for(a=oe.map(c(i,"script"),g),s=a.length;f>p;p++)l=i,p!==h&&(l=oe.clone(l,!0,!0),s&&oe.merge(a,c(l,"script"))),n.call(e[p],l,p);if(s)for(u=a[a.length-1].ownerDocument,oe.map(a,_),p=0;s>p;p++)l=a[p],Me.test(l.type||"")&&!Ae.access(l,"globalEval")&&oe.contains(u,l)&&(l.src?oe._evalUrl&&oe._evalUrl(l.src):oe.globalEval(l.textContent.replace(Ve,"")))}return e}function w(e,t,n){for(var r,i=t?oe.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||oe.cleanData(c(r)),r.parentNode&&(n&&oe.contains(r.ownerDocument,r)&&p(c(r,"script")),r.parentNode.removeChild(r));return e}function S(e,t){var n=oe(t.createElement(e)).appendTo(t.body),r=oe.css(n[0],"display");return n.detach(),r}function A(e){var t=G,n=Xe[e];return n||(n=S(e,t),"none"!==n&&n||(Qe=(Qe||oe("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Qe[0].contentDocument,t.write(),t.close(),n=S(e,t),Qe.detach()),Xe[e]=n),n}function D(e,t,n){var r,i,o,a,s=e.style;return n=n||$e(e),a=n?n.getPropertyValue(t)||n[t]:void 0,""!==a&&void 0!==a||oe.contains(e.ownerDocument,e)||(a=oe.style(e,t)),n&&!re.pixelMarginRight()&&Ge.test(a)&&ze.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o),void 0!==a?a+"":a}function C(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function I(e){if(e in rt)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=nt.length;n--;)if(e=nt[n]+t,e in rt)return e}function O(e,t,n){var r=Ne.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function N(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=oe.css(e,n+xe[o],!0,i)),r?("content"===n&&(a-=oe.css(e,"padding"+xe[o],!0,i)),"margin"!==n&&(a-=oe.css(e,"border"+xe[o]+"Width",!0,i))):(a+=oe.css(e,"padding"+xe[o],!0,i),"padding"!==n&&(a+=oe.css(e,"border"+xe[o]+"Width",!0,i)));return a}function x(t,n,r){var i=!0,o="width"===n?t.offsetWidth:t.offsetHeight,a=$e(t),s="border-box"===oe.css(t,"boxSizing",!1,a);if(G.msFullscreenElement&&e.top!==e&&t.getClientRects().length&&(o=Math.round(100*t.getBoundingClientRect()[n])),0>=o||null==o){if(o=D(t,n,a),(0>o||null==o)&&(o=t.style[n]),Ge.test(o))return o;i=s&&(re.boxSizingReliable()||o===t.style[n]),o=parseFloat(o)||0}return o+N(t,n,r||(s?"border":"content"),i,a)+"px"}function R(e,t){for(var n,r,i,o=[],a=0,s=e.length;s>a;a++)r=e[a],r.style&&(o[a]=Ae.get(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Re(r)&&(o[a]=Ae.access(r,"olddisplay",A(r.nodeName)))):(i=Re(r),"none"===n&&i||Ae.set(r,"olddisplay",i?n:oe.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function k(e,t,n,r,i){return new k.prototype.init(e,t,n,r,i)}function L(){return e.setTimeout(function(){it=void 0}),it=oe.now()}function M(e,t){var n,r=0,i={height:e};for(t=t?1:0;4>r;r+=2-t)n=xe[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function U(e,t,n){for(var r,i=(B.tweeners[t]||[]).concat(B.tweeners["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,t,e))return r}function j(e,t,n){var r,i,o,a,s,l,u,c,p=this,d={},f=e.style,h=e.nodeType&&Re(e),m=Ae.get(e,"fxshow");n.queue||(s=oe._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,p.always(function(){p.always(function(){s.unqueued--,oe.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],u=oe.css(e,"display"),c="none"===u?Ae.get(e,"olddisplay")||A(e.nodeName):u,"inline"===c&&"none"===oe.css(e,"float")&&(f.display="inline-block")),n.overflow&&(f.overflow="hidden",p.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],at.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;h=!0}d[r]=m&&m[r]||oe.style(e,r)}else u=void 0;if(oe.isEmptyObject(d))"inline"===("none"===u?A(e.nodeName):u)&&(f.display=u);else{m?"hidden"in m&&(h=m.hidden):m=Ae.access(e,"fxshow",{}),o&&(m.hidden=!h),h?oe(e).show():p.done(function(){oe(e).hide()}),p.done(function(){var t;Ae.remove(e,"fxshow");for(t in d)oe.style(e,t,d[t])});for(r in d)a=U(h?m[r]:0,r,p),r in m||(m[r]=a.start,h&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function P(e,t){var n,r,i,o,a;for(n in e)if(r=oe.camelCase(n),i=t[r],o=e[n],oe.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=oe.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function B(e,t,n){var r,i,o=0,a=B.prefilters.length,s=oe.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=it||L(),n=Math.max(0,u.startTime+u.duration-t),r=n/u.duration||0,o=1-r,a=0,l=u.tweens.length;l>a;a++)u.tweens[a].run(o);return s.notifyWith(e,[u,o,n]),1>o&&l?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:oe.extend({},t),opts:oe.extend(!0,{specialEasing:{},easing:oe.easing._default},n),originalProperties:t,originalOptions:n,startTime:it||L(),duration:n.duration,tweens:[],createTween:function(t,n){var r=oe.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)u.tweens[n].run(1);return t?(s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),this}}),c=u.props;for(P(c,u.opts.specialEasing);a>o;o++)if(r=B.prefilters[o].call(u,e,c,u.opts))return oe.isFunction(r.stop)&&(oe._queueHooks(u.elem,u.opts.queue).stop=oe.proxy(r.stop,r)),r;return oe.map(c,U,u),oe.isFunction(u.opts.start)&&u.opts.start.call(e,u),oe.fx.timer(oe.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function F(e){return e.getAttribute&&e.getAttribute("class")||""}function q(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(Te)||[];if(oe.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Y(e,t,n,r){function i(s){var l;return o[s]=!0,oe.each(e[s]||[],function(e,s){var u=s(t,n,r);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(t.dataTypes.unshift(u),i(u),!1)}),l}var o={},a=e===Dt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function W(e,t){var n,r,i=oe.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&oe.extend(!0,e,r),e}function H(e,t,n){for(var r,i,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){l.unshift(i);break}if(l[0]in n)o=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){o=i;break}a||(a=i)}o=o||a}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function V(e,t,n,r){var i,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=u[l+" "+o]||u["* "+o],!a)for(i in u)if(s=i.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[i]:u[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(p){return{state:"parsererror",error:a?p:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function Q(e,t,n,r){var i;if(oe.isArray(t))oe.each(t,function(t,i){n||Nt.test(e)?r(e,i):Q(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==oe.type(t))r(e,t);else for(i in t)Q(e+"["+i+"]",t[i],n,r)}function X(e){return oe.isWindow(e)?e:9===e.nodeType&&e.defaultView}var z=[],G=e.document,$=z.slice,K=z.concat,J=z.push,Z=z.indexOf,ee={},te=ee.toString,ne=ee.hasOwnProperty,re={},ie="2.2.2",oe=function(e,t){return new oe.fn.init(e,t)},ae=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,se=/^-ms-/,le=/-([\da-z])/gi,ue=function(e,t){return t.toUpperCase()};oe.fn=oe.prototype={jquery:ie,constructor:oe,selector:"",length:0,toArray:function(){return $.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:$.call(this)},pushStack:function(e){var t=oe.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return oe.each(this,e)},map:function(e){return this.pushStack(oe.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack($.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:J,sort:z.sort,splice:z.splice},oe.extend=oe.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||oe.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],r=e[t],a!==r&&(u&&r&&(oe.isPlainObject(r)||(i=oe.isArray(r)))?(i?(i=!1,o=n&&oe.isArray(n)?n:[]):o=n&&oe.isPlainObject(n)?n:{},a[t]=oe.extend(u,o,r)):void 0!==r&&(a[t]=r));return a},oe.extend({expando:"jQuery"+(ie+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===oe.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!oe.isArray(e)&&t-parseFloat(t)+1>=0},isPlainObject:function(e){var t;if("object"!==oe.type(e)||e.nodeType||oe.isWindow(e))return!1;if(e.constructor&&!ne.call(e,"constructor")&&!ne.call(e.constructor.prototype||{},"isPrototypeOf"))return!1;for(t in e);return void 0===t||ne.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ee[te.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=oe.trim(e),e&&(1===e.indexOf("use strict")?(t=G.createElement("script"),t.text=e,G.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(se,"ms-").replace(le,ue)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var r,i=0;if(n(e))for(r=e.length;r>i&&t.call(e[i],i,e[i])!==!1;i++);else for(i in e)if(t.call(e[i],i,e[i])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ae,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?oe.merge(r,"string"==typeof e?[e]:e):J.call(r,e)),r},inArray:function(e,t,n){return null==t?-1:Z.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;a>o;o++)r=!t(e[o],o),r!==s&&i.push(e[o]);return i},map:function(e,t,r){var i,o,a=0,s=[];if(n(e))for(i=e.length;i>a;a++)o=t(e[a],a,r),
null!=o&&s.push(o);else for(a in e)o=t(e[a],a,r),null!=o&&s.push(o);return K.apply([],s)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(n=e[t],t=e,e=n),oe.isFunction(e)?(r=$.call(arguments,2),i=function(){return e.apply(t||this,r.concat($.call(arguments)))},i.guid=e.guid=e.guid||oe.guid++,i):void 0},now:Date.now,support:re}),"function"==typeof Symbol&&(oe.fn[Symbol.iterator]=z[Symbol.iterator]),oe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ee["[object "+t+"]"]=t.toLowerCase()});var ce=function(e){function t(e,t,n,r){var i,o,a,s,l,u,p,f,h=t&&t.ownerDocument,m=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==m&&9!==m&&11!==m)return n;if(!r&&((t?t.ownerDocument||t:F)!==R&&x(t),t=t||R,L)){if(11!==m&&(u=ye.exec(e)))if(i=u[1]){if(9===m){if(!(a=t.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(h&&(a=h.getElementById(i))&&P(t,a)&&a.id===i)return n.push(a),n}else{if(u[2])return J.apply(n,t.getElementsByTagName(e)),n;if((i=u[3])&&T.getElementsByClassName&&t.getElementsByClassName)return J.apply(n,t.getElementsByClassName(i)),n}if(T.qsa&&!V[e+" "]&&(!M||!M.test(e))){if(1!==m)h=t,f=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(_e,"\\$&"):t.setAttribute("id",s=B),p=A(e),o=p.length,l=de.test(s)?"#"+s:"[id='"+s+"']";o--;)p[o]=l+" "+d(p[o]);f=p.join(","),h=ge.test(e)&&c(t.parentNode)||t}if(f)try{return J.apply(n,h.querySelectorAll(f)),n}catch(b){}finally{s===B&&t.removeAttribute("id")}}}return C(e.replace(se,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>E.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[B]=!0,e}function i(e){var t=R.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=n.length;r--;)E.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||X)-(~e.sourceIndex||X);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function p(){}function d(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function f(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=Y++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,l,u,c=[q,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(u=t[B]||(t[B]={}),l=u[t.uniqueID]||(u[t.uniqueID]={}),(s=l[r])&&s[0]===q&&s[1]===o)return c[2]=s[2];if(l[r]=c,c[2]=e(t,n,a))return!0}}}function h(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function m(e,n,r){for(var i=0,o=n.length;o>i;i++)t(e,n[i],r);return r}function b(e,t,n,r,i){for(var o,a=[],s=0,l=e.length,u=null!=t;l>s;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),u&&t.push(s)));return a}function y(e,t,n,i,o,a){return i&&!i[B]&&(i=y(i)),o&&!o[B]&&(o=y(o,a)),r(function(r,a,s,l){var u,c,p,d=[],f=[],h=a.length,y=r||m(t||"*",s.nodeType?[s]:s,[]),g=!e||!r&&t?y:b(y,d,e,s,l),_=n?o||(r?e:h||i)?[]:a:g;if(n&&n(g,_,s,l),i)for(u=b(_,f),i(u,[],s,l),c=u.length;c--;)(p=u[c])&&(_[f[c]]=!(g[f[c]]=p));if(r){if(o||e){if(o){for(u=[],c=_.length;c--;)(p=_[c])&&u.push(g[c]=p);o(null,_=[],u,l)}for(c=_.length;c--;)(p=_[c])&&(u=o?ee(r,p):d[c])>-1&&(r[u]=!(a[u]=p))}}else _=b(_===a?_.splice(h,_.length):_),o?o(null,a,_,l):J.apply(a,_)})}function g(e){for(var t,n,r,i=e.length,o=E.relative[e[0].type],a=o||E.relative[" "],s=o?1:0,l=f(function(e){return e===t},a,!0),u=f(function(e){return ee(t,e)>-1},a,!0),c=[function(e,n,r){var i=!o&&(r||n!==I)||((t=n).nodeType?l(e,n,r):u(e,n,r));return t=null,i}];i>s;s++)if(n=E.relative[e[s].type])c=[f(h(c),n)];else{if(n=E.filter[e[s].type].apply(null,e[s].matches),n[B]){for(r=++s;i>r&&!E.relative[e[r].type];r++);return y(s>1&&h(c),s>1&&d(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(se,"$1"),n,r>s&&g(e.slice(s,r)),i>r&&g(e=e.slice(r)),i>r&&d(e))}c.push(n)}return h(c)}function _(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,l,u){var c,p,d,f=0,h="0",m=r&&[],y=[],g=I,_=r||o&&E.find.TAG("*",u),v=q+=null==g?1:Math.random()||.1,T=_.length;for(u&&(I=a===R||a||u);h!==T&&null!=(c=_[h]);h++){if(o&&c){for(p=0,a||c.ownerDocument===R||(x(c),s=!L);d=e[p++];)if(d(c,a||R,s)){l.push(c);break}u&&(q=v)}i&&((c=!d&&c)&&f--,r&&m.push(c))}if(f+=h,i&&h!==f){for(p=0;d=n[p++];)d(m,y,a,s);if(r){if(f>0)for(;h--;)m[h]||y[h]||(y[h]=$.call(l));y=b(y)}J.apply(l,y),u&&!r&&y.length>0&&f+n.length>1&&t.uniqueSort(l)}return u&&(q=v,I=g),m};return i?r(a):a}var v,T,E,w,S,A,D,C,I,O,N,x,R,k,L,M,U,j,P,B="sizzle"+1*new Date,F=e.document,q=0,Y=0,W=n(),H=n(),V=n(),Q=function(e,t){return e===t&&(N=!0),0},X=1<<31,z={}.hasOwnProperty,G=[],$=G.pop,K=G.push,J=G.push,Z=G.slice,ee=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",oe=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ie+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),se=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ue=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ce=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),pe=new RegExp(oe),de=new RegExp("^"+re+"$"),fe={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re+"|[*])"),ATTR:new RegExp("^"+ie),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},he=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,be=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ge=/[+~]/,_e=/'|\\/g,ve=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),Te=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Ee=function(){x()};try{J.apply(G=Z.call(F.childNodes),F.childNodes),G[F.childNodes.length].nodeType}catch(we){J={apply:G.length?function(e,t){K.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}T=t.support={},S=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},x=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:F;return r!==R&&9===r.nodeType&&r.documentElement?(R=r,k=R.documentElement,L=!S(R),(n=R.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Ee,!1):n.attachEvent&&n.attachEvent("onunload",Ee)),T.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),T.getElementsByTagName=i(function(e){return e.appendChild(R.createComment("")),!e.getElementsByTagName("*").length}),T.getElementsByClassName=be.test(R.getElementsByClassName),T.getById=i(function(e){return k.appendChild(e).id=B,!R.getElementsByName||!R.getElementsByName(B).length}),T.getById?(E.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&L){var n=t.getElementById(e);return n?[n]:[]}},E.filter.ID=function(e){var t=e.replace(ve,Te);return function(e){return e.getAttribute("id")===t}}):(delete E.find.ID,E.filter.ID=function(e){var t=e.replace(ve,Te);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),E.find.TAG=T.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):T.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},E.find.CLASS=T.getElementsByClassName&&function(e,t){return"undefined"!=typeof t.getElementsByClassName&&L?t.getElementsByClassName(e):void 0},U=[],M=[],(T.qsa=be.test(R.querySelectorAll))&&(i(function(e){k.appendChild(e).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&M.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||M.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+B+"-]").length||M.push("~="),e.querySelectorAll(":checked").length||M.push(":checked"),e.querySelectorAll("a#"+B+"+*").length||M.push(".#.+[+~]")}),i(function(e){var t=R.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&M.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),M.push(",.*:")})),(T.matchesSelector=be.test(j=k.matches||k.webkitMatchesSelector||k.mozMatchesSelector||k.oMatchesSelector||k.msMatchesSelector))&&i(function(e){T.disconnectedMatch=j.call(e,"div"),j.call(e,"[s!='']:x"),U.push("!=",oe)}),M=M.length&&new RegExp(M.join("|")),U=U.length&&new RegExp(U.join("|")),t=be.test(k.compareDocumentPosition),P=t||be.test(k.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Q=t?function(e,t){if(e===t)return N=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!T.sortDetached&&t.compareDocumentPosition(e)===n?e===R||e.ownerDocument===F&&P(F,e)?-1:t===R||t.ownerDocument===F&&P(F,t)?1:O?ee(O,e)-ee(O,t):0:4&n?-1:1)}:function(e,t){if(e===t)return N=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],l=[t];if(!i||!o)return e===R?-1:t===R?1:i?-1:o?1:O?ee(O,e)-ee(O,t):0;if(i===o)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;s[r]===l[r];)r++;return r?a(s[r],l[r]):s[r]===F?-1:l[r]===F?1:0},R):R},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==R&&x(e),n=n.replace(ce,"='$1']"),T.matchesSelector&&L&&!V[n+" "]&&(!U||!U.test(n))&&(!M||!M.test(n)))try{var r=j.call(e,n);if(r||T.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return t(n,R,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==R&&x(e),P(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==R&&x(e);var n=E.attrHandle[t.toLowerCase()],r=n&&z.call(E.attrHandle,t.toLowerCase())?n(e,t,!L):void 0;return void 0!==r?r:T.attributes||!L?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(N=!T.detectDuplicates,O=!T.sortStable&&e.slice(0),e.sort(Q),N){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return O=null,e},w=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=w(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=w(t);return n},E=t.selectors={cacheLength:50,createPseudo:r,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ve,Te),e[3]=(e[3]||e[4]||e[5]||"").replace(ve,Te),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&pe.test(n)&&(t=A(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ve,Te).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=W[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&W(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(ae," ")+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var u,c,p,d,f,h,m=o!==a?"nextSibling":"previousSibling",b=t.parentNode,y=s&&t.nodeName.toLowerCase(),g=!l&&!s,_=!1;if(b){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===y:1===d.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?b.firstChild:b.lastChild],a&&g){for(d=b,p=d[B]||(d[B]={}),c=p[d.uniqueID]||(p[d.uniqueID]={}),u=c[e]||[],f=u[0]===q&&u[1],_=f&&u[2],d=f&&b.childNodes[f];d=++f&&d&&d[m]||(_=f=0)||h.pop();)if(1===d.nodeType&&++_&&d===t){c[e]=[q,f,_];break}}else if(g&&(d=t,p=d[B]||(d[B]={}),c=p[d.uniqueID]||(p[d.uniqueID]={}),u=c[e]||[],f=u[0]===q&&u[1],_=f),_===!1)for(;(d=++f&&d&&d[m]||(_=f=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==y:1!==d.nodeType)||!++_||(g&&(p=d[B]||(d[B]={}),c=p[d.uniqueID]||(p[d.uniqueID]={}),c[e]=[q,_]),d!==t)););return _-=i,_===r||_%r===0&&_/r>=0}}},PSEUDO:function(e,n){var i,o=E.pseudos[e]||E.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[B]?o(n):o.length>1?(i=[e,e,"",n],E.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=ee(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=D(e.replace(se,"$1"));return i[B]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(ve,Te),function(t){return(t.textContent||t.innerText||w(t)).indexOf(e)>-1}}),lang:r(function(e){return de.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ve,Te).toLowerCase(),function(t){var n;do if(n=L?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===k},focus:function(e){return e===R.activeElement&&(!R.hasFocus||R.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!E.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return he.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:u(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},E.pseudos.nth=E.pseudos.eq;for(v in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})E.pseudos[v]=s(v);for(v in{submit:!0,reset:!0})E.pseudos[v]=l(v);return p.prototype=E.filters=E.pseudos,E.setFilters=new p,A=t.tokenize=function(e,n){var r,i,o,a,s,l,u,c=H[e+" "];if(c)return n?0:c.slice(0);for(s=e,l=[],u=E.preFilter;s;){r&&!(i=le.exec(s))||(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),r=!1,(i=ue.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(se," ")}),s=s.slice(r.length));for(a in E.filter)!(i=fe[a].exec(s))||u[a]&&!(i=u[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):H(e,l).slice(0)},D=t.compile=function(e,t){var n,r=[],i=[],o=V[e+" "];if(!o){for(t||(t=A(e)),n=t.length;n--;)o=g(t[n]),o[B]?r.push(o):i.push(o);o=V(e,_(i,r)),o.selector=e}return o},C=t.select=function(e,t,n,r){var i,o,a,s,l,u="function"==typeof e&&e,p=!r&&A(e=u.selector||e);if(n=n||[],1===p.length){if(o=p[0]=p[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&T.getById&&9===t.nodeType&&L&&E.relative[o[1].type]){if(t=(E.find.ID(a.matches[0].replace(ve,Te),t)||[])[0],!t)return n;u&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=fe.needsContext.test(e)?0:o.length;i--&&(a=o[i],!E.relative[s=a.type]);)if((l=E.find[s])&&(r=l(a.matches[0].replace(ve,Te),ge.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&d(o),!e)return J.apply(n,r),n;break}}return(u||D(e,p))(r,t,!L,n,!t||ge.test(e)&&c(t.parentNode)||t),n},T.sortStable=B.split("").sort(Q).join("")===B,T.detectDuplicates=!!N,x(),T.sortDetached=i(function(e){return 1&e.compareDocumentPosition(R.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),T.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);oe.find=ce,oe.expr=ce.selectors,oe.expr[":"]=oe.expr.pseudos,oe.uniqueSort=oe.unique=ce.uniqueSort,oe.text=ce.getText,oe.isXMLDoc=ce.isXML,oe.contains=ce.contains;var pe=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&oe(e).is(n))break;r.push(e)}return r},de=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},fe=oe.expr.match.needsContext,he=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,me=/^.[^:#\[\.,]*$/;oe.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?oe.find.matchesSelector(r,e)?[r]:[]:oe.find.matches(e,oe.grep(t,function(e){return 1===e.nodeType}))},oe.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if("string"!=typeof e)return this.pushStack(oe(e).filter(function(){for(t=0;n>t;t++)if(oe.contains(i[t],this))return!0}));for(t=0;n>t;t++)oe.find(e,i[t],r);return r=this.pushStack(n>1?oe.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&fe.test(e)?oe(e):e||[],!1).length}});var be,ye=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ge=oe.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||be,"string"==typeof e){if(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ye.exec(e),!r||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof oe?t[0]:t,oe.merge(this,oe.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:G,!0)),he.test(r[1])&&oe.isPlainObject(t))for(r in t)oe.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return i=G.getElementById(r[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=G,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):oe.isFunction(e)?void 0!==n.ready?n.ready(e):e(oe):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),oe.makeArray(e,this))};ge.prototype=oe.fn,be=oe(G);var _e=/^(?:parents|prev(?:Until|All))/,ve={children:!0,contents:!0,next:!0,prev:!0};oe.fn.extend({has:function(e){var t=oe(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(oe.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=fe.test(e)||"string"!=typeof e?oe(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&oe.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?oe.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?Z.call(oe(e),this[0]):Z.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(oe.uniqueSort(oe.merge(this.get(),oe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),oe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return pe(e,"parentNode")},parentsUntil:function(e,t,n){return pe(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return pe(e,"nextSibling")},prevAll:function(e){return pe(e,"previousSibling")},nextUntil:function(e,t,n){return pe(e,"nextSibling",n)},prevUntil:function(e,t,n){return pe(e,"previousSibling",n)},siblings:function(e){return de((e.parentNode||{}).firstChild,e)},children:function(e){return de(e.firstChild)},contents:function(e){return e.contentDocument||oe.merge([],e.childNodes)}},function(e,t){oe.fn[e]=function(n,r){var i=oe.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=oe.filter(r,i)),this.length>1&&(ve[e]||oe.uniqueSort(i),_e.test(e)&&i.reverse()),this.pushStack(i)}});var Te=/\S+/g;oe.Callbacks=function(e){e="string"==typeof e?o(e):oe.extend({},e);var t,n,r,i,a=[],s=[],l=-1,u=function(){for(i=e.once,r=t=!0;s.length;l=-1)for(n=s.shift();++l<a.length;)a[l].apply(n[0],n[1])===!1&&e.stopOnFalse&&(l=a.length,n=!1);e.memory||(n=!1),t=!1,i&&(a=n?[]:"")},c={add:function(){return a&&(n&&!t&&(l=a.length-1,s.push(n)),function r(t){oe.each(t,function(t,n){oe.isFunction(n)?e.unique&&c.has(n)||a.push(n):n&&n.length&&"string"!==oe.type(n)&&r(n)})}(arguments),n&&!t&&u()),this},remove:function(){return oe.each(arguments,function(e,t){for(var n;(n=oe.inArray(t,a,n))>-1;)a.splice(n,1),l>=n&&l--}),this},has:function(e){return e?oe.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return i=s=[],a=n="",this},disabled:function(){return!a},lock:function(){return i=s=[],n||(a=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=n||[],n=[e,n.slice?n.slice():n],s.push(n),t||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},oe.extend({Deferred:function(e){var t=[["resolve","done",oe.Callbacks("once memory"),"resolved"],["reject","fail",oe.Callbacks("once memory"),"rejected"],["notify","progress",oe.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return oe.Deferred(function(n){oe.each(t,function(t,o){var a=oe.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&oe.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?oe.extend(e,r):r}},i={};return r.pipe=r.then,oe.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=$.call(arguments),a=o.length,s=1!==a||e&&oe.isFunction(e.promise)?a:0,l=1===s?e:oe.Deferred(),u=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?$.call(arguments):i,r===t?l.notifyWith(n,r):--s||l.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);a>i;i++)o[i]&&oe.isFunction(o[i].promise)?o[i].promise().progress(u(i,n,t)).done(u(i,r,o)).fail(l.reject):--s;return s||l.resolveWith(r,o),l.promise()}});var Ee;oe.fn.ready=function(e){return oe.ready.promise().done(e),this},oe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?oe.readyWait++:oe.ready(!0)},ready:function(e){(e===!0?--oe.readyWait:oe.isReady)||(oe.isReady=!0,e!==!0&&--oe.readyWait>0||(Ee.resolveWith(G,[oe]),oe.fn.triggerHandler&&(oe(G).triggerHandler("ready"),oe(G).off("ready"))))}}),oe.ready.promise=function(t){return Ee||(Ee=oe.Deferred(),"complete"===G.readyState||"loading"!==G.readyState&&!G.documentElement.doScroll?e.setTimeout(oe.ready):(G.addEventListener("DOMContentLoaded",a),e.addEventListener("load",a))),Ee.promise(t)},oe.ready.promise();var we=function(e,t,n,r,i,o,a){var s=0,l=e.length,u=null==n;if("object"===oe.type(n)){i=!0;for(s in n)we(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,oe.isFunction(r)||(a=!0),u&&(a?(t.call(e,r),t=null):(u=t,t=function(e,t,n){return u.call(oe(e),n)})),t))for(;l>s;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:u?t.call(e):l?t(e[0],n):o},Se=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};s.uid=1,s.prototype={register:function(e,t){var n=t||{};return e.nodeType?e[this.expando]=n:Object.defineProperty(e,this.expando,{value:n,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!Se(e))return{};var t=e[this.expando];return t||(t={},Se(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[t]=n;else for(r in t)i[r]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?(r=this.get(e,t),void 0!==r?r:this.get(e,oe.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,i,o=e[this.expando];if(void 0!==o){if(void 0===t)this.register(e);else{oe.isArray(t)?r=t.concat(t.map(oe.camelCase)):(i=oe.camelCase(t),t in o?r=[t,i]:(r=i,r=r in o?[r]:r.match(Te)||[])),n=r.length;for(;n--;)delete o[r[n]]}(void 0===t||oe.isEmptyObject(o))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!oe.isEmptyObject(t)}};var Ae=new s,De=new s,Ce=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ie=/[A-Z]/g;oe.extend({hasData:function(e){return De.hasData(e)||Ae.hasData(e)},data:function(e,t,n){return De.access(e,t,n)},removeData:function(e,t){De.remove(e,t)},_data:function(e,t,n){return Ae.access(e,t,n)},_removeData:function(e,t){Ae.remove(e,t)}}),oe.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=De.get(o),1===o.nodeType&&!Ae.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=oe.camelCase(r.slice(5)),l(o,r,i[r])));Ae.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){De.set(this,e)}):we(this,function(t){var n,r;if(o&&void 0===t){if(n=De.get(o,e)||De.get(o,e.replace(Ie,"-$&").toLowerCase()),void 0!==n)return n;if(r=oe.camelCase(e),n=De.get(o,r),void 0!==n)return n;if(n=l(o,r,void 0),void 0!==n)return n}else r=oe.camelCase(e),this.each(function(){var n=De.get(this,r);De.set(this,r,t),e.indexOf("-")>-1&&void 0!==n&&De.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){De.remove(this,e)})}}),oe.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=Ae.get(e,t),n&&(!r||oe.isArray(n)?r=Ae.access(e,t,oe.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=oe.queue(e,t),r=n.length,i=n.shift(),o=oe._queueHooks(e,t),a=function(){oe.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Ae.get(e,n)||Ae.access(e,n,{empty:oe.Callbacks("once memory").add(function(){Ae.remove(e,[t+"queue",n])})})}}),oe.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?oe.queue(this[0],e):void 0===t?this:this.each(function(){var n=oe.queue(this,e,t);oe._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&oe.dequeue(this,e)})},dequeue:function(e){return this.each(function(){oe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=oe.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=Ae.get(o[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var Oe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ne=new RegExp("^(?:([+-])=|)("+Oe+")([a-z%]*)$","i"),xe=["Top","Right","Bottom","Left"],Re=function(e,t){return e=t||e,"none"===oe.css(e,"display")||!oe.contains(e.ownerDocument,e)},ke=/^(?:checkbox|radio)$/i,Le=/<([\w:-]+)/,Me=/^$|\/(?:java|ecma)script/i,Ue={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ue.optgroup=Ue.option,Ue.tbody=Ue.tfoot=Ue.colgroup=Ue.caption=Ue.thead,Ue.th=Ue.td;var je=/<|&#?\w+;/;!function(){var e=G.createDocumentFragment(),t=e.appendChild(G.createElement("div")),n=G.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),re.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",re.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Pe=/^key/,Be=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Fe=/^([^.]*)(?:\.(.+)|)/;oe.event={global:{},add:function(e,t,n,r,i){var o,a,s,l,u,c,p,d,f,h,m,b=Ae.get(e);if(b)for(n.handler&&(o=n,n=o.handler,i=o.selector),n.guid||(n.guid=oe.guid++),(l=b.events)||(l=b.events={}),(a=b.handle)||(a=b.handle=function(t){return"undefined"!=typeof oe&&oe.event.triggered!==t.type?oe.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(Te)||[""],u=t.length;u--;)s=Fe.exec(t[u])||[],f=m=s[1],h=(s[2]||"").split(".").sort(),f&&(p=oe.event.special[f]||{},f=(i?p.delegateType:p.bindType)||f,p=oe.event.special[f]||{},c=oe.extend({type:f,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&oe.expr.match.needsContext.test(i),namespace:h.join(".")},o),(d=l[f])||(d=l[f]=[],d.delegateCount=0,p.setup&&p.setup.call(e,r,h,a)!==!1||e.addEventListener&&e.addEventListener(f,a)),p.add&&(p.add.call(e,c),
c.handler.guid||(c.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,c):d.push(c),oe.event.global[f]=!0)},remove:function(e,t,n,r,i){var o,a,s,l,u,c,p,d,f,h,m,b=Ae.hasData(e)&&Ae.get(e);if(b&&(l=b.events)){for(t=(t||"").match(Te)||[""],u=t.length;u--;)if(s=Fe.exec(t[u])||[],f=m=s[1],h=(s[2]||"").split(".").sort(),f){for(p=oe.event.special[f]||{},f=(r?p.delegateType:p.bindType)||f,d=l[f]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=d.length;o--;)c=d[o],!i&&m!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(d.splice(o,1),c.selector&&d.delegateCount--,p.remove&&p.remove.call(e,c));a&&!d.length&&(p.teardown&&p.teardown.call(e,h,b.handle)!==!1||oe.removeEvent(e,f,b.handle),delete l[f])}else for(f in l)oe.event.remove(e,f+t[u],n,r,!0);oe.isEmptyObject(l)&&Ae.remove(e,"handle events")}},dispatch:function(e){e=oe.event.fix(e);var t,n,r,i,o,a=[],s=$.call(arguments),l=(Ae.get(this,"events")||{})[e.type]||[],u=oe.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(a=oe.event.handlers.call(this,e,l),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(o.namespace)||(e.handleObj=o,e.data=o.data,r=((oe.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s),void 0!==r&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(r=[],n=0;s>n;n++)o=t[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?oe(i,this).index(l)>-1:oe.find(i,this,null,[l]).length),r[i]&&r.push(o);r.length&&a.push({elem:l,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||G,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[oe.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Be.test(i)?this.mouseHooks:Pe.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new oe.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=G),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==m()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===m()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&oe.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return oe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},oe.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},oe.Event=function(e,t){return this instanceof oe.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?f:h):this.type=e,t&&oe.extend(this,t),this.timeStamp=e&&e.timeStamp||oe.now(),void(this[oe.expando]=!0)):new oe.Event(e,t)},oe.Event.prototype={constructor:oe.Event,isDefaultPrevented:h,isPropagationStopped:h,isImmediatePropagationStopped:h,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=f,e&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=f,e&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=f,e&&e.stopImmediatePropagation(),this.stopPropagation()}},oe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){oe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||oe.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),oe.fn.extend({on:function(e,t,n,r){return b(this,e,t,n,r)},one:function(e,t,n,r){return b(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,oe(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return t!==!1&&"function"!=typeof t||(n=t,t=void 0),n===!1&&(n=h),this.each(function(){oe.event.remove(this,e,n,t)})}});var qe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Ye=/<script|<style|<link/i,We=/checked\s*(?:[^=]|=\s*.checked.)/i,He=/^true\/(.*)/,Ve=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;oe.extend({htmlPrefilter:function(e){return e.replace(qe,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),l=oe.contains(e.ownerDocument,e);if(!(re.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||oe.isXMLDoc(e)))for(a=c(s),o=c(e),r=0,i=o.length;i>r;r++)T(o[r],a[r]);if(t)if(n)for(o=o||c(e),a=a||c(s),r=0,i=o.length;i>r;r++)v(o[r],a[r]);else v(e,s);return a=c(s,"script"),a.length>0&&p(a,!l&&c(e,"script")),s},cleanData:function(e){for(var t,n,r,i=oe.event.special,o=0;void 0!==(n=e[o]);o++)if(Se(n)){if(t=n[Ae.expando]){if(t.events)for(r in t.events)i[r]?oe.event.remove(n,r):oe.removeEvent(n,r,t.handle);n[Ae.expando]=void 0}n[De.expando]&&(n[De.expando]=void 0)}}}),oe.fn.extend({domManip:E,detach:function(e){return w(this,e,!0)},remove:function(e){return w(this,e)},text:function(e){return we(this,function(e){return void 0===e?oe.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return E(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.appendChild(e)}})},prepend:function(){return E(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return E(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return E(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(oe.cleanData(c(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return oe.clone(this,e,t)})},html:function(e){return we(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ye.test(e)&&!Ue[(Le.exec(e)||["",""])[1].toLowerCase()]){e=oe.htmlPrefilter(e);try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(oe.cleanData(c(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return E(this,arguments,function(t){var n=this.parentNode;oe.inArray(this,e)<0&&(oe.cleanData(c(this)),n&&n.replaceChild(t,this))},e)}}),oe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){oe.fn[e]=function(e){for(var n,r=[],i=oe(e),o=i.length-1,a=0;o>=a;a++)n=a===o?this:this.clone(!0),oe(i[a])[t](n),J.apply(r,n.get());return this.pushStack(r)}});var Qe,Xe={HTML:"block",BODY:"block"},ze=/^margin/,Ge=new RegExp("^("+Oe+")(?!px)[a-z%]+$","i"),$e=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Ke=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i},Je=G.documentElement;!function(){function t(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Je.appendChild(a);var t=e.getComputedStyle(s);n="1%"!==t.top,o="2px"===t.marginLeft,r="4px"===t.width,s.style.marginRight="50%",i="4px"===t.marginRight,Je.removeChild(a)}var n,r,i,o,a=G.createElement("div"),s=G.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",re.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),oe.extend(re,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==r&&t(),r},pixelMarginRight:function(){return null==r&&t(),i},reliableMarginLeft:function(){return null==r&&t(),o},reliableMarginRight:function(){var t,n=s.appendChild(G.createElement("div"));return n.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",s.style.width="1px",Je.appendChild(a),t=!parseFloat(e.getComputedStyle(n).marginRight),Je.removeChild(a),s.removeChild(n),t}}))}();var Ze=/^(none|table(?!-c[ea]).+)/,et={position:"absolute",visibility:"hidden",display:"block"},tt={letterSpacing:"0",fontWeight:"400"},nt=["Webkit","O","Moz","ms"],rt=G.createElement("div").style;oe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=D(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=oe.camelCase(t),l=e.style;return t=oe.cssProps[s]||(oe.cssProps[s]=I(s)||s),a=oe.cssHooks[t]||oe.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t]:(o=typeof n,"string"===o&&(i=Ne.exec(n))&&i[1]&&(n=u(e,t,i),o="number"),void(null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(oe.cssNumber[s]?"":"px")),re.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(l[t]=n))))}},css:function(e,t,n,r){var i,o,a,s=oe.camelCase(t);return t=oe.cssProps[s]||(oe.cssProps[s]=I(s)||s),a=oe.cssHooks[t]||oe.cssHooks[s],a&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=D(e,t,r)),"normal"===i&&t in tt&&(i=tt[t]),""===n||n?(o=parseFloat(i),n===!0||isFinite(o)?o||0:i):i}}),oe.each(["height","width"],function(e,t){oe.cssHooks[t]={get:function(e,n,r){return n?Ze.test(oe.css(e,"display"))&&0===e.offsetWidth?Ke(e,et,function(){return x(e,t,r)}):x(e,t,r):void 0},set:function(e,n,r){var i,o=r&&$e(e),a=r&&N(e,t,r,"border-box"===oe.css(e,"boxSizing",!1,o),o);return a&&(i=Ne.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=oe.css(e,t)),O(e,n,a)}}}),oe.cssHooks.marginLeft=C(re.reliableMarginLeft,function(e,t){return t?(parseFloat(D(e,"marginLeft"))||e.getBoundingClientRect().left-Ke(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px":void 0}),oe.cssHooks.marginRight=C(re.reliableMarginRight,function(e,t){return t?Ke(e,{display:"inline-block"},D,[e,"marginRight"]):void 0}),oe.each({margin:"",padding:"",border:"Width"},function(e,t){oe.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+xe[r]+t]=o[r]||o[r-2]||o[0];return i}},ze.test(e)||(oe.cssHooks[e+t].set=O)}),oe.fn.extend({css:function(e,t){return we(this,function(e,t,n){var r,i,o={},a=0;if(oe.isArray(t)){for(r=$e(e),i=t.length;i>a;a++)o[t[a]]=oe.css(e,t[a],!1,r);return o}return void 0!==n?oe.style(e,t,n):oe.css(e,t)},e,t,arguments.length>1)},show:function(){return R(this,!0)},hide:function(){return R(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Re(this)?oe(this).show():oe(this).hide()})}}),oe.Tween=k,k.prototype={constructor:k,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||oe.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(oe.cssNumber[n]?"":"px")},cur:function(){var e=k.propHooks[this.prop];return e&&e.get?e.get(this):k.propHooks._default.get(this)},run:function(e){var t,n=k.propHooks[this.prop];return this.options.duration?this.pos=t=oe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):k.propHooks._default.set(this),this}},k.prototype.init.prototype=k.prototype,k.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=oe.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){oe.fx.step[e.prop]?oe.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[oe.cssProps[e.prop]]&&!oe.cssHooks[e.prop]?e.elem[e.prop]=e.now:oe.style(e.elem,e.prop,e.now+e.unit)}}},k.propHooks.scrollTop=k.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},oe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},oe.fx=k.prototype.init,oe.fx.step={};var it,ot,at=/^(?:toggle|show|hide)$/,st=/queueHooks$/;oe.Animation=oe.extend(B,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return u(n.elem,e,Ne.exec(t),n),n}]},tweener:function(e,t){oe.isFunction(e)?(t=e,e=["*"]):e=e.match(Te);for(var n,r=0,i=e.length;i>r;r++)n=e[r],B.tweeners[n]=B.tweeners[n]||[],B.tweeners[n].unshift(t)},prefilters:[j],prefilter:function(e,t){t?B.prefilters.unshift(e):B.prefilters.push(e)}}),oe.speed=function(e,t,n){var r=e&&"object"==typeof e?oe.extend({},e):{complete:n||!n&&t||oe.isFunction(e)&&e,duration:e,easing:n&&t||t&&!oe.isFunction(t)&&t};return r.duration=oe.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in oe.fx.speeds?oe.fx.speeds[r.duration]:oe.fx.speeds._default,null!=r.queue&&r.queue!==!0||(r.queue="fx"),r.old=r.complete,r.complete=function(){oe.isFunction(r.old)&&r.old.call(this),r.queue&&oe.dequeue(this,r.queue)},r},oe.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Re).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=oe.isEmptyObject(e),o=oe.speed(t,n,r),a=function(){var t=B(this,oe.extend({},e),o);(i||Ae.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=oe.timers,a=Ae.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&st.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||oe.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=Ae.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=oe.timers,a=r?r.length:0;for(n.finish=!0,oe.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),oe.each(["toggle","show","hide"],function(e,t){var n=oe.fn[t];oe.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(M(t,!0),e,r,i)}}),oe.each({slideDown:M("show"),slideUp:M("hide"),slideToggle:M("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){oe.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),oe.timers=[],oe.fx.tick=function(){var e,t=0,n=oe.timers;for(it=oe.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||oe.fx.stop(),it=void 0},oe.fx.timer=function(e){oe.timers.push(e),e()?oe.fx.start():oe.timers.pop()},oe.fx.interval=13,oe.fx.start=function(){ot||(ot=e.setInterval(oe.fx.tick,oe.fx.interval))},oe.fx.stop=function(){e.clearInterval(ot),ot=null},oe.fx.speeds={slow:600,fast:200,_default:400},oe.fn.delay=function(t,n){return t=oe.fx?oe.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e=G.createElement("input"),t=G.createElement("select"),n=t.appendChild(G.createElement("option"));e.type="checkbox",re.checkOn=""!==e.value,re.optSelected=n.selected,t.disabled=!0,re.optDisabled=!n.disabled,e=G.createElement("input"),e.value="t",e.type="radio",re.radioValue="t"===e.value}();var lt,ut=oe.expr.attrHandle;oe.fn.extend({attr:function(e,t){return we(this,oe.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){oe.removeAttr(this,e)})}}),oe.extend({attr:function(e,t,n){var r,i,o=e.nodeType;return 3!==o&&8!==o&&2!==o?"undefined"==typeof e.getAttribute?oe.prop(e,t,n):(1===o&&oe.isXMLDoc(e)||(t=t.toLowerCase(),i=oe.attrHooks[t]||(oe.expr.match.bool.test(t)?lt:void 0)),void 0!==n?null===n?void oe.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=oe.find.attr(e,t),null==r?void 0:r)):void 0},attrHooks:{type:{set:function(e,t){if(!re.radioValue&&"radio"===t&&oe.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(Te);if(o&&1===e.nodeType)for(;n=o[i++];)r=oe.propFix[n]||n,oe.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)}}),lt={set:function(e,t,n){return t===!1?oe.removeAttr(e,n):e.setAttribute(n,n),n}},oe.each(oe.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ut[t]||oe.find.attr;ut[t]=function(e,t,r){var i,o;return r||(o=ut[t],ut[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,ut[t]=o),i}});var ct=/^(?:input|select|textarea|button)$/i,pt=/^(?:a|area)$/i;oe.fn.extend({prop:function(e,t){return we(this,oe.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[oe.propFix[e]||e]})}}),oe.extend({prop:function(e,t,n){var r,i,o=e.nodeType;return 3!==o&&8!==o&&2!==o?(1===o&&oe.isXMLDoc(e)||(t=oe.propFix[t]||t,i=oe.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]):void 0},propHooks:{tabIndex:{get:function(e){var t=oe.find.attr(e,"tabindex");return t?parseInt(t,10):ct.test(e.nodeName)||pt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),re.optSelected||(oe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),oe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){oe.propFix[this.toLowerCase()]=this});var dt=/[\t\r\n\f]/g;oe.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,l=0;if(oe.isFunction(e))return this.each(function(t){oe(this).addClass(e.call(this,t,F(this)))});if("string"==typeof e&&e)for(t=e.match(Te)||[];n=this[l++];)if(i=F(n),r=1===n.nodeType&&(" "+i+" ").replace(dt," ")){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");s=oe.trim(r),i!==s&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,l=0;if(oe.isFunction(e))return this.each(function(t){oe(this).removeClass(e.call(this,t,F(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Te)||[];n=this[l++];)if(i=F(n),r=1===n.nodeType&&(" "+i+" ").replace(dt," ")){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");s=oe.trim(r),i!==s&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):oe.isFunction(e)?this.each(function(n){oe(this).toggleClass(e.call(this,n,F(this),t),t)}):this.each(function(){var t,r,i,o;if("string"===n)for(r=0,i=oe(this),o=e.match(Te)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||(t=F(this),t&&Ae.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":Ae.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+F(n)+" ").replace(dt," ").indexOf(t)>-1)return!0;return!1}});var ft=/\r/g,ht=/[\x20\t\r\n\f]+/g;oe.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=oe.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,oe(this).val()):e,null==i?i="":"number"==typeof i?i+="":oe.isArray(i)&&(i=oe.map(i,function(e){return null==e?"":e+""})),t=oe.valHooks[this.type]||oe.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=oe.valHooks[i.type]||oe.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(ft,""):null==n?"":n)):void 0}}),oe.extend({valHooks:{option:{get:function(e){var t=oe.find.attr(e,"value");return null!=t?t:oe.trim(oe.text(e)).replace(ht," ")}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,l=0>i?s:o?i:0;s>l;l++)if(n=r[l],(n.selected||l===i)&&(re.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!oe.nodeName(n.parentNode,"optgroup"))){if(t=oe(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=oe.makeArray(t),a=i.length;a--;)r=i[a],(r.selected=oe.inArray(oe.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),oe.each(["radio","checkbox"],function(){oe.valHooks[this]={set:function(e,t){return oe.isArray(t)?e.checked=oe.inArray(oe(e).val(),t)>-1:void 0}},re.checkOn||(oe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var mt=/^(?:focusinfocus|focusoutblur)$/;oe.extend(oe.event,{trigger:function(t,n,r,i){var o,a,s,l,u,c,p,d=[r||G],f=ne.call(t,"type")?t.type:t,h=ne.call(t,"namespace")?t.namespace.split("."):[];if(a=s=r=r||G,3!==r.nodeType&&8!==r.nodeType&&!mt.test(f+oe.event.triggered)&&(f.indexOf(".")>-1&&(h=f.split("."),f=h.shift(),h.sort()),u=f.indexOf(":")<0&&"on"+f,t=t[oe.expando]?t:new oe.Event(f,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=h.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:oe.makeArray(n,[t]),p=oe.event.special[f]||{},i||!p.trigger||p.trigger.apply(r,n)!==!1)){if(!i&&!p.noBubble&&!oe.isWindow(r)){for(l=p.delegateType||f,mt.test(l+f)||(a=a.parentNode);a;a=a.parentNode)d.push(a),s=a;s===(r.ownerDocument||G)&&d.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=d[o++])&&!t.isPropagationStopped();)t.type=o>1?l:p.bindType||f,c=(Ae.get(a,"events")||{})[t.type]&&Ae.get(a,"handle"),c&&c.apply(a,n),c=u&&a[u],c&&c.apply&&Se(a)&&(t.result=c.apply(a,n),t.result===!1&&t.preventDefault());return t.type=f,i||t.isDefaultPrevented()||p._default&&p._default.apply(d.pop(),n)!==!1||!Se(r)||u&&oe.isFunction(r[f])&&!oe.isWindow(r)&&(s=r[u],s&&(r[u]=null),oe.event.triggered=f,r[f](),oe.event.triggered=void 0,s&&(r[u]=s)),t.result}},simulate:function(e,t,n){var r=oe.extend(new oe.Event,n,{type:e,isSimulated:!0});oe.event.trigger(r,null,t),r.isDefaultPrevented()&&n.preventDefault()}}),oe.fn.extend({trigger:function(e,t){return this.each(function(){oe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?oe.event.trigger(e,t,n,!0):void 0}}),oe.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){oe.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),oe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),re.focusin="onfocusin"in e,re.focusin||oe.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){oe.event.simulate(t,e.target,oe.event.fix(e))};oe.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=Ae.access(r,t);i||r.addEventListener(e,n,!0),Ae.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=Ae.access(r,t)-1;i?Ae.access(r,t,i):(r.removeEventListener(e,n,!0),Ae.remove(r,t))}}});var bt=e.location,yt=oe.now(),gt=/\?/;oe.parseJSON=function(e){return JSON.parse(e+"")},oe.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(r){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||oe.error("Invalid XML: "+t),n};var _t=/#.*$/,vt=/([?&])_=[^&]*/,Tt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Et=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,wt=/^(?:GET|HEAD)$/,St=/^\/\//,At={},Dt={},Ct="*/".concat("*"),It=G.createElement("a");It.href=bt.href,oe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:bt.href,type:"GET",isLocal:Et.test(bt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ct,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":oe.parseJSON,"text xml":oe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?W(W(e,oe.ajaxSettings),t):W(oe.ajaxSettings,e)},ajaxPrefilter:q(At),ajaxTransport:q(Dt),ajax:function(t,n){function r(t,n,r,s){var u,p,g,_,T,w=n;2!==v&&(v=2,l&&e.clearTimeout(l),i=void 0,a=s||"",E.readyState=t>0?4:0,u=t>=200&&300>t||304===t,r&&(_=H(d,E,r)),_=V(d,_,E,u),u?(d.ifModified&&(T=E.getResponseHeader("Last-Modified"),T&&(oe.lastModified[o]=T),T=E.getResponseHeader("etag"),T&&(oe.etag[o]=T)),204===t||"HEAD"===d.type?w="nocontent":304===t?w="notmodified":(w=_.state,p=_.data,g=_.error,u=!g)):(g=w,!t&&w||(w="error",0>t&&(t=0))),E.status=t,E.statusText=(n||w)+"",u?m.resolveWith(f,[p,w,E]):m.rejectWith(f,[E,w,g]),E.statusCode(y),y=void 0,c&&h.trigger(u?"ajaxSuccess":"ajaxError",[E,d,u?p:g]),b.fireWith(f,[E,w]),c&&(h.trigger("ajaxComplete",[E,d]),--oe.active||oe.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,o,a,s,l,u,c,p,d=oe.ajaxSetup({},n),f=d.context||d,h=d.context&&(f.nodeType||f.jquery)?oe(f):oe.event,m=oe.Deferred(),b=oe.Callbacks("once memory"),y=d.statusCode||{},g={},_={},v=0,T="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(2===v){if(!s)for(s={};t=Tt.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===v?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return v||(e=_[n]=_[n]||e,g[e]=t),this},overrideMimeType:function(e){return v||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>v)for(t in e)y[t]=[y[t],e[t]];else E.always(e[E.status]);return this},abort:function(e){var t=e||T;return i&&i.abort(t),r(0,t),this}};if(m.promise(E).complete=b.add,E.success=E.done,E.error=E.fail,d.url=((t||d.url||bt.href)+"").replace(_t,"").replace(St,bt.protocol+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=oe.trim(d.dataType||"*").toLowerCase().match(Te)||[""],null==d.crossDomain){u=G.createElement("a");try{u.href=d.url,u.href=u.href,d.crossDomain=It.protocol+"//"+It.host!=u.protocol+"//"+u.host}catch(w){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=oe.param(d.data,d.traditional)),Y(At,d,n,E),2===v)return E;c=oe.event&&d.global,c&&0===oe.active++&&oe.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!wt.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(gt.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=vt.test(o)?o.replace(vt,"$1_="+yt++):o+(gt.test(o)?"&":"?")+"_="+yt++)),d.ifModified&&(oe.lastModified[o]&&E.setRequestHeader("If-Modified-Since",oe.lastModified[o]),oe.etag[o]&&E.setRequestHeader("If-None-Match",oe.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||n.contentType)&&E.setRequestHeader("Content-Type",d.contentType),E.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Ct+"; q=0.01":""):d.accepts["*"]);for(p in d.headers)E.setRequestHeader(p,d.headers[p]);if(d.beforeSend&&(d.beforeSend.call(f,E,d)===!1||2===v))return E.abort();T="abort";for(p in{success:1,error:1,complete:1})E[p](d[p]);if(i=Y(Dt,d,n,E)){if(E.readyState=1,c&&h.trigger("ajaxSend",[E,d]),2===v)return E;d.async&&d.timeout>0&&(l=e.setTimeout(function(){E.abort("timeout")},d.timeout));try{v=1,i.send(g,r)}catch(w){if(!(2>v))throw w;r(-1,w)}}else r(-1,"No Transport");return E},getJSON:function(e,t,n){return oe.get(e,t,n,"json")},getScript:function(e,t){return oe.get(e,void 0,t,"script")}}),oe.each(["get","post"],function(e,t){oe[t]=function(e,n,r,i){return oe.isFunction(n)&&(i=i||r,r=n,n=void 0),oe.ajax(oe.extend({url:e,type:t,dataType:i,data:n,success:r},oe.isPlainObject(e)&&e))}}),oe._evalUrl=function(e){return oe.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},oe.fn.extend({wrapAll:function(e){var t;return oe.isFunction(e)?this.each(function(t){oe(this).wrapAll(e.call(this,t))}):(this[0]&&(t=oe(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return oe.isFunction(e)?this.each(function(t){oe(this).wrapInner(e.call(this,t))}):this.each(function(){var t=oe(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=oe.isFunction(e);return this.each(function(n){oe(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){oe.nodeName(this,"body")||oe(this).replaceWith(this.childNodes)}).end()}}),oe.expr.filters.hidden=function(e){return!oe.expr.filters.visible(e)},oe.expr.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0};var Ot=/%20/g,Nt=/\[\]$/,xt=/\r?\n/g,Rt=/^(?:submit|button|image|reset|file)$/i,kt=/^(?:input|select|textarea|keygen)/i;oe.param=function(e,t){var n,r=[],i=function(e,t){t=oe.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=oe.ajaxSettings&&oe.ajaxSettings.traditional),oe.isArray(e)||e.jquery&&!oe.isPlainObject(e))oe.each(e,function(){i(this.name,this.value)});else for(n in e)Q(n,e[n],t,i);return r.join("&").replace(Ot,"+")},oe.fn.extend({serialize:function(){return oe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=oe.prop(this,"elements");return e?oe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!oe(this).is(":disabled")&&kt.test(this.nodeName)&&!Rt.test(e)&&(this.checked||!ke.test(e))}).map(function(e,t){var n=oe(this).val();return null==n?null:oe.isArray(n)?oe.map(n,function(e){
return{name:t.name,value:e.replace(xt,"\r\n")}}):{name:t.name,value:n.replace(xt,"\r\n")}}).get()}}),oe.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(t){}};var Lt={0:200,1223:204},Mt=oe.ajaxSettings.xhr();re.cors=!!Mt&&"withCredentials"in Mt,re.ajax=Mt=!!Mt,oe.ajaxTransport(function(t){var n,r;return re.cors||Mt&&!t.crossDomain?{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(a in i)s.setRequestHeader(a,i[a]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Lt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(l){if(n)throw l}},abort:function(){n&&n()}}:void 0}),oe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return oe.globalEval(e),e}}}),oe.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),oe.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=oe("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),G.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Ut=[],jt=/(=)\?(?=&|$)|\?\?/;oe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Ut.pop()||oe.expando+"_"+yt++;return this[e]=!0,e}}),oe.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=t.jsonp!==!1&&(jt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&jt.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=oe.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(jt,"$1"+i):t.jsonp!==!1&&(t.url+=(gt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||oe.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){void 0===o?oe(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Ut.push(i)),a&&oe.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),oe.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||G;var r=he.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=d([e],t,i),i&&i.length&&oe(i).remove(),oe.merge([],r.childNodes))};var Pt=oe.fn.load;oe.fn.load=function(e,t,n){if("string"!=typeof e&&Pt)return Pt.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=oe.trim(e.slice(s)),e=e.slice(0,s)),oe.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&oe.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?oe("<div>").append(oe.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(a,o||[e.responseText,t,e])})}),this},oe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){oe.fn[t]=function(e){return this.on(t,e)}}),oe.expr.filters.animated=function(e){return oe.grep(oe.timers,function(t){return e===t.elem}).length},oe.offset={setOffset:function(e,t,n){var r,i,o,a,s,l,u,c=oe.css(e,"position"),p=oe(e),d={};"static"===c&&(e.style.position="relative"),s=p.offset(),o=oe.css(e,"top"),l=oe.css(e,"left"),u=("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1,u?(r=p.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(l)||0),oe.isFunction(t)&&(t=t.call(e,n,oe.extend({},s))),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+i),"using"in t?t.using.call(e,d):p.css(d)}},oe.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){oe.offset.setOffset(this,e,t)});var t,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;return o?(t=o.documentElement,oe.contains(t,r)?(i=r.getBoundingClientRect(),n=X(o),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i):void 0},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===oe.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),oe.nodeName(e[0],"html")||(r=e.offset()),r.top+=oe.css(e[0],"borderTopWidth",!0),r.left+=oe.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-oe.css(n,"marginTop",!0),left:t.left-r.left-oe.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===oe.css(e,"position");)e=e.offsetParent;return e||Je})}}),oe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;oe.fn[e]=function(r){return we(this,function(e,r,i){var o=X(e);return void 0===i?o?o[t]:e[r]:void(o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i)},e,r,arguments.length)}}),oe.each(["top","left"],function(e,t){oe.cssHooks[t]=C(re.pixelPosition,function(e,n){return n?(n=D(e,t),Ge.test(n)?oe(e).position()[t]+"px":n):void 0})}),oe.each({Height:"height",Width:"width"},function(e,t){oe.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){oe.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||i===!0?"margin":"border");return we(this,function(t,n,r){var i;return oe.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?oe.css(t,n,a):oe.style(t,n,r,a)},t,o?r:void 0,o,null)}})}),oe.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},size:function(){return this.length}}),oe.fn.andSelf=oe.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return oe});var Bt=e.jQuery,Ft=e.$;return oe.noConflict=function(t){return e.$===oe&&(e.$=Ft),t&&e.jQuery===oe&&(e.jQuery=Bt),oe},t||(e.jQuery=e.$=oe),oe}),!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.async=e.async||{})}(this,function(e){"use strict";function t(e,t){t|=0;for(var n=Math.max(e.length-t,0),r=Array(n),i=0;n>i;i++)r[i]=e[t+i];return r}function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function r(e){setTimeout(e,0)}function i(e){return function(n){var r=t(arguments,1);e(function(){n.apply(null,r)})}}function o(e){return st(function(e,t){var r;try{r=i.apply(this,e)}catch(i){return t(i)}n(r)&&"function"==typeof r.then?r.then(function(e){a(t,null,e)},function(e){a(t,e.message?e:new Error(e))}):t(null,r)})}function a(e,t,n){try{e(t,n)}catch(e){ct(s,e)}}function s(e){throw e}function l(e){return pt&&"AsyncFunction"===e[Symbol.toStringTag]}function u(e){return l(e)?o(e):e}function c(e){return function(n){var r=t(arguments,1),i=st(function(t,r){var i=this;return e(n,function(e,n){u(e).apply(i,t.concat(n))},r)});return r.length?i.apply(this,r):i}}function p(e){var t=yt.call(e,_t),n=e[_t];try{e[_t]=void 0;var r=!0}catch(e){}var i=gt.call(e);return r&&(t?e[_t]=n:delete e[_t]),i}function d(e){return Tt.call(e)}function f(e){return null==e?void 0===e?wt:Et:(e=Object(e),St&&St in e?p(e):d(e))}function h(e){if(!n(e))return!1;var t=f(e);return t==Dt||t==Ct||t==At||t==It}function m(e){return"number"==typeof e&&e>-1&&e%1==0&&Ot>=e}function b(e){return null!=e&&m(e.length)&&!h(e)}function y(){}function g(e){return function(){if(null!==e){var t=e;e=null,t.apply(this,arguments)}}}function _(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function v(e){return null!=e&&"object"==typeof e}function T(e){return v(e)&&f(e)==kt}function E(){return!1}function w(e,t){return t=null==t?Vt:t,!!t&&("number"==typeof e||Qt.test(e))&&e>-1&&e%1==0&&t>e}function S(e){return v(e)&&m(e.length)&&!!gn[f(e)]}function A(e){return function(t){return e(t)}}function D(e,t){var n=Pt(e),r=!n&&jt(e),i=!n&&!r&&Ht(e),o=!n&&!r&&!i&&An(e),a=n||r||i||o,s=a?_(e.length,String):[],l=s.length;for(var u in e)!t&&!Cn.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||w(u,l))||s.push(u);return s}function C(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||In;return e===n}function I(e,t){return function(n){return e(t(n))}}function O(e){if(!C(e))return On(e);var t=[];for(var n in Object(e))xn.call(e,n)&&"constructor"!=n&&t.push(n);return t}function N(e){return b(e)?D(e):O(e)}function x(e){var t=-1,n=e.length;return function(){return++t<n?{value:e[t],key:t}:null}}function R(e){var t=-1;return function(){var n=e.next();return n.done?null:(t++,{value:n.value,key:t})}}function k(e){var t=N(e),n=-1,r=t.length;return function(){var i=t[++n];return r>n?{value:e[i],key:i}:null}}function L(e){if(b(e))return x(e);var t=Rt(e);return t?R(t):k(e)}function M(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}}function U(e){return function(t,n,r){function i(e,t){if(l-=1,e)s=!0,r(e);else{if(t===Nt||s&&0>=l)return s=!0,r(null);o()}}function o(){for(;e>l&&!s;){var t=a();if(null===t)return s=!0,void(0>=l&&r(null));l+=1,n(t.value,t.key,M(i))}}if(r=g(r||y),0>=e||!t)return r(null);var a=L(t),s=!1,l=0;o()}}function j(e,t,n,r){U(t)(e,u(n),r)}function P(e,t){return function(n,r,i){return e(n,t,r,i)}}function B(e,t,n){function r(e,t){e?n(e):++o!==a&&t!==Nt||n(null)}n=g(n||y);var i=0,o=0,a=e.length;for(0===a&&n(null);a>i;i++)t(e[i],i,M(r))}function F(e){return function(t,n,r){return e(kn,t,u(n),r)}}function q(e,t,n,r){r=r||y,t=t||[];var i=[],o=0,a=u(n);e(t,function(e,t,n){var r=o++;a(e,function(e,t){i[r]=t,n(e)})},function(e){r(e,i)})}function Y(e){return function(t,n,r,i){return e(U(n),t,u(r),i)}}function W(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function H(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(n(o[l],l,o)===!1)break}return t}}function V(e,t){return e&&Fn(e,t,N)}function Q(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function X(e){return e!==e}function z(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function G(e,t,n){return t===t?z(e,t,n):Q(e,X,n)}function $(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function K(e){return"symbol"==typeof e||v(e)&&f(e)==Yn}function J(e){if("string"==typeof e)return e;if(Pt(e))return $(e,J)+"";if(K(e))return Vn?Vn.call(e):"";var t=e+"";return"0"==t&&1/e==-Wn?"-0":t}function Z(e,t,n){var r=-1,i=e.length;0>t&&(t=-t>i?0:i+t),n=n>i?i:n,0>n&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}function ee(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Z(e,t,n)}function te(e,t){for(var n=e.length;n--&&G(t,e[n],0)>-1;);return n}function ne(e,t){for(var n=-1,r=e.length;++n<r&&G(t,e[n],0)>-1;);return n}function re(e){return e.split("")}function ie(e){return Kn.test(e)}function oe(e){return e.match(mr)||[]}function ae(e){return ie(e)?oe(e):re(e)}function se(e){return null==e?"":J(e)}function le(e,t,n){if(e=se(e),e&&(n||void 0===t))return e.replace(br,"");if(!e||!(t=J(t)))return e;var r=ae(e),i=ae(t),o=ne(r,i),a=te(r,i)+1;return ee(r,o,a).join("")}function ue(e){return e=e.toString().replace(vr,""),e=e.match(yr)[2].replace(" ",""),e=e?e.split(gr):[],e=e.map(function(e){return le(e.replace(_r,""))})}function ce(e,t){var n={};V(e,function(e,t){function r(t,n){var r=$(i,function(e){return t[e]});r.push(n),u(e).apply(null,r)}var i,o=l(e),a=!o&&1===e.length||o&&0===e.length;if(Pt(e))i=e.slice(0,-1),e=e[e.length-1],n[t]=i.concat(i.length>0?r:e);else if(a)n[t]=e;else{if(i=ue(e),0===e.length&&!o&&0===i.length)throw new Error("autoInject task functions require explicit parameters.");o||i.pop(),n[t]=i.concat(r)}}),qn(n,t)}function pe(){this.head=this.tail=null,this.length=0}function de(e,t){e.length=1,e.head=e.tail=t}function fe(e,t,n){function r(e,t,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");if(c.started=!0,Pt(e)||(e=[e]),0===e.length&&c.idle())return ct(function(){c.drain()});for(var r=0,i=e.length;i>r;r++){var o={data:e[r],callback:n||y};t?c._tasks.unshift(o):c._tasks.push(o)}ct(c.process)}function i(e){return function(t){a-=1;for(var n=0,r=e.length;r>n;n++){var i=e[n],o=G(s,i,0);o>=0&&s.splice(o),i.callback.apply(i,arguments),null!=t&&c.error(t,i.data)}a<=c.concurrency-c.buffer&&c.unsaturated(),c.idle()&&c.drain(),c.process()}}if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var o=u(e),a=0,s=[],l=!1,c={_tasks:new pe,concurrency:t,payload:n,saturated:y,unsaturated:y,buffer:t/4,empty:y,drain:y,error:y,started:!1,paused:!1,push:function(e,t){r(e,!1,t)},kill:function(){c.drain=y,c._tasks.empty()},unshift:function(e,t){r(e,!0,t)},remove:function(e){c._tasks.remove(e)},process:function(){if(!l){for(l=!0;!c.paused&&a<c.concurrency&&c._tasks.length;){var e=[],t=[],n=c._tasks.length;c.payload&&(n=Math.min(n,c.payload));for(var r=0;n>r;r++){var u=c._tasks.shift();e.push(u),t.push(u.data)}a+=1,s.push(e[0]),0===c._tasks.length&&c.empty(),a===c.concurrency&&c.saturated();var p=M(i(e));o(t,p)}l=!1}},length:function(){return c._tasks.length},running:function(){return a},workersList:function(){return s},idle:function(){return c._tasks.length+a===0},pause:function(){c.paused=!0},resume:function(){c.paused!==!1&&(c.paused=!1,ct(c.process))}};return c}function he(e,t){return fe(e,1,t)}function me(e,t,n,r){r=g(r||y);var i=u(n);Er(e,function(e,n,r){i(t,e,function(e,n){t=n,r(e)})},function(e){r(e,t)})}function be(){var e=$(arguments,u);return function(){var n=t(arguments),r=this,i=n[n.length-1];"function"==typeof i?n.pop():i=y,me(e,n,function(e,n,i){n.apply(r,e.concat(function(e){var n=t(arguments,1);i(e,n)}))},function(e,t){i.apply(r,[e].concat(t))})}}function ye(e,t,n,r){var i=[];e(t,function(e,t,r){n(e,function(e,t){i=i.concat(t||[]),r(e)})},function(e){r(e,i)})}function ge(e){return function(t,n,r){return e(Er,t,u(n),r)}}function _e(e){return e}function ve(e,t){return function(n,r,i,o){o=o||y;var a,s=!1;n(r,function(n,r,o){i(n,function(r,i){r?o(r):e(i)&&!a?(s=!0,a=t(!0,n),o(null,Nt)):o()})},function(e){e?o(e):o(null,s?a:t(!1))})}}function Te(e,t){return t}function Ee(e){return function(n){var r=t(arguments,1);r.push(function(n){var r=t(arguments,1);"object"==typeof console&&(n?console.error&&console.error(n):console[e]&&W(r,function(t){console[e](t)}))}),u(n).apply(null,r)}}function we(e,n,r){function i(e){if(e)return r(e);var n=t(arguments,1);n.push(o),s.apply(this,n)}function o(e,t){return e?r(e):t?void a(i):r(null)}r=M(r||y);var a=u(e),s=u(n);o(null,!0)}function Se(e,n,r){r=M(r||y);var i=u(e),o=function(e){if(e)return r(e);var a=t(arguments,1);return n.apply(this,a)?i(o):void r.apply(null,[null].concat(a))};i(o)}function Ae(e,t,n){Se(e,function(){return!t.apply(this,arguments)},n)}function De(e,t,n){function r(e){return e?n(e):void a(i)}function i(e,t){return e?n(e):t?void o(r):n(null)}n=M(n||y);var o=u(t),a=u(e);a(i)}function Ce(e){return function(t,n,r){return e(t,r)}}function Ie(e,t,n){kn(e,Ce(u(t)),n)}function Oe(e,t,n,r){U(t)(e,Ce(u(n)),r)}function Ne(e){return l(e)?e:st(function(t,n){var r=!0;t.push(function(){var e=arguments;r?ct(function(){n.apply(null,e)}):n.apply(null,e)}),e.apply(this,t),r=!1})}function xe(e){return!e}function Re(e){return function(t){return null==t?void 0:t[e]}}function ke(e,t,n,r){var i=new Array(t.length);e(t,function(e,t,r){n(e,function(e,n){i[t]=!!n,r(e)})},function(e){if(e)return r(e);for(var n=[],o=0;o<t.length;o++)i[o]&&n.push(t[o]);r(null,n)})}function Le(e,t,n,r){var i=[];e(t,function(e,t,r){n(e,function(n,o){n?r(n):(o&&i.push({index:t,value:e}),r())})},function(e){e?r(e):r(null,$(i.sort(function(e,t){return e.index-t.index}),Re("value")))})}function Me(e,t,n,r){var i=b(t)?ke:Le;i(e,t,u(n),r||y)}function Ue(e,t){function n(e){return e?r(e):void i(n)}var r=M(t||y),i=u(Ne(e));n()}function je(e,t,n,r){r=g(r||y);var i={},o=u(n);j(e,t,function(e,t,n){o(e,t,function(e,r){return e?n(e):(i[t]=r,void n())})},function(e){r(e,i)})}function Pe(e,t){return t in e}function Be(e,n){var r=Object.create(null),i=Object.create(null);n=n||_e;var o=u(e),a=st(function(e,a){var s=n.apply(null,e);Pe(r,s)?ct(function(){a.apply(null,r[s])}):Pe(i,s)?i[s].push(a):(i[s]=[a],o.apply(null,e.concat(function(){var e=t(arguments);r[s]=e;var n=i[s];delete i[s];for(var o=0,a=n.length;a>o;o++)n[o].apply(null,e)})))});return a.memo=r,a.unmemoized=e,a}function Fe(e,n,r){r=r||y;var i=b(n)?[]:{};e(n,function(e,n,r){u(e)(function(e,o){arguments.length>2&&(o=t(arguments,1)),i[n]=o,r(e)})},function(e){r(e,i)})}function qe(e,t){Fe(kn,e,t)}function Ye(e,t,n){Fe(U(t),e,n)}function We(e,t){if(t=g(t||y),!Pt(e))return t(new TypeError("First argument to race must be an array of functions"));if(!e.length)return t();for(var n=0,r=e.length;r>n;n++)u(e[n])(t)}function He(e,n,r,i){var o=t(e).reverse();me(o,n,r,i)}function Ve(e){var n=u(e);return st(function(e,r){return e.push(function(e,n){if(e)r(null,{error:e});else{var i;i=arguments.length<=2?n:t(arguments,1),r(null,{value:i})}}),n.apply(this,e)})}function Qe(e,t,n,r){Me(e,t,function(e,t){n(e,function(e,n){t(e,!n)})},r)}function Xe(e){var t;return Pt(e)?t=$(e,Ve):(t={},V(e,function(e,n){t[n]=Ve.call(this,e)})),t}function ze(e){return function(){return e}}function Ge(e,t,n){function r(e,t){if("object"==typeof t)e.times=+t.times||o,e.intervalFunc="function"==typeof t.interval?t.interval:ze(+t.interval||a),e.errorFilter=t.errorFilter;else{if("number"!=typeof t&&"string"!=typeof t)throw new Error("Invalid arguments for async.retry");e.times=+t||o}}function i(){l(function(e){e&&c++<s.times&&("function"!=typeof s.errorFilter||s.errorFilter(e))?setTimeout(i,s.intervalFunc(c)):n.apply(null,arguments)})}var o=5,a=0,s={times:o,intervalFunc:ze(a)};if(arguments.length<3&&"function"==typeof e?(n=t||y,t=e):(r(s,e),n=n||y),"function"!=typeof t)throw new Error("Invalid arguments for async.retry");var l=u(t),c=1;i()}function $e(e,t){Fe(Er,e,t)}function Ke(e,t,n){function r(e,t){var n=e.criteria,r=t.criteria;return r>n?-1:n>r?1:0}var i=u(t);Ln(e,function(e,t){i(e,function(n,r){return n?t(n):void t(null,{value:e,criteria:r})})},function(e,t){return e?n(e):void n(null,$(t.sort(r),Re("value")))})}function Je(e,t,n){function r(){s||(o.apply(null,arguments),clearTimeout(a))}function i(){var t=e.name||"anonymous",r=new Error('Callback function "'+t+'" timed out.');r.code="ETIMEDOUT",n&&(r.info=n),s=!0,o(r)}var o,a,s=!1,l=u(e);return st(function(e,n){o=n,a=setTimeout(i,t),l.apply(null,e.concat(r))})}function Ze(e,t,n,r){for(var i=-1,o=ti(ei((t-e)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=e,e+=n;return a}function et(e,t,n,r){var i=u(n);Un(Ze(0,e,1),t,i,r)}function tt(e,t,n,r){arguments.length<=3&&(r=n,n=t,t=Pt(e)?[]:{}),r=g(r||y);var i=u(n);kn(e,function(e,n,r){i(t,e,n,r)},function(e){r(e,t)})}function nt(e,n){var r,i=null;n=n||y,xr(e,function(e,n){u(e)(function(e,o){r=arguments.length>2?t(arguments,1):o,i=e,n(!e)})},function(){n(i,r)})}function rt(e){return function(){return(e.unmemoized||e).apply(null,arguments)}}function it(e,n,r){r=M(r||y);var i=u(n);if(!e())return r(null);var o=function(n){if(n)return r(n);if(e())return i(o);var a=t(arguments,1);r.apply(null,[null].concat(a))};i(o)}function ot(e,t,n){it(function(){return!e.apply(this,arguments)},t,n)}var at,st=function(e){return function(){var n=t(arguments),r=n.pop();e.call(this,n,r)}},lt="function"==typeof setImmediate&&setImmediate,ut="object"==typeof process&&"function"==typeof process.nextTick;at=lt?setImmediate:ut?process.nextTick:r;var ct=i(at),pt="function"==typeof Symbol,dt="object"==typeof global&&global&&global.Object===Object&&global,ft="object"==typeof self&&self&&self.Object===Object&&self,ht=dt||ft||Function("return this")(),mt=ht.Symbol,bt=Object.prototype,yt=bt.hasOwnProperty,gt=bt.toString,_t=mt?mt.toStringTag:void 0,vt=Object.prototype,Tt=vt.toString,Et="[object Null]",wt="[object Undefined]",St=mt?mt.toStringTag:void 0,At="[object AsyncFunction]",Dt="[object Function]",Ct="[object GeneratorFunction]",It="[object Proxy]",Ot=9007199254740991,Nt={},xt="function"==typeof Symbol&&Symbol.iterator,Rt=function(e){return xt&&e[xt]&&e[xt]()},kt="[object Arguments]",Lt=Object.prototype,Mt=Lt.hasOwnProperty,Ut=Lt.propertyIsEnumerable,jt=T(function(){return arguments}())?T:function(e){return v(e)&&Mt.call(e,"callee")&&!Ut.call(e,"callee")},Pt=Array.isArray,Bt="object"==typeof e&&e&&!e.nodeType&&e,Ft=Bt&&"object"==typeof module&&module&&!module.nodeType&&module,qt=Ft&&Ft.exports===Bt,Yt=qt?ht.Buffer:void 0,Wt=Yt?Yt.isBuffer:void 0,Ht=Wt||E,Vt=9007199254740991,Qt=/^(?:0|[1-9]\d*)$/,Xt="[object Arguments]",zt="[object Array]",Gt="[object Boolean]",$t="[object Date]",Kt="[object Error]",Jt="[object Function]",Zt="[object Map]",en="[object Number]",tn="[object Object]",nn="[object RegExp]",rn="[object Set]",on="[object String]",an="[object WeakMap]",sn="[object ArrayBuffer]",ln="[object DataView]",un="[object Float32Array]",cn="[object Float64Array]",pn="[object Int8Array]",dn="[object Int16Array]",fn="[object Int32Array]",hn="[object Uint8Array]",mn="[object Uint8ClampedArray]",bn="[object Uint16Array]",yn="[object Uint32Array]",gn={};gn[un]=gn[cn]=gn[pn]=gn[dn]=gn[fn]=gn[hn]=gn[mn]=gn[bn]=gn[yn]=!0,gn[Xt]=gn[zt]=gn[sn]=gn[Gt]=gn[ln]=gn[$t]=gn[Kt]=gn[Jt]=gn[Zt]=gn[en]=gn[tn]=gn[nn]=gn[rn]=gn[on]=gn[an]=!1;var _n="object"==typeof e&&e&&!e.nodeType&&e,vn=_n&&"object"==typeof module&&module&&!module.nodeType&&module,Tn=vn&&vn.exports===_n,En=Tn&&dt.process,wn=function(){try{return En&&En.binding("util")}catch(e){}}(),Sn=wn&&wn.isTypedArray,An=Sn?A(Sn):S,Dn=Object.prototype,Cn=Dn.hasOwnProperty,In=Object.prototype,On=I(Object.keys,Object),Nn=Object.prototype,xn=Nn.hasOwnProperty,Rn=P(j,1/0),kn=function(e,t,n){var r=b(e)?B:Rn;r(e,u(t),n)},Ln=F(q),Mn=c(Ln),Un=Y(q),jn=P(Un,1),Pn=c(jn),Bn=function(e){var n=t(arguments,1);return function(){var r=t(arguments);return e.apply(null,n.concat(r))}},Fn=H(),qn=function(e,n,r){function i(e,t){v.push(function(){l(e,t)})}function o(){if(0===v.length&&0===m)return r(null,h);for(;v.length&&n>m;){var e=v.shift();e()}}function a(e,t){var n=_[e];n||(n=_[e]=[]),n.push(t)}function s(e){var t=_[e]||[];W(t,function(e){e()}),o()}function l(e,n){if(!b){var i=M(function(n,i){if(m--,arguments.length>2&&(i=t(arguments,1)),n){var o={};V(h,function(e,t){o[t]=e}),o[e]=i,b=!0,_=Object.create(null),r(n,o)}else h[e]=i,s(e)});m++;var o=u(n[n.length-1]);n.length>1?o(h,i):o(i)}}function c(){for(var e,t=0;T.length;)e=T.pop(),t++,W(p(e),function(e){0===--E[e]&&T.push(e)});if(t!==f)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}function p(t){var n=[];return V(e,function(e,r){Pt(e)&&G(e,t,0)>=0&&n.push(r)}),n}"function"==typeof n&&(r=n,n=null),r=g(r||y);var d=N(e),f=d.length;if(!f)return r(null);n||(n=f);var h={},m=0,b=!1,_=Object.create(null),v=[],T=[],E={};V(e,function(t,n){if(!Pt(t))return i(n,[t]),void T.push(n);var r=t.slice(0,t.length-1),o=r.length;return 0===o?(i(n,t),void T.push(n)):(E[n]=o,void W(r,function(s){if(!e[s])throw new Error("async.auto task `"+n+"` has a non-existent dependency `"+s+"` in "+r.join(", "));a(s,function(){o--,0===o&&i(n,t)})}))}),c(),o()},Yn="[object Symbol]",Wn=1/0,Hn=mt?mt.prototype:void 0,Vn=Hn?Hn.toString:void 0,Qn="\\ud800-\\udfff",Xn="\\u0300-\\u036f\\ufe20-\\ufe23",zn="\\u20d0-\\u20f0",Gn="\\ufe0e\\ufe0f",$n="\\u200d",Kn=RegExp("["+$n+Qn+Xn+zn+Gn+"]"),Jn="\\ud800-\\udfff",Zn="\\u0300-\\u036f\\ufe20-\\ufe23",er="\\u20d0-\\u20f0",tr="\\ufe0e\\ufe0f",nr="["+Jn+"]",rr="["+Zn+er+"]",ir="\\ud83c[\\udffb-\\udfff]",or="(?:"+rr+"|"+ir+")",ar="[^"+Jn+"]",sr="(?:\\ud83c[\\udde6-\\uddff]){2}",lr="[\\ud800-\\udbff][\\udc00-\\udfff]",ur="\\u200d",cr=or+"?",pr="["+tr+"]?",dr="(?:"+ur+"(?:"+[ar,sr,lr].join("|")+")"+pr+cr+")*",fr=pr+cr+dr,hr="(?:"+[ar+rr+"?",rr,sr,lr,nr].join("|")+")",mr=RegExp(ir+"(?="+ir+")|"+hr+fr,"g"),br=/^\s+|\s+$/g,yr=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,gr=/,/,_r=/(=.+)?(\s*)$/,vr=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;pe.prototype.removeLink=function(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e},pe.prototype.empty=function(){for(;this.head;)this.shift();return this},pe.prototype.insertAfter=function(e,t){t.prev=e,t.next=e.next,e.next?e.next.prev=t:this.tail=t,e.next=t,this.length+=1},pe.prototype.insertBefore=function(e,t){t.prev=e.prev,t.next=e,e.prev?e.prev.next=t:this.head=t,e.prev=t,this.length+=1},pe.prototype.unshift=function(e){this.head?this.insertBefore(this.head,e):de(this,e)},pe.prototype.push=function(e){this.tail?this.insertAfter(this.tail,e):de(this,e)},pe.prototype.shift=function(){return this.head&&this.removeLink(this.head)},pe.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},pe.prototype.toArray=function(){for(var e=Array(this.length),t=this.head,n=0;n<this.length;n++)e[n]=t.data,t=t.next;return e},pe.prototype.remove=function(e){for(var t=this.head;t;){var n=t.next;e(t)&&this.removeLink(t),t=n}return this};var Tr,Er=P(j,1),wr=function(){return be.apply(null,t(arguments).reverse())},Sr=F(ye),Ar=ge(ye),Dr=function(){var e=t(arguments),n=[null].concat(e);return function(){var e=arguments[arguments.length-1];return e.apply(this,n)}},Cr=F(ve(_e,Te)),Ir=Y(ve(_e,Te)),Or=P(Ir,1),Nr=Ee("dir"),xr=P(Oe,1),Rr=F(ve(xe,xe)),kr=Y(ve(xe,xe)),Lr=P(kr,1),Mr=F(Me),Ur=Y(Me),jr=P(Ur,1),Pr=function(e,t,n,r){r=r||y;var i=u(n);Un(e,t,function(e,t){i(e,function(n,r){return n?t(n):t(null,{key:r,val:e})})},function(e,t){for(var n={},i=Object.prototype.hasOwnProperty,o=0;o<t.length;o++)if(t[o]){var a=t[o].key,s=t[o].val;i.call(n,a)?n[a].push(s):n[a]=[s]}return r(e,n)})},Br=P(Pr,1/0),Fr=P(Pr,1),qr=Ee("log"),Yr=P(je,1/0),Wr=P(je,1);Tr=ut?process.nextTick:lt?setImmediate:r;var Hr=i(Tr),Vr=function(e,t){var n=u(e);return fe(function(e,t){n(e[0],t)},t,1)},Qr=function(e,t){var n=Vr(e,t);return n.push=function(e,t,r){if(null==r&&(r=y),"function"!=typeof r)throw new Error("task callback must be a function");if(n.started=!0,Pt(e)||(e=[e]),0===e.length)return ct(function(){n.drain()});t=t||0;for(var i=n._tasks.head;i&&t>=i.priority;)i=i.next;for(var o=0,a=e.length;a>o;o++){var s={data:e[o],priority:t,callback:r};i?n._tasks.insertBefore(i,s):n._tasks.push(s)}ct(n.process)},delete n.unshift,n},Xr=F(Qe),zr=Y(Qe),Gr=P(zr,1),$r=function(e,t){t||(t=e,e=null);var n=u(t);return st(function(t,r){function i(e){n.apply(null,t.concat(e))}e?Ge(e,i,r):Ge(i,r)})},Kr=F(ve(Boolean,_e)),Jr=Y(ve(Boolean,_e)),Zr=P(Jr,1),ei=Math.ceil,ti=Math.max,ni=P(et,1/0),ri=P(et,1),ii=function(e,n){function r(t){var n=u(e[o++]);t.push(M(i)),n.apply(null,t)}function i(i){return i||o===e.length?n.apply(null,arguments):void r(t(arguments,1))}if(n=g(n||y),!Pt(e))return n(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return n();var o=0;r([])},oi={applyEach:Mn,applyEachSeries:Pn,apply:Bn,asyncify:o,auto:qn,autoInject:ce,cargo:he,compose:wr,concat:Sr,concatSeries:Ar,constant:Dr,detect:Cr,detectLimit:Ir,detectSeries:Or,dir:Nr,doDuring:we,doUntil:Ae,doWhilst:Se,during:De,each:Ie,eachLimit:Oe,eachOf:kn,eachOfLimit:j,eachOfSeries:Er,eachSeries:xr,ensureAsync:Ne,every:Rr,everyLimit:kr,everySeries:Lr,filter:Mr,filterLimit:Ur,filterSeries:jr,forever:Ue,groupBy:Br,groupByLimit:Pr,groupBySeries:Fr,log:qr,map:Ln,mapLimit:Un,mapSeries:jn,mapValues:Yr,mapValuesLimit:je,mapValuesSeries:Wr,memoize:Be,nextTick:Hr,parallel:qe,parallelLimit:Ye,priorityQueue:Qr,queue:Vr,race:We,reduce:me,reduceRight:He,reflect:Ve,reflectAll:Xe,reject:Xr,rejectLimit:zr,rejectSeries:Gr,retry:Ge,retryable:$r,seq:be,series:$e,setImmediate:ct,some:Kr,someLimit:Jr,someSeries:Zr,sortBy:Ke,timeout:Je,times:ni,timesLimit:et,timesSeries:ri,transform:tt,tryEach:nt,unmemoize:rt,until:ot,waterfall:ii,whilst:it,all:Rr,any:Kr,forEach:Ie,forEachSeries:xr,forEachLimit:Oe,forEachOf:kn,forEachOfSeries:Er,forEachOfLimit:j,inject:me,foldl:me,foldr:He,select:Mr,selectLimit:Ur,selectSeries:jr,wrapSync:o};e["default"]=oi,e.applyEach=Mn,e.applyEachSeries=Pn,e.apply=Bn,e.asyncify=o,e.auto=qn,e.autoInject=ce,e.cargo=he,e.compose=wr,e.concat=Sr,e.concatSeries=Ar,e.constant=Dr,e.detect=Cr,e.detectLimit=Ir,e.detectSeries=Or,e.dir=Nr,e.doDuring=we,e.doUntil=Ae,e.doWhilst=Se,e.during=De,e.each=Ie,e.eachLimit=Oe,e.eachOf=kn,e.eachOfLimit=j,e.eachOfSeries=Er,e.eachSeries=xr,e.ensureAsync=Ne,e.every=Rr,e.everyLimit=kr,e.everySeries=Lr,e.filter=Mr,e.filterLimit=Ur,e.filterSeries=jr,e.forever=Ue,e.groupBy=Br,e.groupByLimit=Pr,e.groupBySeries=Fr,e.log=qr,e.map=Ln,e.mapLimit=Un,e.mapSeries=jn,e.mapValues=Yr,e.mapValuesLimit=je,e.mapValuesSeries=Wr,e.memoize=Be,e.nextTick=Hr,e.parallel=qe,e.parallelLimit=Ye,e.priorityQueue=Qr,e.queue=Vr,e.race=We,e.reduce=me,e.reduceRight=He,e.reflect=Ve,e.reflectAll=Xe,e.reject=Xr,e.rejectLimit=zr,e.rejectSeries=Gr,e.retry=Ge,e.retryable=$r,e.seq=be,e.series=$e,e.setImmediate=ct,e.some=Kr,e.someLimit=Jr,e.someSeries=Zr,e.sortBy=Ke,e.timeout=Je,e.times=ni,e.timesLimit=et,e.timesSeries=ri,e.transform=tt,e.tryEach=nt,e.unmemoize=rt,e.until=ot,e.waterfall=ii,e.whilst=it,e.all=Rr,e.allLimit=kr,e.allSeries=Lr,e.any=Kr,e.anyLimit=Jr,e.anySeries=Zr,e.find=Cr,e.findLimit=Ir,e.findSeries=Or,e.forEach=Ie,e.forEachSeries=xr,e.forEachLimit=Oe,e.forEachOf=kn,e.forEachOfSeries=Er,e.forEachOfLimit=j,e.inject=me,e.foldl=me,e.foldr=He,e.select=Mr,e.selectLimit=Ur,e.selectSeries=jr,e.wrapSync=o,Object.defineProperty(e,"__esModule",{value:!0})}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.jsforce=e()}}(function(){var e;return function(){function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return i(n||e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}return e}()({1:[function(e,t,n){"use strict";var r=e("../core");r.browser=e("./client"),e("../api"),t.exports=r},{"../api":8,"../core":20,"./client":15}],2:[function(e,t,n){"use strict";t.exports="1.9.1"},{}],3:[function(e,t,n){"use strict";t.exports={inherits:e("inherits"),util:e("util"),events:e("events"),"lodash/core":e("lodash/core"),"readable-stream":e("readable-stream"),multistream:e("multistream"),"./VERSION":e("./VERSION"),"./cache":e("./cache"),"./connection":e("./connection"),"./core":e("./core"),"./csv":e("./csv"),"./date":e("./date"),"./http-api":e("./http-api"),"./logger":e("./logger"),"./oauth2":e("./oauth2"),"./process":e("./process"),"./promise":e("./promise"),"./query":e("./query"),"./quick-action":e("./quick-action"),"./record-stream":e("./record-stream"),"./record":e("./record"),"./soap":e("./soap"),"./sobject":e("./sobject"),"./soql-builder":e("./soql-builder"),"./transport":e("./transport")}},{"./VERSION":2,"./cache":18,
"./connection":19,"./core":20,"./csv":21,"./date":22,"./http-api":23,"./logger":24,"./oauth2":25,"./process":26,"./promise":27,"./query":28,"./quick-action":29,"./record":31,"./record-stream":30,"./soap":33,"./sobject":34,"./soql-builder":35,"./transport":36,events:47,inherits:84,"lodash/core":88,multistream:89,"readable-stream":107,util:117}],4:[function(e,t,n){"use strict";var r=e("lodash/core"),i=e("../core"),o=(e("../promise"),function(e,t){this._report=e,this._conn=e._conn,this.id=t});o.prototype.retrieve=function(e){var t=this._conn,n=this._report,r=[t._baseUrl(),"analytics","reports",n.id,"instances",this.id].join("/");return t.request(r).thenCall(e)};var a=function(e,t){this._conn=e,this.id=t};a.prototype.describe=function(e){var t=[this._conn._baseUrl(),"analytics","reports",this.id,"describe"].join("/");return this._conn.request(t).thenCall(e)},a.prototype["delete"]=a.prototype.del=a.prototype.destroy=function(e){var t=[this._conn._baseUrl(),"analytics","reports",this.id].join("/");return this._conn.request({method:"DELETE",url:t}).thenCall(e)},a.prototype.clone=function(e,t){var n=[this._conn._baseUrl(),"analytics","reports"].join("/");n+="?cloneId="+this.id;var r={reportMetadata:{name:e}},i={method:"POST",url:n,headers:{"Content-Type":"application/json"},body:JSON.stringify(r)};return this._conn.request(i).thenCall(t)},a.prototype.explain=function(e){var t="/query/?explain="+this.id;return this._conn.request(t).thenCall(e)},a.prototype.run=a.prototype.exec=a.prototype.execute=function(e,t){e=e||{},r.isFunction(e)&&(t=e,e={});var n=[this._conn._baseUrl(),"analytics","reports",this.id].join("/");n+="?includeDetails="+(e.details?"true":"false");var i={method:e.metadata?"POST":"GET",url:n};return e.metadata&&(i.headers={"Content-Type":"application/json"},i.body=JSON.stringify(e.metadata)),this._conn.request(i).thenCall(t)},a.prototype.executeAsync=function(e,t){e=e||{},r.isFunction(e)&&(t=e,e={});var n=[this._conn._baseUrl(),"analytics","reports",this.id,"instances"].join("/");e.details&&(n+="?includeDetails=true");var i={method:"POST",url:n,body:""};return e.metadata&&(i.headers={"Content-Type":"application/json"},i.body=JSON.stringify(e.metadata)),this._conn.request(i).thenCall(t)},a.prototype.instance=function(e){return new o(this,e)},a.prototype.instances=function(e){var t=[this._conn._baseUrl(),"analytics","reports",this.id,"instances"].join("/");return this._conn.request(t).thenCall(e)};var s=function(e,t){this._conn=e,this.id=t};s.prototype.describe=function(e){var t=[this._conn._baseUrl(),"analytics","dashboards",this.id,"describe"].join("/");return this._conn.request(t).thenCall(e)},s.prototype.components=function(e,t){var n=[this._conn._baseUrl(),"analytics","dashboards",this.id].join("/"),i={};r.isFunction(e)?t=e:r.isArray(e)?i.componentIds=e:r.isString(e)&&(i.componentIds=[e]);var o={method:"POST",url:n,headers:{"Content-Type":"application/json"},body:JSON.stringify(i)};return this._conn.request(o).thenCall(t)},s.prototype.status=function(e){var t=[this._conn._baseUrl(),"analytics","dashboards",this.id,"status"].join("/");return this._conn.request(t).thenCall(e)},s.prototype.refresh=function(e){var t=[this._conn._baseUrl(),"analytics","dashboards",this.id].join("/"),n={method:"PUT",url:t,body:""};return this._conn.request(n).thenCall(e)},s.prototype.clone=function(e,t,n){var i=[this._conn._baseUrl(),"analytics","dashboards"].join("/");i+="?cloneId="+this.id;var o={};r.isObject(e)?(o=e,n=t):(o.name=e,o.folderId=t);var a={method:"POST",url:i,headers:{"Content-Type":"application/json"},body:JSON.stringify(o)};return this._conn.request(a).thenCall(n)},s.prototype["delete"]=s.prototype.del=s.prototype.destroy=function(e){var t=[this._conn._baseUrl(),"analytics","dashboards",this.id].join("/");return this._conn.request({method:"DELETE",url:t}).thenCall(e)};var l=function(e){this._conn=e};l.prototype.report=function(e){return new a(this._conn,e)},l.prototype.reports=function(e){var t=[this._conn._baseUrl(),"analytics","reports"].join("/");return this._conn.request(t).thenCall(e)},l.prototype.dashboard=function(e){return new s(this._conn,e)},l.prototype.dashboards=function(e){var t=[this._conn._baseUrl(),"analytics","dashboards"].join("/");return this._conn.request(t).thenCall(e)},i.on("connection:new",function(e){e.analytics=new l(e)}),t.exports=l},{"../core":20,"../promise":27,"lodash/core":88}],5:[function(e,t,n){"use strict";var r=e("../core"),i=function(e){this._conn=e};i.prototype._baseUrl=function(){return this._conn.instanceUrl+"/services/apexrest"},i.prototype._createRequestParams=function(e,t,n,r){var i={method:e,url:this._baseUrl()+t},o={};return r&&"object"==typeof r.headers&&(o=r.headers),/^(GET|DELETE)$/i.test(e)||(o["Content-Type"]="application/json"),i.headers=o,n&&(i.body=JSON.stringify(n)),i},i.prototype.get=function(e,t,n){return"function"==typeof t&&(n=t,t=void 0),this._conn.request(this._createRequestParams("GET",e,void 0,t)).thenCall(n)},i.prototype.post=function(e,t,n,r){"function"==typeof t&&(r=t,t=void 0,n=void 0),"function"==typeof n&&(r=n,n=void 0);var i=this._createRequestParams("POST",e,t,n);return this._conn.request(i).thenCall(r)},i.prototype.put=function(e,t,n,r){"function"==typeof t&&(r=t,t=void 0,n=void 0),"function"==typeof n&&(r=n,n=void 0);var i=this._createRequestParams("PUT",e,t,n);return this._conn.request(i).thenCall(r)},i.prototype.patch=function(e,t,n,r){"function"==typeof t&&(r=t,t=void 0,n=void 0),"function"==typeof n&&(r=n,n=void 0);var i=this._createRequestParams("PATCH",e,t,n);return this._conn.request(i).thenCall(r)},i.prototype.del=i.prototype["delete"]=function(e,t,n){return"function"==typeof t&&(n=t,t=void 0),this._conn.request(this._createRequestParams("DELETE",e,void 0,t)).thenCall(n)},r.on("connection:new",function(e){e.apex=new i(e)}),t.exports=i},{"../core":20}],6:[function(e,t,n){(function(n){"use strict";var r=e("inherits"),i=e("readable-stream"),o=i.Duplex,a=e("events"),s=e("lodash/core"),l=e("multistream"),u=e("../core"),c=e("../record-stream"),p=e("../promise"),d=e("../http-api"),f=function(e,t,n,r,i){this._bulk=e,this.type=t,this.operation=n,this.options=r||{},this.id=i,this.state=this.id?"Open":"Unknown",this._batches={}};r(f,a.EventEmitter),f.prototype.info=function(e){return this._jobInfo||(this._jobInfo=this.check()),this._jobInfo.thenCall(e)},f.prototype.open=function(e){var t=this,n=this._bulk;if(n._logger,!this._jobInfo){var r=this.operation.toLowerCase();"harddelete"===r&&(r="hardDelete");var i=['<?xml version="1.0" encoding="UTF-8"?>','<jobInfo  xmlns="http://www.force.com/2009/06/asyncapi/dataload">',"<operation>"+r+"</operation>","<object>"+this.type+"</object>",this.options.extIdField?"<externalIdFieldName>"+this.options.extIdField+"</externalIdFieldName>":"",this.options.concurrencyMode?"<concurrencyMode>"+this.options.concurrencyMode+"</concurrencyMode>":"",this.options.assignmentRuleId?"<assignmentRuleId>"+this.options.assignmentRuleId+"</assignmentRuleId>":"","<contentType>CSV</contentType>","</jobInfo>"].join("");this._jobInfo=n._request({method:"POST",path:"/job",body:i,headers:{"Content-Type":"application/xml; charset=utf-8"},responseType:"application/xml"}).then(function(e){return t.emit("open",e.jobInfo),t.id=e.jobInfo.id,t.state=e.jobInfo.state,e.jobInfo},function(e){throw t.emit("error",e),e})}return this._jobInfo.thenCall(e)},f.prototype.createBatch=function(){var e=new h(this),t=this;return e.on("queue",function(){t._batches[e.id]=e}),e},f.prototype.batch=function(e){var t=this._batches[e];return t||(t=new h(this,e),this._batches[e]=t),t},f.prototype.check=function(e){var t=this,n=this._bulk,r=n._logger;return this._jobInfo=this._waitAssign().then(function(){return n._request({method:"GET",path:"/job/"+t.id,responseType:"application/xml"})}).then(function(e){return r.debug(e.jobInfo),t.id=e.jobInfo.id,t.type=e.jobInfo.object,t.operation=e.jobInfo.operation,t.state=e.jobInfo.state,e.jobInfo}),this._jobInfo.thenCall(e)},f.prototype._waitAssign=function(e){return(this.id?p.resolve({id:this.id}):this.open()).thenCall(e)},f.prototype.list=function(e){var t=this,n=this._bulk,r=n._logger;return this._waitAssign().then(function(){return n._request({method:"GET",path:"/job/"+t.id+"/batch",responseType:"application/xml"})}).then(function(e){r.debug(e.batchInfoList.batchInfo);var t=e.batchInfoList;return t=s.isArray(t.batchInfo)?t.batchInfo:[t.batchInfo]}).thenCall(e)},f.prototype.close=function(){var e=this;return this._changeState("Closed").then(function(t){return e.id=null,e.emit("close",t),t},function(t){throw e.emit("error",t),t})},f.prototype.abort=function(){var e=this;return this._changeState("Aborted").then(function(t){return e.id=null,e.emit("abort",t),t},function(t){throw e.emit("error",t),t})},f.prototype._changeState=function(e,t){var n=this,r=this._bulk,i=r._logger;return this._jobInfo=this._waitAssign().then(function(){var t=['<?xml version="1.0" encoding="UTF-8"?>','<jobInfo xmlns="http://www.force.com/2009/06/asyncapi/dataload">',"<state>"+e+"</state>","</jobInfo>"].join("");return r._request({method:"POST",path:"/job/"+n.id,body:t,headers:{"Content-Type":"application/xml; charset=utf-8"},responseType:"application/xml"})}).then(function(e){return i.debug(e.jobInfo),n.state=e.jobInfo.state,e.jobInfo}),this._jobInfo.thenCall(t)};var h=function(e,t){h.super_.call(this,{objectMode:!0}),this.job=e,this.id=t,this._bulk=e._bulk,this._deferred=p.defer(),this._setupDataStreams()};r(h,i.Writable),h.prototype._setupDataStreams=function(){var e=this,t={nullValue:"#N/A"};this._uploadStream=new c.Serializable,this._uploadDataStream=this._uploadStream.stream("csv",t),this._downloadStream=new c.Parsable,this._downloadDataStream=this._downloadStream.stream("csv",t),this.on("finish",function(){e._uploadStream.end()}),this._uploadDataStream.once("readable",function(){e.job.open().then(function(){e._uploadDataStream.pipe(e._createRequestStream())})});var n=this._dataStream=new o;n._write=function(t,n,r){e._uploadDataStream.write(t,n,r)},n.on("finish",function(){e._uploadDataStream.end()}),this._downloadDataStream.on("readable",function(){n.read(0)}),this._downloadDataStream.on("end",function(){n.push(null)}),n._read=function(t){for(var r;null!==(r=e._downloadDataStream.read());)n.push(r)}},h.prototype._createRequestStream=function(){var e=this,t=e._bulk,n=t._logger;return t._request({method:"POST",path:"/job/"+e.job.id+"/batch",headers:{"Content-Type":"text/csv"},responseType:"application/xml"},function(t,r){t?e.emit("error",t):(n.debug(r.batchInfo),e.id=r.batchInfo.id,e.emit("queue",r.batchInfo))}).stream()},h.prototype._write=function(e,t,n){e=s.clone(e),"insert"===this.job.operation?delete e.Id:"delete"===this.job.operation&&(e={Id:e.Id}),delete e.type,delete e.attributes,this._uploadStream.write(e,t,n)},h.prototype.stream=function(){return this._dataStream},h.prototype.run=h.prototype.exec=h.prototype.execute=function(e,t){var n=this;if("function"==typeof e&&(t=e,e=null),this._result)throw new Error("Batch already executed.");var r=p.defer();if(this._result=r.promise,this._result.then(function(e){n._deferred.resolve(e)},function(e){n._deferred.reject(e)}),this.once("response",function(e){r.resolve(e)}),this.once("error",function(e){r.reject(e)}),s.isObject(e)&&s.isFunction(e.pipe))e.pipe(this._dataStream);else{var i;s.isArray(e)?(s.forEach(e,function(e){Object.keys(e).forEach(function(t){"boolean"==typeof e[t]&&(e[t]=String(e[t]))}),n.write(e)}),n.end()):s.isString(e)&&(i=e,this._dataStream.write(i,"utf8"),this._dataStream.end())}return this.thenCall(t)},h.prototype.then=function(e,t,n){return this._deferred.promise.then(e,t,n)},h.prototype.thenCall=function(e){return s.isFunction(e)&&this.then(function(t){n.nextTick(function(){e(null,t)})},function(t){n.nextTick(function(){e(t)})}),this},h.prototype.check=function(e){var t=this._bulk,n=t._logger,r=this.job.id,i=this.id;if(!r||!i)throw new Error("Batch not started.");return t._request({method:"GET",path:"/job/"+r+"/batch/"+i,responseType:"application/xml"}).then(function(e){return n.debug(e.batchInfo),e.batchInfo}).thenCall(e)},h.prototype.poll=function(e,t){var n=this,r=this.job.id,i=this.id;if(!r||!i)throw new Error("Batch not started.");var o=(new Date).getTime(),a=function(){var s=(new Date).getTime();if(s>o+t){var l=new Error("Polling time out. Job Id = "+r+" , batch Id = "+i);return l.name="PollingTimeout",l.jobId=r,l.batchId=i,void n.emit("error",l)}n.check(function(t,r){t?n.emit("error",t):"Failed"===r.state?parseInt(r.numberRecordsProcessed,10)>0?n.retrieve():n.emit("error",new Error(r.stateMessage)):"Completed"===r.state?n.retrieve():(n.emit("progress",r),setTimeout(a,e))})};setTimeout(a,e)},h.prototype.retrieve=function(e){var t=this,n=this._bulk,r=this.job.id,i=this.job,o=this.id;if(!r||!o)throw new Error("Batch not started.");return i.info().then(function(e){return n._request({method:"GET",path:"/job/"+r+"/batch/"+o+"/result"})}).then(function(e){var a;return"query"===i.operation?(n._conn,e["result-list"].result,a=e["result-list"].result,a=s.map(s.isArray(a)?a:[a],function(e){return{id:e,batchId:o,jobId:r}})):a=s.map(e,function(e){return{id:e.Id||null,success:"true"===e.Success,errors:e.Error?[e.Error]:[]}}),t.emit("response",a),a}).fail(function(e){throw t.emit("error",e),e}).thenCall(e)},h.prototype.result=function(e){var t=this.job.id,n=this.id;if(!t||!n)throw new Error("Batch not started.");var r=new c.Parsable,i=r.stream("csv");return this._bulk._request({method:"GET",path:"/job/"+t+"/batch/"+n+"/result/"+e,responseType:"application/octet-stream"}).stream().pipe(i),r};var m=function(){m.super_.apply(this,arguments)};r(m,d),m.prototype.beforeSend=function(e){e.headers=e.headers||{},e.headers["X-SFDC-SESSION"]=this._conn.accessToken},m.prototype.isSessionExpired=function(e){return 400===e.statusCode&&/<exceptionCode>InvalidSessionId<\/exceptionCode>/.test(e.body)},m.prototype.hasErrorInResponseBody=function(e){return!!e.error},m.prototype.parseError=function(e){return{errorCode:e.error.exceptionCode,message:e.error.exceptionMessage}};var b=function(e){this._conn=e,this._logger=e._logger};b.prototype.pollInterval=1e3,b.prototype.pollTimeout=1e4,b.prototype._request=function(e,t){var n=this._conn;e=s.clone(e);var r=[n.instanceUrl,"services/async",n.version].join("/");e.url=r+e.path;var i={responseType:e.responseType};return delete e.path,delete e.responseType,new m(this._conn,i).request(e).thenCall(t)},b.prototype.load=function(e,t,n,r,i){var o=this;if(!e||!t)throw new Error("Insufficient arguments. At least, 'type' and 'operation' are required.");s.isObject(n)&&n.constructor===Object||(i=r,r=n,n=null);var a=this.createJob(e,t,n);a.once("error",function(e){l&&l.emit("error",e)});var l=a.createBatch(),u=function(){l=null,a.close()},c=function(e){"PollingTimeout"!==e.name&&u()};return l.on("response",u),l.on("error",c),l.on("queue",function(){l.poll(o.pollInterval,o.pollTimeout)}),l.execute(r,i)},b.prototype.query=function(e){var t=e.replace(/\([\s\S]+\)/g,"").match(/FROM\s+(\w+)/i);if(!t)throw new Error("No sobject type found in query, maybe caused by invalid SOQL.");var n=t[1],r=this,i=new c.Parsable,o=i.stream("csv");return this.load(n,"query",e).then(function(e){var t=e.map(function(e){return r.job(e.jobId).batch(e.batchId).result(e.id).stream()});l(t).pipe(o)}).fail(function(e){i.emit("error",e)}),i},b.prototype.createJob=function(e,t,n){return new f(this,e,t,n)},b.prototype.job=function(e){return new f(this,null,null,null,e)},u.on("connection:new",function(e){e.bulk=new b(e)}),t.exports=b}).call(this,e("_process"))},{"../core":20,"../http-api":23,"../promise":27,"../record-stream":30,_process:91,events:47,inherits:84,"lodash/core":88,multistream:89,"readable-stream":107}],7:[function(e,t,n){"use strict";var r=e("inherits"),i=e("lodash/core"),o=e("../core"),a=e("../promise"),s=t.exports=function(e){this._conn=e};s.prototype._request=function(e,t){return/^(put|post|patch)$/i.test(e.method)&&i.isObject(e.body)&&(e.headers={"Content-Type":"application/json"},e.body=JSON.stringify(e.body)),e.url=this._normalizeUrl(e.url),this._conn.request(e,t)},s.prototype._normalizeUrl=function(e){return 0===e.indexOf("/chatter/")||0===e.indexOf("/connect/")?"/services/data/v"+this._conn.version+e:/^\/v[\d]+\.[\d]+\//.test(e)?"/services/data"+e:0!==e.indexOf("/services/")&&"/"===e[0]?"/services/data/v"+this._conn.version+"/chatter"+e:e},s.prototype.request=function(e,t){return new l(this,e).thenCall(t)},s.prototype.resource=function(e,t){return new u(this,e,t)},s.prototype.batch=function(e,t){var n=[],r=[];i.forEach(e,function(e){var t=a.defer();e._promise=t.promise,n.push(e.batchParams()),r.push(t)});var o={method:"POST",url:this._normalizeUrl("/connect/batch"),body:{batchRequests:n}};return this.request(o).then(function(e){return i.forEach(e.results,function(e,t){var n=r[t];e.statusCode>=400?n.reject(e.result):n.resolve(e.result)}),e}).thenCall(t)};var l=function(e,t){this._chatter=e,this._params=t,this._promise=null};l.prototype.batchParams=function(){var e=this._params,t={method:e.method,url:this._chatter._normalizeUrl(e.url)};return this._params.body&&(t.richInput=this._params.body),t},l.prototype.promise=function(){return this._promise||this._chatter._request(this._params)},l.prototype.stream=function(){return this._chatter._request(this._params).stream()},l.prototype.then=function(e,t){return this.promise().then(e,t)},l.prototype.thenCall=function(e){return i.isFunction(e)?this.promise().thenCall(e):this};var u=function(e,t,n){if(n){var r=i.map(i.keys(n),function(e){return e+"="+encodeURIComponent(n[e])}).join("&");t+=(t.indexOf("?")>0?"&":"?")+r}u.super_.call(this,e,{method:"GET",url:t}),this._url=t};r(u,l),u.prototype.create=function(e,t){return this._chatter.request({method:"POST",url:this._url,body:e}).thenCall(t)},u.prototype.retrieve=function(e){return this.thenCall(e)},u.prototype.update=function(e,t){return this._chatter.request({method:"POST",url:this._url,body:e}).thenCall(t)},u.prototype.del=u.prototype["delete"]=function(e){return this._chatter.request({method:"DELETE",url:this._url}).thenCall(e)},o.on("connection:new",function(e){e.chatter=new s(e)})},{"../core":20,"../promise":27,inherits:84,"lodash/core":88}],8:[function(e,t,n){e("./analytics"),e("./apex"),e("./bulk"),e("./chatter"),e("./metadata"),e("./soap"),e("./streaming"),e("./tooling")},{"./analytics":4,"./apex":5,"./bulk":6,"./chatter":7,"./metadata":9,"./soap":10,"./streaming":12,"./tooling":13}],9:[function(e,t,n){(function(n,r){"use strict";function i(e){var t=c.clone(e);return t.success="true"===t.success,t}function o(e){var t=i(e);return t.created="true"===t.created,t}function a(e){var t=c.clone(e);return delete t.$,t}var s=e("inherits"),l=e("events"),u=e("readable-stream"),c=e("lodash/core"),p=e("../core"),d=e("../promise"),f=e("../soap"),h=t.exports=function(e){this._conn=e};h.prototype.pollInterval=1e3,h.prototype.pollTimeout=1e4,h.prototype._invoke=function(e,t,n){var r=new f(this._conn,{xmlns:"http://soap.sforce.com/2006/04/metadata",endpointUrl:this._conn.instanceUrl+"/services/Soap/m/"+this._conn.version});return r.invoke(e,t).then(function(e){return e.result}).thenCall(n)},h.prototype.createAsync=function(e,t,n){if(Number(this._conn.version)>30)throw new Error("Async metadata CRUD calls are not supported on ver 31.0 or later.");var r=function(t){return t["@xsi:type"]=e,t},i=c.isArray(t);t=i?c.map(t,r):r(t);var o=this._invoke("create",{metadata:t});return new m(this,o,i).thenCall(n)},h.prototype.createSync=h.prototype.create=function(e,t,n){var r=function(t){return t["@xsi:type"]=e,t},o=c.isArray(t);return t=o?c.map(t,r):r(t),this._invoke("createMetadata",{metadata:t}).then(function(e){return c.isArray(e)?c.map(e,i):i(e)}).thenCall(n)},h.prototype.readSync=h.prototype.read=function(e,t,n){return this._invoke("readMetadata",{type:e,fullNames:t}).then(function(e){return c.isArray(e.records)?c.map(e.records,a):a(e.records)}).thenCall(n)},h.prototype.updateAsync=function(e,t,n){if(Number(this._conn.version)>30)throw new Error("Async metadata CRUD calls are not supported on ver 31.0 or later.");var r=function(t){return t.metadata["@xsi:type"]=e,t},i=c.isArray(t);t=i?c.map(t,r):r(t);var o=this._invoke("update",{updateMetadata:t});return new m(this,o,i).thenCall(n)},h.prototype.updateSync=h.prototype.update=function(e,t,n){var r=function(t){return t["@xsi:type"]=e,t},o=c.isArray(t);return t=o?c.map(t,r):r(t),this._invoke("updateMetadata",{metadata:t}).then(function(e){return c.isArray(e)?c.map(e,i):i(e)}).thenCall(n)},h.prototype.upsertSync=h.prototype.upsert=function(e,t,n){var r=function(t){return t["@xsi:type"]=e,t},i=c.isArray(t);return t=i?c.map(t,r):r(t),this._invoke("upsertMetadata",{metadata:t}).then(function(e){return c.isArray(e)?c.map(e,o):o(e)}).thenCall(n)},h.prototype.deleteAsync=function(e,t,n){if(Number(this._conn.version)>30)throw new Error("Async metadata CRUD calls are not supported on ver 31.0 or later.");var r=function(t){return c.isString(t)&&(t={fullName:t}),t["@xsi:type"]=e,t},i=c.isArray(t);t=i?c.map(t,r):r(t);var o=this._invoke("delete",{metadata:t});return new m(this,o,i).thenCall(n)},h.prototype.del=h.prototype.deleteSync=h.prototype["delete"]=function(e,t,n){return this._invoke("deleteMetadata",{type:e,fullNames:t}).then(function(e){return c.isArray(e)?c.map(e,i):i(e)}).thenCall(n)},h.prototype.rename=function(e,t,n,r){return this._invoke("renameMetadata",{type:e,oldFullName:t,newFullName:n}).then(function(e){return i(e)}).thenCall(r)},h.prototype.checkStatus=function(e,t){var n=c.isArray(e),r=this._invoke("checkStatus",{asyncProcessId:e});return new m(this,r,n).thenCall(t)},h.prototype.describe=function(e,t){return c.isString(e)||(t=e,e=this._conn.version),this._invoke("describeMetadata",{asOfVersion:e}).then(function(e){return e.metadataObjects=c.isArray(e.metadataObjects)?e.metadataObjects:[e.metadataObjects],e.metadataObjects=c.map(e.metadataObjects,function(e){return e.childXmlNames&&(e.childXmlNames=c.isArray(e.childXmlNames)?e.childXmlNames:[e.childXmlNames]),e.inFolder="true"===e.inFolder,e.metaFile="true"===e.metaFile,e}),e.partialSaveAllowed="true"===e.partialSaveAllowed,e.testRequired="true"===e.testRequired,e}).thenCall(t)},h.prototype.list=function(e,t,n){return c.isString(t)||(n=t,t=this._conn.version),c.isArray(e)||(e=[e]),this._invoke("listMetadata",{queries:e,asOfVersion:t},n)},h.prototype.retrieve=function(e,t){var n=this._invoke("retrieve",{request:e});return new b(this,n).thenCall(t)},h.prototype.checkRetrieveStatus=function(e,t){return this._invoke("checkRetrieveStatus",{asyncProcessId:e},t)},h.prototype.deploy=function(e,t,n){t&&!c.isFunction(t)||(n=t,t={});var i=d.defer();if(c.isObject(e)&&c.isFunction(e.pipe)){var o=[];e.on("data",function(e){o.push(e)}),e.on("end",function(){i.resolve(r.concat(o).toString("base64"))})}else if(e instanceof r)i.resolve(e.toString("base64"));else{if(!(e instanceof String||"string"==typeof e))throw"Unexpected zipInput type";i.resolve(e)}var a=this,s=i.promise.then(function(e){return a._invoke("deploy",{ZipFile:e,DeployOptions:t},n)});return new y(this,s).thenCall(n)},h.prototype.checkDeployStatus=function(e,t,n){return c.isObject(t)||c.isBoolean(t)?t=!!t:(n=t,t=!1),this._invoke("checkDeployStatus",{asyncProcessId:e,includeDetails:t}).then(function(e){return e.done="true"===e.done,e.success="true"===e.success,e.checkOnly="true"===e.checkOnly,e.runTestsEnabled="true"===e.runTestsEnabled,e.ignoreWarnings&&(e.ignoreWarnings="true"===e.ignoreWarnings),e.rollbackOnError&&(e.rollbackOnError="true"===e.rollbackOnError),e.numberComponentErrors=Number(e.numberComponentErrors),e.numberComponentsDeployed=Number(e.numberComponentsDeployed),e.numberComponentsTotal=Number(e.numberComponentsTotal),e.numberTestErrors=Number(e.numberTestErrors),e.numberTestsCompleted=Number(e.numberTestsCompleted),e.numberTestsTotal=Number(e.numberTestsTotal),e}).thenCall(n)};var m=function(e,t,n){this._meta=e,this._results=t,this._isArray=n};s(m,l.EventEmitter),m.prototype.then=function(e,t){var n=this;return this._results.then(function(t){var r=function(e){return e.$&&"true"===e.$["xsi:nil"]?null:(e.done="true"===e.done,e)};return t=c.isArray(t)?c.map(t,r):r(t),n._isArray&&!c.isArray(t)&&(t=[t]),e(t)},t)},m.prototype.thenCall=function(e){return c.isFunction(e)?this.then(function(t){n.nextTick(function(){e(null,t)})},function(t){n.nextTick(function(){e(t)})}):this},m.prototype.check=function(e){var t=this,n=this._meta;return this.then(function(e){var r=c.isArray(e)?c.map(e,function(e){return e.id}):e.id;return t._ids=r,n.checkStatus(r)}).thenCall(e)},m.prototype.poll=function(e,t){var n=this,r=(new Date).getTime(),i=function(){var o=(new Date).getTime();if(o>r+t){var a="Polling time out.";return n._ids&&(a+=" Process Id = "+n._ids),void n.emit("error",new Error(a))}n.check().then(function(t){for(var r=!0,o=c.isArray(t)?t:[t],a=0,s=o.length;s>a;a++){var l=o[a];l&&!l.done&&(n.emit("progress",l),r=!1)}r?n.emit("complete",t):setTimeout(i,e)},function(e){n.emit("error",e)})};setTimeout(i,e)},m.prototype.complete=function(e){var t=d.defer();this.on("complete",function(e){t.resolve(e)}),this.on("error",function(e){t.reject(e)});var n=this._meta;return this.poll(n.pollInterval,n.pollTimeout),t.promise.thenCall(e)};var b=function(e,t){b.super_.call(this,e,t)};s(b,m),b.prototype.complete=function(e){var t=this._meta;return b.super_.prototype.complete.call(this).then(function(e){return t.checkRetrieveStatus(e.id)}).thenCall(e)},b.prototype.stream=function(){var e=this,t=new u.Readable,n=!1;return t._read=function(){n||(n=!0,e.complete(function(e,n){e?t.emit("error",e):(t.push(new r(n.zipFile,"base64")),t.push(null))}))},t};var y=function(e,t){y.super_.call(this,e,t)};s(y,m),y.prototype.complete=function(e,t){c.isFunction(e)&&(t=e,e=!1);var n=this._meta;return y.super_.prototype.complete.call(this).then(function(t){return n.checkDeployStatus(t.id,e)}).thenCall(t)},p.on("connection:new",function(e){e.metadata=new h(e)})}).call(this,e("_process"),e("buffer").Buffer)},{"../core":20,"../promise":27,"../soap":33,_process:91,buffer:41,events:47,inherits:84,"lodash/core":88,"readable-stream":107}],10:[function(e,t,n){"use strict";var r=e("lodash/core"),i=e("../core"),o=e("../soap"),a=t.exports=function(e){this._conn=e};a.prototype._invoke=function(e,t,n,r){var i=new o(this._conn,{xmlns:"urn:partner.soap.sforce.com",endpointUrl:this._conn.instanceUrl+"/services/Soap/u/"+this._conn.version});return i.invoke(e,t,{result:n}).then(function(e){return e.result}).thenCall(r)};var s={};a.prototype.convertLead=function(e,t){var n=r.isArray(e)?[s.LeadConvertResult]:s.LeadConvertResult;return this._invoke("convertLead",{leadConverts:e},n,t)},s.LeadConvertResult={success:"boolean",errors:[],leadId:"string",accountId:"string",contactId:"string",opportunityId:"string"},a.prototype.merge=function(e,t){var n=r.isArray(e)?[s.MergeResult]:s.MergeResult;return this._invoke("merge",{mergeRequests:e},n,t)},s.MergeResult={success:"boolean",errors:[],id:"string",mergedRecordIds:["string"],updatedRelatedIds:["string"]},a.prototype.emptyRecycleBin=function(e,t){return this._invoke("emptyRecycleBin",{ids:e},[s.EmptyRecycleBinResult],t)},s.EmptyRecycleBinResult={id:"string",success:"boolean",errors:[]},a.prototype.describeTabs=function(e){return this._invoke("describeTabs",{},[s.DescribeTabSetResult],e)},s.DescribeTabSetResult={label:"string",logoUrl:"string",namespace:"string",selected:"boolean",tabs:[{colors:[{theme:"string",color:"string",context:"string"}],iconUrl:"string",icons:[{theme:"string",height:"number",width:"number",url:"string",contentType:"string"}],label:"string",custom:"boolean",miniIconUrl:"string",name:"string",sobjectName:"string",url:"string"}]},a.prototype.getServerTimestamp=function(e){return this._invoke("getServerTimestamp",{},s.GetServerTimestampResult,e)},s.GetServerTimestampResult={timestamp:"string"},a.prototype.getUserInfo=function(e){return this._invoke("getUserInfo",{},s.GetUserInfoResult,e)},s.GetUserInfoResult={accessibilityMode:"boolean",currencySymbol:"string",orgAttachmentFileSizeLimit:"number",orgDefaultCurrencyIsoCode:"string",orgDisallowHtmlAttachments:"boolean",orgHasPersonAccounts:"boolean",organizationId:"string",organizationMultiCurrency:"boolean",organizationName:"string",profileId:"string",roleId:"string",sessionSecondsValid:"number",userDefaultCurrencyIsoCode:"string",userEmail:"string",userFullName:"string",userId:"string",userLanguage:"string",userLocale:"string",userName:"string",userTimeZone:"string",userType:"string",userUiSkin:"string"},a.prototype.setPassword=function(e,t,n){return this._invoke("setPassword",{userId:e,password:t},n)},a.prototype.resetPassword=function(e,t){return this._invoke("resetPassword",{userId:e},t)},a.prototype.create=function(e,t){var n=r.isArray(e)?[s.SaveResult]:s.SaveResult,i={"@xmlns":"urn:partner.soap.sforce.com","@xmlns:ns1":"sobject.partner.soap.sforce.com","ns1:sObjects":e};return this._invoke("create",i,n,t)},a.prototype.update=function(e,t){var n=r.isArray(e)?[s.SaveResult]:s.SaveResult,i={"@xmlns":"urn:partner.soap.sforce.com","@xmlns:ns1":"sobject.partner.soap.sforce.com","ns1:sObjects":e};return this._invoke("update",i,n,t)},s.SaveResult={success:"boolean",errors:[],id:"string"},a.prototype.upsert=function(e,t,n){var i=r.isArray(t)?[s.UpsertResult]:s.UpsertResult,o={"@xmlns":"urn:partner.soap.sforce.com","@xmlns:ns1":"sobject.partner.soap.sforce.com","ns1:externalIDFieldName":e,"ns1:sObjects":t};return this._invoke("upsert",o,i,n)},s.UpsertResult={created:"boolean",success:"boolean",errors:[],id:"string"},a.prototype["delete"]=function(e,t){var n=r.isArray(e)?[s.DeleteResult]:s.DeleteResult,i={"@xmlns":"urn:partner.soap.sforce.com","@xmlns:ns1":"sobject.partner.soap.sforce.com","ns1:ids":e};return this._invoke("delete",i,n,t)},s.DeleteResult={success:"boolean",errors:[],id:"string"},i.on("connection:new",function(e){e.soap=new a(e)}),t.exports=a},{"../core":20,"../soap":33,"lodash/core":88}],11:[function(e,t,n){var r={};r.AuthFailure=function(e){this.incoming=function(t,n){"/meta/connect"!==t.channel&&"/meta/handshake"!==t.channel||!t.advice||"none"!=t.advice.reconnect?n(t):e(t)}},r.Replay=function(e,t){var n="replay",r=null!=t,i=t,o=e;this.setExtensionEnabled=function(e){r=e},this.setReplay=function(e){i=parseInt(e,10)},this.setChannel=function(e){o=e},this.incoming=function(e,t){"/meta/handshake"===e.channel?e.ext&&1==e.ext[n]&&(r=!0):e.channel===o&&e.data&&e.data.event&&e.data.event.replayId&&(i=e.data.event.replayId),t(e)},this.outgoing=function(e,t){if("/meta/subscribe"===e.channel&&e.subscription===o&&r){e.ext||(e.ext={});var a={};a[o]=i,e.ext[n]=a}t(e)}},t.exports=r},{}],12:[function(e,t,n){"use strict";var r=e("events"),i=e("inherits"),o=e("lodash/core"),a=e("faye"),s=e("./streaming-extension"),l=e("../core"),u=function(e,t){this._streaming=e,this.name=t};u.prototype.subscribe=function(e){return this._streaming.subscribe(this.name,e)},u.prototype.unsubscribe=function(e){return this._streaming.unsubscribe(this.name,e),this};var c=function(e,t){this._streaming=e,this._name=t};c.prototype.subscribe=function(e){return this._streaming.subscribe(this._name,e)},c.prototype.unsubscribe=function(e){return this._streaming.unsubscribe(this._name,e),this},c.prototype.push=function(e,t){var n=o.isArray(e);e=n?e:[e];var r=this._streaming._conn;return this._id||(this._id=r.sobject("StreamingChannel").findOne({Name:this._name},"Id").then(function(e){return e.Id})),this._id.then(function(t){var n="/sobjects/StreamingChannel/"+t+"/push";return r.requestPost(n,{pushEvents:e})}).then(function(e){return n?e:e[0]}).thenCall(t)};var p=function(e){this._conn=e};i(p,r.EventEmitter),p.prototype._createClient=function(e,t){var n="string"==typeof e&&0===e.indexOf("/u/"),r=[this._conn.instanceUrl,"cometd"+(n===!0&&"36.0"===this._conn.version?"/replay":""),this._conn.version].join("/"),i=new a.Client(r,{});return i.setHeader("Authorization","OAuth "+this._conn.accessToken),t instanceof Array&&t.forEach(function(e){
i.addExtension(e)}),-1===i._dispatcher.getConnectionTypes().indexOf("callback-polling")&&(i._dispatcher.selectTransport("long-polling"),i._dispatcher._transport.batching=!1),i},p.prototype._getFayeClient=function(e){var t=0===e.indexOf("/u/"),n=t?"generic":"pushTopic";return this._fayeClients&&this._fayeClients[n]||(this._fayeClients=this._fayeClients||{},this._fayeClients[n]=this._createClient(e)),this._fayeClients[n]},p.prototype.topic=function(e){this._topics=this._topics||{};var t=this._topics[e]=this._topics[e]||new u(this,e);return t},p.prototype.channel=function(e){return new c(this,e)},p.prototype.subscribe=function(e,t){var n=0===e.indexOf("/")?e:"/topic/"+e,r=this._getFayeClient(n);return r.subscribe(n,t)},p.prototype.unsubscribe=function(e,t){var n=0===e.indexOf("/")?e:"/topic/"+e,r=this._getFayeClient(n);return r.unsubscribe(n,t),this},p.prototype.createClient=function(e){return this._createClient(null,e)},l.on("connection:new",function(e){e.streaming=new p(e)}),l.StreamingExtension=s,t.exports=p},{"../core":20,"./streaming-extension":11,events:47,faye:48,inherits:84,"lodash/core":88}],13:[function(e,t,n){"use strict";var r=e("../core"),i=e("lodash/core"),o=e("../cache"),a=function(e){this._conn=e,this._logger=e._logger;var t=["query","queryMore","_toRecordResult","create","_createSingle","_createParallel","_createMany","insert","retrieve","_retrieveSingle","_retrieveParallel","_retrieveMany","update","_updateSingle","_updateParallel","_updateMany","upsert","del","delete","destroy","_destroySingle","_destroyParallel","_destroyMany","describe","describeGlobal","sobject"];t.forEach(function(t){this[t]=e.constructor.prototype[t]},this),this.cache=new o;var n={key:function(e){return e?"describe."+e:"describe"}};this.describe$=this.cache.makeCacheable(this.describe,this,n),this.describe=this.cache.makeResponseCacheable(this.describe,this,n),this.describeSObject$=this.describe$,this.describeSObject=this.describe,n={key:"describeGlobal"},this.describeGlobal$=this.cache.makeCacheable(this.describeGlobal,this,n),this.describeGlobal=this.cache.makeResponseCacheable(this.describeGlobal,this,n),this.initialize()};a.prototype.initialize=function(){this.sobjects={},this.cache.clear(),this.cache.get("describeGlobal").removeAllListeners("value"),this.cache.get("describeGlobal").on("value",i.bind(function(e){if(e.result){var t=i.map(e.result.sobjects,function(e){return e.name});t.forEach(this.sobject,this)}},this))},a.prototype._baseUrl=function(){return this._conn._baseUrl()+"/tooling"},a.prototype._supports=function(e){return"sobject-collection"!==e&&this._conn._supports.apply(this._conn,arguments)},a.prototype.request=function(){return this._conn.request.apply(this._conn,arguments)},a.prototype.executeAnonymous=function(e,t){var n=this._baseUrl()+"/executeAnonymous?anonymousBody="+encodeURIComponent(e);return this.request(n).thenCall(t)},a.prototype.runTestsAsynchronous=function(e,t){var n=this._baseUrl()+"/runTestsAsynchronous/";return this._conn.requestPost(n,{classids:e.join(",")},void 0,t)},a.prototype.runTestsSynchronous=function(e,t){var n=this._baseUrl()+"/runTestsSynchronous/";return this._conn.requestPost(n,{classnames:e.join(",")},void 0,t)},a.prototype.completions=function(e,t){i.isString(e)||(t=e,e="apex");var n=this._baseUrl()+"/completions?type="+encodeURIComponent(e);return this.request(n).thenCall(t)},r.on("connection:new",function(e){e.tooling=new a(e)}),t.exports=a},{"../cache":18,"../core":20,"lodash/core":88}],14:[function(e,t,n){"use strict";function r(e){var t={};return e.split(/\n/).forEach(function(e){var n=e.split(/\s*:\s*/),r=n[0].toLowerCase(),i=n[1];t[r]=i}),t}var i=e("readable-stream").Duplex,o=e("lodash/core");t.exports={supported:"object"==typeof Sfdc&&"undefined"!=typeof Sfdc.canvas,createRequest:function(e){return function(t,n){function a(i){var a={client:e.client,method:t.method,data:i};if(t.headers){a.headers={};for(var u in t.headers)"content-type"===u.toLowerCase()?a.contentType=t.headers[u]:a.headers[u]=t.headers[u]}a.success=function(e){var t=r(e.responseHeaders),i=e.payload;o.isString(i)||(i=JSON.stringify(i)),s={statusCode:e.status,headers:t,body:i},n&&n(null,s,s.body),l.end()},a.failure=function(e){n&&n(e)},Sfdc.canvas.client.ajax(t.url,a)}var s,l=new i;l._read=function(e){s&&l.push(s.body)};var u=[],c=!1;return l._write=function(e,t,n){u.push(e.toString(t)),n()},l.on("finish",function(){c||(a(u.join("")),c=!0)}),!t.body&&""!==t.body&&/^(put|post|patch)$/i.test(t.method)||(a(t.body),c=!0),l}}}},{"lodash/core":88,"readable-stream":107}],15:[function(e,t,n){"use strict";function r(e,t,n){var r=screen.width/2-t/2,i=screen.height/2-n/2;return window.open(e,null,"location=yes,toolbar=no,status=no,menubar=no,width="+t+",height="+n+",top="+i+",left="+r)}function i(){var e=o(),t=localStorage.getItem("jsforce_state");if(e&&t&&e.body.state===t){localStorage.removeItem("jsforce_state");var n=t.split("."),r=n[0],i=n[1],a=new f(r);return e.success?(a._storeTokens(e.body),location.hash=""):a._storeError(e.body),"popup"===i&&window.close(),!0}}function o(){var e;if(window.location.hash){if(e=l.parse(window.location.hash.substring(1)),e.access_token)return{success:!0,body:e}}else if(window.location.search&&(e=l.parse(window.location.search.substring(1)),e.error))return{success:!1,body:e}}var a=e("events"),s=e("inherits"),l=e("querystring"),u=e("lodash/core"),c=e("../connection"),p=e("../oauth2"),d=0,f=function(e){this._prefix=e||"jsforce"+d++,this.connection=null};s(f,a.EventEmitter),f.prototype.init=function(e){if(!i()){this.config=e,this.connection=new c(e);var t=this._getTokens();if(t){this.connection.initialize(t);var n=this;setTimeout(function(){n.emit("connect",n.connection)},10)}}},f.prototype.login=function(e,t){u.isFunction(e)&&(t=e,e={}),e=e||{},t=t||function(){},u.extend(e,this.config),this._prompt(e,t)},f.prototype._prompt=function(e,t){var n=this,i=new p(e),o=Math.random().toString(36).substring(2),a=[this._prefix,"popup",o].join(".");localStorage.setItem("jsforce_state",a);var s=i.getAuthorizationUrl({response_type:"token",scope:e.scope,state:a}),l=e.size||{},u=r(s,l.width||912,l.height||513);if(!u)return a=[this._prefix,"redirect",o].join("."),localStorage.setItem("jsforce_state",a),s=i.getAuthorizationUrl({response_type:"token",scope:e.scope,state:a}),void(location.href=s);n._removeTokens();var c=setInterval(function(){try{if(!u||u.closed){clearInterval(c);var e=n._getTokens();if(e)n.connection.initialize(e),n.emit("connect",n.connection),t(null,{status:"connect"});else{var r=n._getError();r?t(new Error(r.error+": "+r.error_description)):t(null,{status:"cancel"})}}}catch(i){}},1e3)},f.prototype.isLoggedIn=function(){return!(!this.connection||!this.connection.accessToken)},f.prototype.logout=function(){this.connection.logout(),this._removeTokens(),this.emit("disconnect")},f.prototype._getTokens=function(){var e=new RegExp("(^|;\\s*)"+this._prefix+"_loggedin=true(;|$)");if(document.cookie.match(e)){var t=Number(localStorage.getItem(this._prefix+"_issued_at"));if(Date.now()<t+72e5){var n,r=localStorage.getItem(this._prefix+"_id");if(r){var i=r.split("/");n={id:i.pop(),organizationId:i.pop(),url:r}}return{accessToken:localStorage.getItem(this._prefix+"_access_token"),instanceUrl:localStorage.getItem(this._prefix+"_instance_url"),userInfo:n}}}return null},f.prototype._storeTokens=function(e){localStorage.setItem(this._prefix+"_access_token",e.access_token),localStorage.setItem(this._prefix+"_instance_url",e.instance_url),localStorage.setItem(this._prefix+"_issued_at",e.issued_at),localStorage.setItem(this._prefix+"_id",e.id),document.cookie=this._prefix+"_loggedin=true;"},f.prototype._removeTokens=function(){localStorage.removeItem(this._prefix+"_access_token"),localStorage.removeItem(this._prefix+"_instance_url"),localStorage.removeItem(this._prefix+"_issued_at"),localStorage.removeItem(this._prefix+"_id"),document.cookie=this._prefix+"_loggedin="},f.prototype._getError=function(){try{var e=JSON.parse(localStorage.getItem(this._prefix+"_error"));return localStorage.removeItem(this._prefix+"_error"),e}catch(t){}},f.prototype._storeError=function(e){localStorage.setItem(this._prefix+"_error",JSON.stringify(e))},t.exports=new f,t.exports.Client=f},{"../connection":19,"../oauth2":25,events:47,inherits:84,"lodash/core":88,querystring:96}],16:[function(e,t,n){"use strict";var r=0;t.exports={supported:"undefined"!=typeof window&&"undefined"!=typeof document,createRequest:function(e,t){return e=e||"callback",t=t||1e4,function(n,i){if("GET"!==n.method.toUpperCase())return i(new Error("JSONP only supports GET request."));var o="_jsforce_jsonpCallback_"+ ++r,a=window,s=n.url;s+=s.indexOf("?")>0?"&":"?",s+=e+"="+o;var l=document.createElement("script");l.type="text/javascript",l.src=s,document.documentElement.appendChild(l);var u=setTimeout(function(){c(),i(new Error("JSONP call time out."))},t);a[o]=function(e){c(),i(null,{statusCode:200,headers:{"content-type":"application/json"},body:JSON.stringify(e)})};var c=function(){clearTimeout(u),document.documentElement.removeChild(l),delete a[o]}}}}},{}],17:[function(e,t,n){"use strict";function r(e){var t=(e.getAllResponseHeaders()||"").split(/[\r\n]+/);return o.map(t,function(e){return e.split(/\s*:/)[0].toLowerCase()})}var i=e("readable-stream").Duplex,o=e("lodash/core");t.exports=function(e,t){var n=new XMLHttpRequest;if(n.open(e.method,e.url),e.headers)for(var a in e.headers)n.setRequestHeader(a,e.headers[a]);n.setRequestHeader("Accept","*/*");var s,l=new i;l._read=function(e){s&&l.push(s.body)};var u=[],c=!1;return l._write=function(e,t,n){u.push(e.toString("buffer"===t?"binary":t)),n()},l.on("finish",function(){c||(n.send(u.join("")),c=!0)}),!e.body&&""!==e.body&&/^(put|post|patch)$/i.test(e.method)||(n.send(e.body),c=!0),n.onreadystatechange=function(){if(4===n.readyState){var e=r(n),i={};o.forEach(e,function(e){e&&(i[e]=n.getResponseHeader(e))}),s={statusCode:n.status,headers:i,body:n.response},s.statusCode||(s.statusCode=400,s.body="Access Declined"),t&&t(null,s,s.body),l.end()}},l}},{"lodash/core":88,"readable-stream":107}],18:[function(e,t,n){"use strict";function r(e,t){return t=Array.prototype.slice.apply(t),e+"("+a.map(t,function(e){return JSON.stringify(e)}).join(",")+")"}var i=e("events"),o=e("inherits"),a=e("lodash/core"),s=function(){this.fetching=!1};o(s,i.EventEmitter),s.prototype.get=function(e){return e?(this.once("value",e),void(a.isUndefined(this._value)||this.emit("value",this._value))):this._value},s.prototype.set=function(e){this._value=e,this.emit("value",this._value)},s.prototype.clear=function(){this.fetching=!1,delete this._value};var l=function(){this._entries={}};l.prototype.get=function(e){if(e&&this._entries[e])return this._entries[e];var t=new s;return this._entries[e]=t,t},l.prototype.clear=function(e){for(var t in this._entries)e&&0!==t.indexOf(e)||this._entries[t].clear()},l.prototype.makeResponseCacheable=function(e,t,n){var i=this;return n=n||{},function(){var o=Array.prototype.slice.apply(arguments),s=o.pop();a.isFunction(s)||(o.push(s),s=null);var l=a.isString(n.key)?n.key:a.isFunction(n.key)?n.key.apply(t,o):r(n.namespace,o),u=i.get(l);u.fetching=!0,s&&o.push(function(e,t){u.set({error:e,result:t}),s(e,t)});var c,p;try{c=e.apply(t||this,o)}catch(d){p=d}if(c&&a.isFunction(c.then))return s?c:c.then(function(e){return u.set({error:void 0,result:e}),e},function(e){throw u.set({error:e,result:void 0}),e});if(u.set({error:p,result:c}),p)throw p;return c}},l.prototype.makeCacheable=function(e,t,n){var i=this;n=n||{};var o=function(){var o=Array.prototype.slice.apply(arguments),s=o.pop();a.isFunction(s)||o.push(s);var l=a.isString(n.key)?n.key:a.isFunction(n.key)?n.key.apply(t,o):r(n.namespace,o),u=i.get(l);if(!a.isFunction(s)){var c=u.get();if(!c)throw new Error("Function call result is not cached yet.");if(c.error)throw c.error;return c.result}u.get(function(e){s(e.error,e.result)}),u.fetching||(u.fetching=!0,o.push(function(e,t){u.set({error:e,result:t})}),e.apply(t||this,o))};return o.clear=function(){var e=a.isString(n.key)?n.key:a.isFunction(n.key)?n.key.apply(t,arguments):r(n.namespace,arguments);i.clear(e)},o},t.exports=l},{events:47,inherits:84,"lodash/core":88}],19:[function(e,t,n){(function(n){"use strict";function r(e,t){e.oauth2.refreshToken(e.refreshToken,function(n,r){if(n)return t(n);var i=a(r.id);e.initialize({instanceUrl:r.instance_url,accessToken:r.access_token,userInfo:i}),t(null,r.access_token,r)})}function i(e){if(p.isString(e)){if("{"===e[0])return JSON.parse(e);var t=e.split(".").pop(),r=n.from(t,"base64").toString("utf-8");return JSON.parse(r)}return e}function o(e){function t(e){return 10>e?"0"+e:e}return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"+00:00"}function a(e){var t=e.split("/"),n=t.pop(),r=t.pop();return{id:n,organizationId:r,url:e}}function s(e,t){return function(n,r){n.login(e,t,function(e){return e?r(e):void r(null,n.accessToken)})}}function l(e){return e&&String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}var u=e("events"),c=e("inherits"),p=e("lodash/core"),d=e("./promise"),f=e("./logger"),h=e("./oauth2"),m=e("./query"),b=e("./sobject"),y=e("./quick-action"),g=e("./http-api"),_=e("./transport"),v=e("./process"),T=e("./cache"),E={loginUrl:"https://login.salesforce.com",instanceUrl:"",version:"42.0"},w=200,S=t.exports=function(t){t=t||{},this._logger=new f(t.logLevel);var n=t.oauth2||{loginUrl:t.loginUrl,clientId:t.clientId,clientSecret:t.clientSecret,redirectUri:t.redirectUri,proxyUrl:t.proxyUrl,httpProxy:t.httpProxy};this.oauth2=n=n instanceof h?n:new h(n),this.loginUrl=t.loginUrl||n.loginUrl||E.loginUrl,this.version=t.version||E.version,this.maxRequest=t.maxRequest||this.maxRequest||10,t.proxyUrl?this._transport=new _.ProxyTransport(t.proxyUrl):t.httpProxy?this._transport=new _.HttpProxyTransport(t.httpProxy):this._transport=new _,this.callOptions=t.callOptions;var i=e("./core");i.emit("connection:new",this),this.process=new v(this),this.cache=new T;var o=t.refreshFn;!o&&this.oauth2.clientId&&(o=r),o&&(this._refreshDelegate=new g.SessionRefreshDelegate(this,o));var a={key:function(e){return e?"describe."+e:"describe"}};this.describe$=this.cache.makeCacheable(this.describe,this,a),this.describe=this.cache.makeResponseCacheable(this.describe,this,a),this.describeSObject$=this.describe$,this.describeSObject=this.describe,a={key:"describeGlobal"},this.describeGlobal$=this.cache.makeCacheable(this.describeGlobal,this,a),this.describeGlobal=this.cache.makeResponseCacheable(this.describeGlobal,this,a),this.initialize(t)};c(S,u.EventEmitter),S.prototype.initialize=function(e){if(!e.instanceUrl&&e.serverUrl&&(e.instanceUrl=e.serverUrl.split("/").slice(0,3).join("/")),this.instanceUrl=e.instanceUrl||e.serverUrl||this.instanceUrl||E.instanceUrl,this.accessToken=e.sessionId||e.accessToken||this.accessToken,this.refreshToken=e.refreshToken||this.refreshToken,this.refreshToken&&!this._refreshDelegate)throw new Error("Refresh token is specified without oauth2 client information or refresh function");this.signedRequest=e.signedRequest&&i(e.signedRequest),this.signedRequest&&(this.accessToken=this.signedRequest.client.oauthToken,_.CanvasTransport.supported&&(this._transport=new _.CanvasTransport(this.signedRequest))),e.userInfo&&(this.userInfo=e.userInfo),this.limitInfo={},this.sobjects={},this.cache.clear(),this.cache.get("describeGlobal").removeAllListeners("value"),this.cache.get("describeGlobal").on("value",p.bind(function(e){if(e.result){var t=p.map(e.result.sobjects,function(e){return e.name});t.forEach(this.sobject,this)}},this)),this.tooling&&this.tooling.initialize(),this._sessionType=e.sessionId?"soap":"oauth2"},S.prototype._baseUrl=function(){return[this.instanceUrl,"services/data","v"+this.version].join("/")},S.prototype._normalizeUrl=function(e){return"/"===e[0]?0===e.indexOf("/services/")?this.instanceUrl+e:this._baseUrl()+e:e},S.prototype.request=function(e,t,n){"function"==typeof t&&(n=t,t=null),t=t||{};var r=this;p.isString(e)&&(e={method:"GET",url:e}),e.url=this._normalizeUrl(e.url);var i=new g(this,t);return i.on("response",function(e){if(e.headers&&e.headers["sforce-limit-info"]){var t=e.headers["sforce-limit-info"].match(/api\-usage=(\d+)\/(\d+)/);t&&(r.limitInfo={apiUsage:{used:parseInt(t[1],10),limit:parseInt(t[2],10)}})}}),i.request(e).thenCall(n)},S.prototype.requestGet=function(e,t,n){var r={method:"GET",url:e};return this.request(r,t,n)},S.prototype.requestPost=function(e,t,n,r){var i={method:"POST",url:e,body:JSON.stringify(t),headers:{"content-type":"application/json"}};return this.request(i,n,r)},S.prototype.requestPut=function(e,t,n,r){var i={method:"PUT",url:e,body:JSON.stringify(t),headers:{"content-type":"application/json"}};return this.request(i,n,r)},S.prototype.requestPatch=function(e,t,n,r){var i={method:"PATCH",url:e,body:JSON.stringify(t),headers:{"content-type":"application/json"}};return this.request(i,n,r)},S.prototype.requestDelete=function(e,t,n){var r={method:"DELETE",url:e};return this.request(r,t,n)},S.prototype.query=function(e,t,n){"function"==typeof t&&(n=t,t=void 0);var r=new m(this,e,t);return n&&r.run(n),r},S.prototype.queryAll=function(e,t,n){"function"==typeof t&&(n=t,t=void 0);var r=new m(this,e,t);return r.scanAll(!0),n&&r.run(n),r},S.prototype.queryMore=function(e,t,n){"function"==typeof t&&(n=t,t=void 0);var r=new m(this,{locator:e},t);return n&&r.run(n),r},S.prototype._ensureVersion=function(e){var t=this.version.split(".");return parseInt(t[0],10)>=e},S.prototype._supports=function(e){switch(e){case"sobject-collection":return this._ensureVersion(42);default:return!1}},S.prototype.retrieve=function(e,t,n,r){return"function"==typeof n&&(r=n,n={}),n=n||{},(p.isArray(t)?this._supports("sobject-collection")?this._retrieveMany(e,t,n):this._retrieveParallel(e,t,n):this._retrieveSingle(e,t,n)).thenCall(r)},S.prototype._retrieveSingle=function(e,t,n){if(!t)return d.reject(new Error("Invalid record ID. Specify valid record ID value"));var r=[this._baseUrl(),"sobjects",e,t].join("/");return n.fields&&(r+="?fields="+n.fields.join(",")),this.request({method:"GET",url:r,headers:n.headers})},S.prototype._retrieveParallel=function(e,t,n){if(t.length>this.maxRequest)return d.reject(new Error("Exceeded max limit of concurrent call"));var r=this;return d.all(t.map(function(t){return r._retrieveSingle(e,t,n)["catch"](function(e){if(n.allOrNone||"NOT_FOUND"!==e.errorCode)throw e;return null})}))},S.prototype._retrieveMany=function(e,t,n){if(0===t.length)return d.resolve([]);var r=[this._baseUrl(),"composite","sobjects",e].join("/"),i=this;return(n.fields?d.resolve(n.fields):new d(function(t,n){i.describe$(e,function(e,r){if(e)n(e);else{var i=r.fields.map(function(e){return e.name});t(i)}})})).then(function(e){return i.request({method:"POST",url:r,body:JSON.stringify({ids:t,fields:e}),headers:p.defaults(n.headers||{},{"Content-Type":"application/json"})})})},S.prototype._toRecordResult=function(e,t){var n={statusCode:t.errorCode,message:t.message};t.content&&(n.content=t.content),t.fields&&(n.fields=t.fields);var r={success:!1,errors:[n]};return e&&(r.id=e),r},S.prototype.insert=S.prototype.create=function(e,t,n,r){return p.isString(e)||(r=n,n=t,t=e,e=null),"function"==typeof n&&(r=n,n={}),n=n||{},(p.isArray(t)?this._supports("sobject-collection")?this._createMany(e,t,n):this._createParallel(e,t,n):this._createSingle(e,t,n)).thenCall(r)},S.prototype._createSingle=function(e,t,n){var r=e||t.attributes&&t.attributes.type||t.type;if(!r)return d.reject(new Error("No SObject Type defined in record"));t=p.clone(t),delete t.Id,delete t.type,delete t.attributes;var i=[this._baseUrl(),"sobjects",r].join("/");return this.request({method:"POST",url:i,body:JSON.stringify(t),headers:p.defaults(n.headers||{},{"Content-Type":"application/json"})})},S.prototype._createParallel=function(e,t,n){if(t.length>this.maxRequest)return d.reject(new Error("Exceeded max limit of concurrent call"));var r=this;return d.all(t.map(function(t){return r._createSingle(e,t,n)["catch"](function(e){if(n.allOrNone||!e.errorCode)throw e;return this._toRecordResult(null,e)})}))},S.prototype._createMany=function(e,t,n){if(0===t.length)return d.resolve([]);if(t.length>w&&n.allowRecursive){var r=this;return r._createMany(e,t.slice(0,w),n).then(function(i){return r._createMany(e,t.slice(w),n).then(function(e){return i.concat(e)})})}t=p.map(t,function(t){var n=e||t.attributes&&t.attributes.type||t.type;return n?(t=p.clone(t),delete t.Id,delete t.type,t.attributes={type:n},t):d.reject(new Error("No SObject Type defined in record"))});var i=[this._baseUrl(),"composite","sobjects"].join("/");return this.request({method:"POST",url:i,body:JSON.stringify({allOrNone:n.allOrNone||!1,records:t}),headers:p.defaults(n.headers||{},{"Content-Type":"application/json"})})},S.prototype.update=function(e,t,n,r){return p.isString(e)||(r=n,n=t,t=e,e=null),"function"==typeof n&&(r=n,n={}),n=n||{},(p.isArray(t)?this._supports("sobject-collection")?this._updateMany(e,t,n):this._updateParallel(e,t,n):this._updateSingle(e,t,n)).thenCall(r)},S.prototype._updateSingle=function(e,t,n){var r=t.Id;if(!r)return d.reject(new Error("Record id is not found in record."));var i=e||t.attributes&&t.attributes.type||t.type;if(!i)return d.reject(new Error("No SObject Type defined in record"));t=p.clone(t),delete t.Id,delete t.type,delete t.attributes;var o=[this._baseUrl(),"sobjects",i,r].join("/");return this.request({method:"PATCH",url:o,body:JSON.stringify(t),headers:p.defaults(n.headers||{},{"Content-Type":"application/json"})},{noContentResponse:{id:r,success:!0,errors:[]}})},S.prototype._updateParallel=function(e,t,n){if(t.length>this.maxRequest)return d.reject(new Error("Exceeded max limit of concurrent call"));var r=this;return d.all(t.map(function(t){return r._updateSingle(e,t,n)["catch"](function(e){if(n.allOrNone||!e.errorCode)throw e;return this._toRecordResult(t.Id,e)})}))},S.prototype._updateMany=function(e,t,n){if(0===t.length)return d.resolve([]);if(t.length>w&&n.allowRecursive){var r=this;return r._updateMany(e,t.slice(0,w),n).then(function(i){return r._updateMany(e,t.slice(w),n).then(function(e){return i.concat(e)})})}t=p.map(t,function(t){var n=t.Id;if(!n)throw new Error("Record id is not found in record.");var r=e||t.attributes&&t.attributes.type||t.type;if(!r)throw new Error("No SObject Type defined in record");return t=p.clone(t),delete t.Id,t.id=n,delete t.type,t.attributes={type:r},t});var i=[this._baseUrl(),"composite","sobjects"].join("/");return this.request({method:"PATCH",url:i,body:JSON.stringify({allOrNone:n.allOrNone||!1,records:t}),headers:p.defaults(n.headers||{},{"Content-Type":"application/json"})})},S.prototype.upsert=function(e,t,n,r,i){p.isString(e)||(i=r,r=n,n=t,t=e,e=null),"function"==typeof r&&(i=r,r={}),r=r||{};var o=this,a=p.isArray(t);return t=a?t:[t],t.length>this.maxRequest?d.reject(new Error("Exceeded max limit of concurrent call")).thenCall(i):d.all(p.map(t,function(t){var i=e||t.attributes&&t.attributes.type||t.type,s=t[n];t=p.clone(t),delete t[n],delete t.type,delete t.attributes;var l=[o._baseUrl(),"sobjects",i,n,s].join("/");return o.request({method:"PATCH",url:l,body:JSON.stringify(t),headers:p.defaults(r.headers||{},{"Content-Type":"application/json"})},{noContentResponse:{success:!0,errors:[]}})["catch"](function(e){if(!a||r.allOrNone||!e.errorCode)throw e;return o._toRecordResult(null,e)})})).then(function(e){return!a&&p.isArray(e)?e[0]:e}).thenCall(i)},S.prototype["delete"]=S.prototype.del=S.prototype.destroy=function(e,t,n,r){return"function"==typeof n&&(r=n,n={}),n=n||{},(p.isArray(t)?this._supports("sobject-collection")?this._destroyMany(e,t,n):this._destroyParallel(e,t,n):this._destroySingle(e,t,n)).thenCall(r)},S.prototype._destroySingle=function(e,t,n){var r=[this._baseUrl(),"sobjects",e,t].join("/");return this.request({method:"DELETE",url:r,headers:n.headers||null},{noContentResponse:{id:t,success:!0,errors:[]}})},S.prototype._destroyParallel=function(e,t,n){if(t.length>this.maxRequest)return d.reject(new Error("Exceeded max limit of concurrent call"));var r=this;return d.all(t.map(function(t){return r._destroySingle(e,t,n)["catch"](function(e){if(n.allOrNone||!e.errorCode)throw e;return this._toRecordResult(t,e)})}))},S.prototype._destroyMany=function(e,t,n){if(0===t.length)return d.resolve([]);if(t.length>w&&n.allowRecursive){var r=this;return r._destroyMany(e,t.slice(0,w),n).then(function(i){return r._destroyMany(e,t.slice(w),n).then(function(e){return i.concat(e)})})}var i=[this._baseUrl(),"composite","sobjects?ids="].join("/")+t.join(",");return n.allOrNone&&(i+="&allOrNone=true"),this.request({method:"DELETE",url:i,headers:n.headers||null})},S.prototype.search=function(e,t){var n=this._baseUrl()+"/search?q="+encodeURIComponent(e);return this.request(n).thenCall(t)},S.prototype.describe=S.prototype.describeSObject=function(e,t){var n=[this._baseUrl(),"sobjects",e,"describe"].join("/");return this.request(n).thenCall(t)},S.prototype.describeGlobal=function(e){var t=this._baseUrl()+"/sobjects";return this.request(t).thenCall(e)},S.prototype.sobject=function(e){this.sobjects=this.sobjects||{};var t=this.sobjects[e]=this.sobjects[e]||new b(this,e);return t},S.prototype.identity=function(e,t){"function"==typeof e&&(t=e,e={}),e=e||{};var n=this,r=this.userInfo&&this.userInfo.url;return d.resolve(r?{identity:r}:this.request({method:"GET",url:this._baseUrl(),headers:e.headers})).then(function(e){var t=e.identity;return n.request({method:"GET",url:t})}).then(function(e){return n.userInfo={id:e.user_id,organizationId:e.organization_id,url:e.id},e}).thenCall(t)},S.prototype.authorize=function(e,t,n){"function"==typeof t&&(n=t,t={});var r=this,i=this._logger;return this.oauth2.requestToken(e,t).then(function(e){var t=a(e.id);return r.initialize({instanceUrl:e.instance_url,accessToken:e.access_token,refreshToken:e.refresh_token,userInfo:t}),i.debug("<login> completed. user id = "+t.id+", org id = "+t.organizationId),t}).thenCall(n)},S.prototype.login=function(e,t,n){return this._refreshDelegate=new g.SessionRefreshDelegate(this,s(e,t)),this.oauth2&&this.oauth2.clientId&&this.oauth2.clientSecret?this.loginByOAuth2(e,t,n):this.loginBySoap(e,t,n)},S.prototype.loginByOAuth2=function(e,t,n){var r=this,i=this._logger;return this.oauth2.authenticate(e,t).then(function(e){var t=a(e.id);return r.initialize({instanceUrl:e.instance_url,accessToken:e.access_token,userInfo:t}),i.debug("<login> completed. user id = "+t.id+", org id = "+t.organizationId),t}).thenCall(n)},S.prototype.loginBySoap=function(e,t,n){var r=this,i=this._logger,o=['<se:Envelope xmlns:se="http://schemas.xmlsoap.org/soap/envelope/">',"<se:Header/>","<se:Body>",'<login xmlns="urn:partner.soap.sforce.com">',"<username>"+l(e)+"</username>","<password>"+l(t)+"</password>","</login>","</se:Body>","</se:Envelope>"].join(""),a=[this.loginUrl,"services/Soap/u",this.version].join("/");return this._transport.httpRequest({method:"POST",url:a,body:o,headers:{"Content-Type":"text/xml",SOAPAction:'""'}}).then(function(e){var t;if(e.statusCode>=400){t=e.body.match(/<faultstring>([^<]+)<\/faultstring>/);var n=t&&t[1];throw new Error(n||e.body)}i.debug("SOAP response = "+e.body),t=e.body.match(/<serverUrl>([^<]+)<\/serverUrl>/);var o=t&&t[1];t=e.body.match(/<sessionId>([^<]+)<\/sessionId>/);var s=t&&t[1];t=e.body.match(/<userId>([^<]+)<\/userId>/);var l=t&&t[1];t=e.body.match(/<organizationId>([^<]+)<\/organizationId>/);var u=t&&t[1],c=a.split("/").slice(0,3).join("/");c+="/id/"+u+"/"+l;var p={id:l,organizationId:u,url:c};return r.initialize({serverUrl:o.split("/").slice(0,3).join("/"),sessionId:s,userInfo:p}),i.debug("<login> completed. user id = "+l+", org id = "+u),p}).thenCall(n)},S.prototype.logout=function(e,t){return"function"==typeof e&&(t=e,e=!1),"oauth2"===this._sessionType?this.logoutByOAuth2(e,t):this.logoutBySoap(e,t)},S.prototype.logoutByOAuth2=function(e,t){"function"==typeof e&&(t=e,e=!1);var n=this;return this._logger,this.oauth2.revokeToken(e?this.refreshToken:this.accessToken).then(function(){n.accessToken=null,n.userInfo=null,n.refreshToken=null,n.instanceUrl=null,n.cache.clear()}).thenCall(t)},S.prototype.logoutBySoap=function(e,t){"function"==typeof e&&(t=e,e=!1);var n=this,r=this._logger,i=['<se:Envelope xmlns:se="http://schemas.xmlsoap.org/soap/envelope/">',"<se:Header>",'<SessionHeader xmlns="urn:partner.soap.sforce.com">',"<sessionId>"+l(e?this.refreshToken:this.accessToken)+"</sessionId>","</SessionHeader>","</se:Header>","<se:Body>",'<logout xmlns="urn:partner.soap.sforce.com"/>',"</se:Body>","</se:Envelope>"].join("");return this._transport.httpRequest({method:"POST",url:[this.instanceUrl,"services/Soap/u",this.version].join("/"),body:i,headers:{"Content-Type":"text/xml",SOAPAction:'""'}}).then(function(e){if(r.debug("SOAP statusCode = "+e.statusCode+", response = "+e.body),e.statusCode>=400){var t=e.body.match(/<faultstring>([^<]+)<\/faultstring>/),i=t&&t[1];throw new Error(i||e.body)}n.accessToken=null,n.userInfo=null,n.refreshToken=null,n.instanceUrl=null,n.cache.clear()}).thenCall(t)},S.prototype.recent=function(e,t,n){p.isString(e)||(n=t,t=e,e=void 0),p.isNumber(t)||(n=t,t=void 0);var r;return e?(r=[this._baseUrl(),"sobjects",e].join("/"),this.request(r).then(function(e){return t?e.recentItems.slice(0,t):e.recentItems}).thenCall(n)):(r=this._baseUrl()+"/recent",t&&(r+="?limit="+t),this.request(r).thenCall(n))},S.prototype.updated=function(e,t,n,r){var i=[this._baseUrl(),"sobjects",e,"updated"].join("/");return"string"==typeof t&&(t=new Date(t)),t instanceof Date&&(t=o(t)),t&&(i+="?start="+encodeURIComponent(t)),"string"==typeof n&&(n=new Date(n)),n instanceof Date&&(n=o(n)),n&&(i+="&end="+encodeURIComponent(n)),this.request(i).thenCall(r)},S.prototype.deleted=function(e,t,n,r){var i=[this._baseUrl(),"sobjects",e,"deleted"].join("/");return"string"==typeof t&&(t=new Date(t)),t instanceof Date&&(t=o(t)),t&&(i+="?start="+encodeURIComponent(t)),"string"==typeof n&&(n=new Date(n)),n instanceof Date&&(n=o(n)),n&&(i+="&end="+encodeURIComponent(n)),this.request(i).thenCall(r)},S.prototype.tabs=function(e){var t=[this._baseUrl(),"tabs"].join("/");return this.request(t).thenCall(e)},S.prototype.limits=function(e){var t=[this._baseUrl(),"limits"].join("/");return this.request(t).thenCall(e)},S.prototype.theme=function(e){var t=[this._baseUrl(),"theme"].join("/");return this.request(t).thenCall(e)},S.prototype.quickActions=function(e){return this.request("/quickActions").thenCall(e)},S.prototype.quickAction=function(e){return new y(this,"/quickActions/"+e)}}).call(this,e("buffer").Buffer)},{"./cache":18,"./core":20,"./http-api":23,"./logger":24,"./oauth2":25,"./process":26,"./promise":27,"./query":28,"./quick-action":29,"./sobject":34,"./transport":36,buffer:41,events:47,inherits:84,"lodash/core":88}],20:[function(e,t,n){"use strict";var r=e("events").EventEmitter,i=t.exports=new r;i.VERSION=e("./VERSION"),i.Connection=e("./connection"),i.OAuth2=e("./oauth2"),i.Date=i.SfDate=e("./date"),i.RecordStream=e("./record-stream"),i.Promise=e("./promise"),i.require=e("./require")},{"./VERSION":2,"./connection":19,"./date":22,"./oauth2":25,"./promise":27,"./record-stream":30,"./require":32,events:47}],21:[function(e,t,n){"use strict";function r(e,t){return t=s.extend({},t,{columns:!0}),u(e,t)}function i(e,t){return t=s.extend({},t,{header:!0}),p(e,t)}function o(e){return e=s.extend({},e,{columns:!0}),l(e)}function a(e){return e=s.extend({},e,{header:!0}),c(e)}var s=e("lodash/core"),l=e("csv-parse"),u=e("csv-parse/lib/sync"),c=e("csv-stringify"),p=e("csv-stringify/lib/sync");t.exports={parseCSV:r,toCSV:i,parseCSVStream:o,serializeCSVStream:a}},{"csv-parse":43,"csv-parse/lib/sync":44,"csv-stringify":45,"csv-stringify/lib/sync":46,"lodash/core":88}],22:[function(e,t,n){"use strict";function r(e){return(10>e?"0":"")+e}function i(e){return function(t){
return new a(e+":"+t)}}var o=e("lodash/core"),a=t.exports=function(e){this._literal=e};a.prototype.toString=a.prototype.toJSON=function(){return this._literal},a.toDateLiteral=function(e){o.isNumber(e)?e=new Date(e):o.isString(e)&&(e=a.parseDate(e));var t=e.getFullYear(),n=e.getMonth()+1,i=e.getDate(),s=[t,r(n),r(i)].join("-");return new a(s)},a.toDateTimeLiteral=function(e){o.isNumber(e)?e=new Date(e):o.isString(e)&&(e=a.parseDate(e));var t=e.getUTCFullYear(),n=e.getUTCMonth()+1,i=e.getUTCDate(),s=e.getUTCHours(),l=e.getUTCMinutes(),u=e.getUTCSeconds(),c=[t,r(n),r(i)].join("-")+"T"+[r(s),r(l),r(u)].join(":")+"Z";return new a(c)},a.parseDate=function(e){var t=new Date,n=/^([\d]{4})-?([\d]{2})-?([\d]{2})(T([\d]{2}):?([\d]{2}):?([\d]{2})(.([\d]{3}))?(Z|([\+\-])([\d]{2}):?([\d]{2})))?$/,r=e.match(n);if(r){if(t=new Date(0),r[4]){if(t.setUTCFullYear(parseInt(r[1],10)),t.setUTCDate(parseInt(r[3],10)),t.setUTCMonth(parseInt(r[2],10)-1),t.setUTCHours(parseInt(r[5],10)),t.setUTCMinutes(parseInt(r[6],10)),t.setUTCSeconds(parseInt(r[7],10)),t.setUTCMilliseconds(parseInt(r[9]||"0",10)),r[10]&&"Z"!==r[10]){var i=60*parseInt(r[12],10)+parseInt(r[13],10);t.setTime(("+"===r[11]?-1:1)*i*60*1e3+t.getTime())}}else t.setFullYear(parseInt(r[1],10)),t.setDate(parseInt(r[3],10)),t.setMonth(parseInt(r[2],10)-1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0);return t}throw new Error("Invalid date format is specified : "+e)};var s={YESTERDAY:1,TODAY:1,TOMORROW:1,LAST_WEEK:1,THIS_WEEK:1,NEXT_WEEK:1,LAST_MONTH:1,THIS_MONTH:1,NEXT_MONTH:1,LAST_90_DAYS:1,NEXT_90_DAYS:1,LAST_N_DAYS:2,NEXT_N_DAYS:2,NEXT_N_WEEKS:2,LAST_N_WEEKS:2,NEXT_N_MONTHS:2,LAST_N_MONTHS:2,THIS_QUARTER:1,LAST_QUARTER:1,NEXT_QUARTER:1,NEXT_N_QUARTERS:2,LAST_N_QUARTERS:2,THIS_YEAR:1,LAST_YEAR:1,NEXT_YEAR:1,NEXT_N_YEARS:2,LAST_N_YEARS:2,THIS_FISCAL_QUARTER:1,LAST_FISCAL_QUARTER:1,NEXT_FISCAL_QUARTER:1,NEXT_N_FISCAL_QUARTERS:2,LAST_N_FISCAL_QUARTERS:2,THIS_FISCAL_YEAR:1,LAST_FISCAL_YEAR:1,NEXT_FISCAL_YEAR:1,NEXT_N_FISCAL_YEARS:2,LAST_N_FISCAL_YEARS:2};for(var l in s){var u=s[l];a[l]=1===u?new a(l):i(l)}},{"lodash/core":88}],23:[function(e,t,n){"use strict";function r(e){return JSON.parse(e)}function i(t){var n={};if(e("xml2js").parseString(t,{explicitArray:!1},function(e,t){n={error:e,result:t}}),n.error)throw n.error;return n.result}function o(t){return e("./csv").parseCSV(t)}function a(e){return e}var s=e("inherits"),l=e("events"),u=e("lodash/core"),c=e("./promise"),p=function(e,t){t=t||{},this._conn=e,this.on("resume",function(t){e.emit("resume",t)}),this._responseType=t.responseType,this._transport=t.transport||e._transport,this._noContentResponse=t.noContentResponse};s(p,l.EventEmitter),p.prototype.request=function(e,t){var n=this,r=this._conn,i=r._logger,o=this.getRefreshDelegate(),a=r.instanceUrl,s=c.defer(),l=function(t){return t?void s.reject(t):(a!==r.instanceUrl&&(e.url=e.url.replace(a,r.instanceUrl)),void n.request(e).then(function(e){s.resolve(e)},function(e){s.reject(e)}))};if(o&&o._refreshing)return o.once("resume",l),s.promise.thenCall(t);n.beforeSend(e),n.emit("request",e),i.debug("<request> method="+e.method+", url="+e.url);var u=Date.now();return this._transport.httpRequest(e).then(function(t){var r=Date.now();if(i.debug("elappsed time : "+(r-u)+"msec"),i.debug("<response> status="+t.statusCode+", url="+e.url),n.emit("response",t),n.isSessionExpired(t)&&o)return o.refresh(u,l),s.promise;if(n.isErrorResponse(t)){var a=n.getError(t);throw a}return n.getResponseBody(t)},function(e){var t=Date.now();throw i.debug("elappsed time : "+(t-u)+"msec"),i.error(e),e}).thenCall(t)},p.prototype.getRefreshDelegate=function(){return this._conn._refreshDelegate},p.prototype.beforeSend=function(e){if(e.headers=e.headers||{},this._conn.accessToken&&(e.headers.Authorization="Bearer "+this._conn.accessToken),this._conn.callOptions){var t=[];for(var n in this._conn.callOptions)t.push(n+"="+this._conn.callOptions[n]);e.headers["Sforce-Call-Options"]=t.join(", ")}},p.prototype.getResponseContentType=function(e){return this._responseType||e.headers&&e.headers["content-type"]},p.prototype.parseResponseBody=function(e){var t=this.getResponseContentType(e),n=/^(text|application)\/xml(;|$)/.test(t)?i:/^application\/json(;|$)/.test(t)?r:/^text\/csv(;|$)/.test(t)?o:a;try{return n(e.body)}catch(s){return e.body}},p.prototype.getResponseBody=function(e){if(204===e.statusCode)return this._noContentResponse;var t,n=this.parseResponseBody(e);if(this.hasErrorInResponseBody(n))throw t=this.getError(e,n);if(300===e.statusCode)throw t=new Error("Multiple records found"),t.name="MULTIPLE_CHOICES",t.content=n,t;return n},p.prototype.isSessionExpired=function(e){return 401===e.statusCode},p.prototype.isErrorResponse=function(e){return e.statusCode>=400},p.prototype.hasErrorInResponseBody=function(e){return!1},p.prototype.parseError=function(e){var t=e;return u.isArray(t)?t[0]:t},p.prototype.getError=function(e,t){var n;try{n=this.parseError(t||this.parseResponseBody(e))}catch(r){}n=u.isObject(n)&&u.isString(n.message)?n:{errorCode:"ERROR_HTTP_"+e.statusCode,message:e.body};var i=new Error(n.message);i.name=n.errorCode;for(var o in n)i[o]=n[o];return i};var d=function(e,t){this._conn=e,this._refreshFn=t,this._refreshing=!1};s(d,l.EventEmitter),d.prototype.refresh=function(e,t){if(this._lastRefreshedAt>e)return t();var n=this,r=this._conn,i=r._logger;return n.once("resume",t),n._refreshing?void 0:(i.debug("<refresh token>"),n._refreshing=!0,n._refreshFn(r,function(e,t,o){e||(i.debug("Connection refresh completed."),r.accessToken=t,r.emit("refresh",t,o)),n._lastRefreshedAt=Date.now(),n._refreshing=!1,n.emit("resume",e)}))},p.SessionRefreshDelegate=d,t.exports=p},{"./csv":21,"./promise":27,events:47,inherits:84,"lodash/core":88,xml2js:123}],24:[function(e,t,n){"use strict";function r(e){return function(t){this.log(e,t)}}var i=t.exports=function(e){"string"==typeof e&&(e=o[e]),e||(e=o.INFO),this._logLevel=e},o=i.LogLevels={DEBUG:1,INFO:2,WARN:3,ERROR:4,FATAL:5};i.prototype.log=function(e,t){this._logLevel<=e&&(e<o.ERROR?console.log(t):console.error(t))};for(var a in o)i.prototype[a.toLowerCase()]=r(o[a])},{}],25:[function(e,t,n){"use strict";var r=e("querystring"),i=e("lodash/core"),o=e("./transport"),a={loginUrl:"https://login.salesforce.com"},s=t.exports=function(e){e.authzServiceUrl&&e.tokenServiceUrl?(this.loginUrl=e.authzServiceUrl.split("/").slice(0,3).join("/"),this.authzServiceUrl=e.authzServiceUrl,this.tokenServiceUrl=e.tokenServiceUrl,this.revokeServiceUrl=e.revokeServiceUrl):(this.loginUrl=e.loginUrl||a.loginUrl,this.authzServiceUrl=this.loginUrl+"/services/oauth2/authorize",this.tokenServiceUrl=this.loginUrl+"/services/oauth2/token",this.revokeServiceUrl=this.loginUrl+"/services/oauth2/revoke"),this.clientId=e.clientId,this.clientSecret=e.clientSecret,this.redirectUri=e.redirectUri,e.proxyUrl?this._transport=new o.ProxyTransport(e.proxyUrl):e.httpProxy?this._transport=new o.HttpProxyTransport(e.httpProxy):this._transport=new o};i.extend(s.prototype,{getAuthorizationUrl:function(e){return e=i.extend({response_type:"code",client_id:this.clientId,redirect_uri:this.redirectUri},e||{}),this.authzServiceUrl+(this.authzServiceUrl.indexOf("?")>=0?"&":"?")+r.stringify(e)},refreshToken:function(e,t){var n={grant_type:"refresh_token",refresh_token:e,client_id:this.clientId};return this.clientSecret&&(n.client_secret=this.clientSecret),this._postParams(n,t)},requestToken:function(e,t,n){return"function"==typeof t&&(n=t,t={}),t=i.extend({grant_type:"authorization_code",code:e,client_id:this.clientId,redirect_uri:this.redirectUri},t||{}),this.clientSecret&&(t.client_secret=this.clientSecret),this._postParams(t,n)},authenticate:function(e,t,n){return this._postParams({grant_type:"password",username:e,password:t,client_id:this.clientId,client_secret:this.clientSecret,redirect_uri:this.redirectUri},n)},revokeToken:function(e,t){return this._transport.httpRequest({method:"POST",url:this.revokeServiceUrl,body:r.stringify({token:e}),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){if(e.statusCode>=400){var t=r.parse(e.body);t&&t.error||(t={error:"ERROR_HTTP_"+e.statusCode,error_description:e.body});var n=new Error(t.error_description);throw n.name=t.error,n}}).thenCall(t)},_postParams:function(e,t){return this._transport.httpRequest({method:"POST",url:this.tokenServiceUrl,body:r.stringify(e),headers:{"content-type":"application/x-www-form-urlencoded"}}).then(function(e){var t;try{t=JSON.parse(e.body)}catch(n){}if(e.statusCode>=400){t=t||{error:"ERROR_HTTP_"+e.statusCode,error_description:e.body};var r=new Error(t.error_description);throw r.name=t.error,r}return t}).thenCall(t)}})},{"./transport":36,"lodash/core":88,querystring:96}],26:[function(e,t,n){"use strict";var r=e("lodash/core"),i=(e("./promise"),e("./connection"),t.exports=function(e){this.rule=new i(e),this.approval=new o(e)},function(e){this._conn=e});i.prototype.list=function(e){return this._conn.request("/process/rules").then(function(e){return e.rules}).thenCall(e)},i.prototype.trigger=function(e,t){return e=r.isArray(e)?e:[e],this._conn.request({method:"POST",url:"/process/rules/",body:JSON.stringify({contextIds:e}),headers:{"content-type":"application/json"}}).thenCall(t)};var o=function(e){this._conn=e};o.prototype.list=function(e){return this._conn.request("/process/approvals").then(function(e){return e.approvals}).thenCall(e)},o.prototype.request=function(e,t){return e=e.map(function(e){return e._request?e._request:e}),this._conn.request({method:"POST",url:"/process/approvals",headers:{"content-type":"application/json"},body:JSON.stringify({requests:e})}).thenCall(t)},o.prototype._createRequest=function(e,t,n,i,o){"function"==typeof n&&(o=n,i=null,n=null),"function"==typeof i&&(o=i,i=null),i=i||{};var s={actionType:e,contextId:t,comments:n};return r.extend(s,i),new a(this,s).thenCall(o)},o.prototype.submit=function(e,t,n,r){return this._createRequest("Submit",e,t,n,r)},o.prototype.approve=function(e,t,n,r){return this._createRequest("Approve",e,t,n,r)},o.prototype.reject=function(e,t,n,r){return this._createRequest("Reject",e,t,n,r)};var a=function(e,t){this._process=e,this._request=t};a.prototype.then=function(e,t){this._promise||(this._promise=this._process.request([this]).then(function(e){return e[0]})),this._promise.then(e,t)},a.prototype.thenCall=function(e){return e?this.then(function(t){e(null,t)},function(t){e(t)}):this}},{"./connection":19,"./promise":27,"lodash/core":88}],27:[function(e,t,n){(function(n){"use strict";var r=e("lodash/core"),i=e("promise/lib/es6-extensions");i.prototype.thenCall=function(e){return r.isFunction(e)&&this.then(function(t){n.nextTick(function(){e(null,t)})},function(t){n.nextTick(function(){e(t)})}),this},i.prototype.fail=i.prototype["catch"],i.defer=function(){return new o};var o=function(){var e=this;this.promise=new i(function(t,n){e.resolve=t,e.reject=n})};t.exports=i}).call(this,e("_process"))},{_process:91,"lodash/core":88,"promise/lib/es6-extensions":93}],28:[function(e,t,n){(function(n){"use strict";var r=e("inherits"),i=(e("events"),e("readable-stream")),o=e("lodash/core"),a=e("./promise"),s=(e("./date"),e("./soql-builder")),l=e("./record-stream"),u=t.exports=function(e,t,n){u.super_.call(this,{objectMode:!0}),this._conn=e,o.isString(t)?this._soql=t:t.locator&&t.locator.indexOf("/")>=0?this._locator=t.locator.split("/").pop():(this._config=t,this.select(t.fields),t.includes&&this.include(t.includes),t.sort&&this.sort(t.sort)),this._options=o.defaults(n||{},{maxFetch:1e4,autoFetch:!1,scanAll:!1,responseTarget:c.QueryResult}),this._executed=!1,this._finished=!1,this._chaining=!1,this._deferred=a.defer()};r(u,i.Readable),u.prototype.select=function(e){if(this._soql)throw Error("Cannot set select fields for the query which has already built SOQL.");if(e=e||"*",o.isString(e))e=e.split(/\s*,\s*/);else if(o.isObject(e)&&!o.isArray(e)){var t=[];for(var n in e)e[n]&&t.push(n);e=t}return this._config.fields=e,this},u.prototype.where=function(e){if(this._soql)throw Error("Cannot set where conditions for the query which has already built SOQL.");return this._config.conditions=e,this},u.prototype.limit=function(e){if(this._soql)throw Error("Cannot set limit for the query which has already built SOQL.");return this._config.limit=e,this},u.prototype.skip=u.prototype.offset=function(e){if(this._soql)throw Error("Cannot set skip/offset for the query which has already built SOQL.");return this._config.offset=e,this},u.prototype.sort=u.prototype.orderby=function(e,t){if(this._soql)throw Error("Cannot set sort for the query which has already built SOQL.");return o.isString(e)&&o.isString(t)&&(e=[[e,t]]),this._config.sort=e,this},u.prototype.include=function(e,t,n,r){if(this._soql)throw Error("Cannot include child relationship into the query which has already built SOQL.");if(!o.isObject(e)){var i={table:e,conditions:t,fields:n,limit:r&&r.limit,offset:r&&(r.offset||r.skip),sort:r&&r.sort};o.isArray(this._config.includes)||(this._config.includes=[]),this._config.includes.push(i);var a=new d(this._conn,this,i);return this._children=this._children||[],this._children.push(a),a}var s=e;for(var l in s){var u=s[l];this.include(l,u.conditions,u.fields,u)}},u.prototype.maxFetch=function(e){return this._options.maxFetch=e,this},u.prototype.autoFetch=function(e){return this._options.autoFetch=e,this},u.prototype.scanAll=function(e){return this._options.scanAll=e,this};var c=u.ResponseTargets={};["QueryResult","Records","SingleRecord","Count"].forEach(function(e){c[e]=e}),u.prototype.setResponseTarget=function(e){return e in c&&(this._options.responseTarget=e),this},u.prototype.run=u.prototype.exec=u.prototype.execute=function(e,t){var n=this,r=this._conn._logger,i=this._deferred;if(this._executed)return i.reject(new Error("re-executing already executed query")),this;if(this._finished)return i.reject(new Error("executing already closed query")),this;"function"==typeof e&&(t=e,e={}),e=e||{},e={headers:e.headers||n._options.headers,responseTarget:e.responseTarget||n._options.responseTarget,autoFetch:e.autoFetch||n._options.autoFetch,maxFetch:e.maxFetch||n._options.maxFetch,scanAll:e.scanAll||n._options.scanAll};var a=function(e,n){if(o.isFunction(t))try{n=t(e,n),e=null}catch(r){e=r}e?i.reject(e):i.resolve(n)};return this.once("response",function(e){a(null,e)}),this.once("error",function(e){a(e)}),this.once("fetch",function(){if(e.responseTarget===c.Records&&(n._chaining||t)){r.debug("--- collecting all fetched records ---");var i=[],o=function(e){i.push(e)};n.on("record",o),n.once("end",function(){n.removeListener("record",o),n.emit("response",i,n)})}}),this._executed=!0,r.debug(">>> Query start >>>"),this._execute(e).then(function(){r.debug("*** Query finished ***")}).fail(function(e){r.debug("--- Query error ---"),n.emit("error",e)}),this},u.prototype._execute=function(e){var t=this,n=this._conn._logger,r=e.responseTarget,i=e.autoFetch,o=e.maxFetch,s=e.scanAll;return a.resolve(t._locator?t._conn._baseUrl()+"/query/"+t._locator:t.toSOQL().then(function(e){return t.totalFetched=0,n.debug("SOQL = "+e),t._conn._baseUrl()+"/"+(s?"queryAll":"query")+"?q="+encodeURIComponent(e)})).then(function(n){return t._conn.request({method:"GET",url:n,headers:e.headers})}).then(function(n){t.emit("fetch"),t.totalSize=n.totalSize;var a;switch(r){case c.SingleRecord:a=n.records&&n.records.length>0?n.records[0]:null;break;case c.Records:a=n.records;break;case c.Count:a=n.totalSize;break;default:a=n}r!==c.Records&&t.emit("response",a,t);for(var s=n.records&&n.records.length||0,l=0;s>l;l++){if(t.totalFetched>=o){t._finished=!0;break}var u=n.records[l];t.push(u),t.emit("record",u,t.totalFetched++,t)}return n.nextRecordsUrl&&(t._locator=n.nextRecordsUrl.split("/").pop()),t._finished=t._finished||n.done||!i,t._finished?t.push(null):t._execute(e),a})},u.prototype._read=function(e){this._finished||this._executed||this.execute({autoFetch:!0})},u.prototype.on=function(e,t){if("record"===e){var n=this;this.on("readable",function(){for(;null!==n.read(););})}return u.super_.prototype.on.call(this,e,t)},u.prototype.addListener=u.prototype.on,u.prototype._expandFields=function(){function e(e){var n=r._parent._config.table;return i.debug('finding table for relation "'+e+'" in "'+n+'"...'),t(n).then(function(t){var n=e.toUpperCase(),r=o.find(t.childRelationships,function(e){return(e.relationshipName||"").toUpperCase()===n});return r?r.childSObject:a.reject(new Error("No child relationship found: "+e))})}function t(e){i.debug("describe cache: "+e);var t=a.defer();return s.describe$(e,function(e,n){i.debug("... done."),e?t.reject(e):t.resolve(n)}),t.promise}function n(e,r){i.debug('expanding field "'+r+'" in "'+e+'"...');var s=r.split(".");return"*"===s[s.length-1]?t(e).then(function(t){if(i.debug("table "+e+"has been described"),s.length>1){var r=s.shift(),a=o.find(t.fields,function(e){return e.relationshipName&&e.relationshipName.toUpperCase()===r.toUpperCase()});if(a){var l=1===a.referenceTo.length?a.referenceTo[0]:"Name";return n(l,s.join(".")).then(function(e){return o.map(e,function(e){return r+"."+e})})}return[]}return o.map(t.fields,function(e){return e.name})}):a.resolve([r])}if(this._soql)return a.reject(new Error("Cannot expand fields for the query which has already built SOQL."));var r=this,i=r._conn._logger,s=this._conn,l=this._config.table,u=this._config.fields||[];return i.debug("_expandFields: table = "+l+", fields = "+u.join(", ")),a.all([a.resolve(r._parent?e(l):l).then(function(e){return a.all(o.map(u,function(t){return n(e,t)})).then(function(e){r._config.fields=o.flatten(e)})}),a.all(o.map(r._children||[],function(e){return e._expandFields()}))])},u.prototype.explain=function(e){var t=this,n=this._conn._logger;return t.toSOQL().then(function(e){n.debug("SOQL = "+e);var r="/query/?explain="+encodeURIComponent(e);return t._conn.request(r)}).thenCall(e)},u.prototype.toSOQL=function(e){var t=this;return a.resolve(t._soql||t._expandFields().then(function(){return s.createSOQL(t._config)})).thenCall(e)},u.prototype.stream=l.Serializable.prototype.stream,u.prototype.map=l.prototype.map,u.prototype.filter=l.prototype.map;var p=200;u.prototype["delete"]=u.prototype.del=u.prototype.destroy=function(e,t,n){if("function"==typeof e?(n=e,t={},e=null):"object"==typeof e&&null!==e&&(n=t,t=e,e=null),t=t||{},e=e||this._config&&this._config.table,!e)throw new Error("SOQL based query needs SObject type information to bulk delete.");var r=t.allowBulk===!1?-1:"number"==typeof t.bulkThreshold?t.bulkThreshold:this._conn._ensureVersion(42)?p:this._conn.maxRequest/2,i=this;return new a(function(t,n){var o=[],a=null,s=function(s){if(!s.Id)return void i.emit("error",new Error("Queried record does not include Salesforce record ID."));var l={Id:s.Id};a?a.write(l):(o.push(l),(0>r||o.length>r)&&(a=i._conn.sobject(e).deleteBulk().on("response",t).on("error",n),o.forEach(function(e){a.write(e)}),o=[]))},l=function(){if(a)a.end();else{var r=o.map(function(e){return e.Id});i._conn.sobject(e).destroy(r,{allowRecursive:!0}).then(t,n)}};i.on("data",s).on("end",l).on("error",n)}).thenCall(n)},u.prototype.update=function(e,t,n,r){if("function"==typeof t?(r=t,n={},t=null):"object"==typeof t&&null!==t&&(r=n,n=t,t=null),n=n||{},t=t||this._config&&this._config.table,!t)throw new Error("SOQL based query needs SObject type information to bulk update.");var i=o.isFunction(e)?l.map(e):l.recordMapStream(e),s=n.allowBulk===!1?-1:"number"==typeof n.bulkThreshold?n.bulkThreshold:this._conn._ensureVersion(42)?p:this._conn.maxRequest/2,u=this;return new a(function(e,n){var r=[],o=null,a=function(i){o?o.write(i):(r.push(i),(0>s||r.length>s)&&(o=u._conn.sobject(t).updateBulk().on("response",e).on("error",n),r.forEach(function(e){o.write(e)}),r=[]))},l=function(){o?o.end():u._conn.sobject(t).update(r,{allowRecursive:!0}).then(e,n)};u.on("error",n).pipe(i).on("data",a).on("end",l).on("error",n)}).thenCall(r)},u.prototype.then=function(e,t){return this._chaining=!0,this._finished||this._executed||this.execute(),this._deferred.promise.then.apply(this._deferred.promise,arguments)},u.prototype.thenCall=function(e){return o.isFunction(e)&&this.then(function(t){n.nextTick(function(){e(null,t)})},function(t){n.nextTick(function(){e(t)})}),this};var d=function(e,t,n){d.super_.call(this,e,n),this._parent=t};r(d,u),d.prototype.include=function(){throw new Error("Not allowed to include another subquery in subquery.")},d.prototype.end=function(){return this._parent},d.prototype.run=d.prototype.exec=d.prototype.execute=function(){return this._parent.execute.apply(this._parent,arguments)}}).call(this,e("_process"))},{"./date":22,"./promise":27,"./record-stream":30,"./soql-builder":35,_process:91,events:47,inherits:84,"lodash/core":88,"readable-stream":107}],29:[function(e,t,n){"use strict";var r=t.exports=function(e,t){this._conn=e,this._path=t};r.prototype.describe=function(e){var t=this._path+"/describe";return this._conn.request(t).thenCall(e)},r.prototype.defaultValues=function(e,t){"function"==typeof e&&(t=e,e=null);var n=this._path+"/defaultValues";return e&&(n+="/"+e),this._conn.request(n).thenCall(t)},r.prototype.execute=function(e,t,n){var r={contextId:e,record:t};return this._conn.requestPost(this._path,r).thenCall(n)}},{}],30:[function(e,t,n){"use strict";function r(e,t){return Object.keys(e).reduce(function(e,n){var i=e[n],o={};if("attributes"===n)e=u.extend({},e),delete e[n];else if(t.nullValue&&null===i)o[n]=t.nullValue,e=u.extend({},e,o);else if(null!==i&&"object"==typeof i){var a=r(i,t);e=Object.keys(a).reduce(function(e,t){return e[n+"."+t]=a[t],e},u.extend({},e))}return e},e)}function i(e,t){var n=new s;return n.on("pipe",function(r){r.unpipe(n),r.pipe(e).pipe(t)}),n.pipe=function(e,n){return t.pipe(e,n)},n}var o=(e("events"),e("readable-stream")),a=(o.Duplex,o.Transform),s=o.PassThrough,l=e("inherits"),u=e("lodash/core"),c=e("./csv"),p=t.exports=function(){p.super_.call(this,{objectMode:!0})};l(p,a),p.prototype._transform=function(e,t,n){this.emit("record",e),this.push(e),n()},p.prototype.map=function(e){return this.pipe(p.map(e))},p.prototype.filter=function(e){return this.pipe(p.filter(e))};var d=p.Serializable=function(){d.super_.call(this),this._dataStream=null};l(d,p),d.prototype.stream=function(e,t){e=e||"csv";var n=m[e];if(!n)throw new Error("Converting ["+e+"] data stream is not supported.");return this._dataStream||(this._dataStream=new s,this.pipe(n.serialize(t)).pipe(this._dataStream)),this._dataStream};var f=p.Parsable=function(){f.super_.call(this),this._dataStream=null};l(f,p),f.prototype.stream=function(e,t){e=e||"csv";var n=m[e],r=this;if(!n)throw new Error("Converting ["+e+"] data stream is not supported.");return this._dataStream||(this._dataStream=new s,this._parserStream=n.parse(t).on("error",function(e){r.emit("error",e)}),this._parserStream.pipe(this).pipe(new s({objectMode:!0,highWaterMark:5e5}))),this._dataStream},f.prototype.on=function(e,t){return"readable"!==e&&"record"!==e||this._dataStream.pipe(this._parserStream),f.super_.prototype.on.call(this,e,t)},f.prototype.addListener=f.prototype.on,p.map=function(e){var t=new p.Serializable;return t._transform=function(t,n,r){var i=e(t)||t;this.push(i),r()},t},p.recordMapStream=function(e,t){function n(e,t){if(u.isString(e)){var n=/^\$\{(\w+)\}$/.exec(e);return n?t[n[1]]:e.replace(/\$\{(\w+)\}/g,function(e,n){var r=t[n];return u.isNull(r)||u.isUndefined(r)?"":String(r)})}return e}return p.map(function(r){var i={Id:r.Id};for(var o in e)i[o]=t?e[o]:n(e[o],r);return i})},p.filter=function(e){var t=new p.Serializable;return t._transform=function(t,n,r){e(t)&&this.push(t),r()},t};var h={serialize:function(e){return e=e||{},i(p.map(function(t){return r(t,e)}),c.serializeCSVStream(e))},parse:function(e){return c.parseCSVStream(e)}},m=p.DataStreamConverters={csv:h}},{"./csv":21,events:47,inherits:84,"lodash/core":88,"readable-stream":107}],31:[function(e,t,n){"use strict";var r=e("lodash/core"),i=t.exports=function(e,t,n){this._conn=e,this.type=t,this.id=n};i.prototype.retrieve=function(e,t){return"function"==typeof e&&(t=e,e={}),this._conn.retrieve(this.type,this.id,e,t)},i.prototype.update=function(e,t,n){return"function"==typeof t&&(n=t,t={}),e=r.clone(e),e.Id=this.id,this._conn.update(this.type,e,t,n)},i.prototype["delete"]=i.prototype.del=i.prototype.destroy=function(e,t){return"function"==typeof e&&(t=e,e={}),this._conn.destroy(this.type,this.id,e,t)},i.prototype.blob=function(e){var t=[this._conn._baseUrl(),"sobjects",this.type,this.id,e].join("/");return this._conn.request(t).stream()}},{"lodash/core":88}],32:[function(e,t,n){"use strict";var r=e("./_required");t.exports=function(e){"./jsforce"!==e&&"jsforce"!==e||(e="./core");var t=r[e];if("undefined"==typeof t)throw new Error("Cannot find module '"+e+"'");return t}},{"./_required":3}],33:[function(e,t,n){"use strict";function r(e,t){if(s.isArray(e))return e.map(function(e){return r(e,t&&t[0])});if(s.isObject(e)){if(e.$&&"true"===e.$["xsi:nil"])return null;if(s.isArray(t))return[r(e,t[0])];var n={};for(var i in e)n[i]=r(e[i],t&&t[i]);return n}if(s.isArray(t))return[r(e,t[0])];if(s.isObject(t))return{};switch(t){case"string":return String(e);case"number":return Number(e);case"boolean":return"true"===e;default:return e}}function i(e,t){var n=t.shift();if(n){for(var r in e)if(n.test(r))return i(e[r],t);return null}return e}function o(e,t){if(s.isObject(e)&&(t=e,e=null),s.isArray(t))return s.map(t,function(t){return o(e,t)}).join("");var n=[],r=[];if(s.isObject(t)){for(var i in t){var a=t[i];"@"===i[0]?(i=i.substring(1),n.push(i+'="'+a+'"')):r.push(o(i,a))}t=r.join("")}else t=String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;");var l=e?"<"+e+(n.length>0?" "+n.join(" "):"")+">":"",u=e?"</"+e+">":"";return l+t+u}var a=e("inherits"),s=e("lodash/core"),l=(e("xml2js"),e("./http-api")),u=t.exports=function(e,t){u.super_.apply(this,arguments),this._endpointUrl=t.endpointUrl,this._xmlns=t.xmlns||"urn:partner.soap.sforce.com"};a(u,l),u.prototype.invoke=function(e,t,n,i){"function"==typeof n&&(i=n,n=null);var o={};return o[e]=t,this.request({method:"POST",url:this._endpointUrl,headers:{"Content-Type":"text/xml",SOAPAction:'""'},message:o}).then(function(e){return n?r(e,n):e}).thenCall(i)},u.prototype.beforeSend=function(e){e.body=this._createEnvelope(e.message)},u.prototype.isSessionExpired=function(e){return 500===e.statusCode&&/<faultcode>[a-zA-Z]+:INVALID_SESSION_ID<\/faultcode>/.test(e.body)},u.prototype.parseError=function(e){var t=i(e,[/:Envelope$/,/:Body$/,/:Fault$/]);return{errorCode:t.faultcode,message:t.faultstring}},u.prototype.getResponseBody=function(e){var t=u.super_.prototype.getResponseBody.call(this,e);return i(t,[/:Envelope$/,/:Body$/,/.+/])},u.prototype._createEnvelope=function(e){var t={},n=this._conn;return n.accessToken&&(t.SessionHeader={sessionId:this._conn.accessToken}),n.callOptions&&(t.CallOptions=n.callOptions),['<?xml version="1.0" encoding="UTF-8"?>','<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"',' xmlns:xsd="http://www.w3.org/2001/XMLSchema"',' xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">','<soapenv:Header xmlns="'+this._xmlns+'">',o(t),"</soapenv:Header>",'<soapenv:Body xmlns="'+this._xmlns+'">',o(e),"</soapenv:Body>","</soapenv:Envelope>"].join("")}},{"./http-api":23,inherits:84,"lodash/core":88,xml2js:123}],34:[function(e,t,n){"use strict";var r=e("lodash/core"),i=e("./record"),o=e("./query"),a=(e("./cache"),e("./quick-action")),s=t.exports=function(e,t){this._conn=e,this.type=t;var n={key:"describe."+this.type};this.describe$=e.cache.makeCacheable(this.describe,this,n),this.describe=e.cache.makeResponseCacheable(this.describe,this,n),n={key:"layouts."+this.type},this.layouts$=e.cache.makeCacheable(this.layouts,this,n),this.layouts=e.cache.makeResponseCacheable(this.layouts,this,n),n={key:"compactLayouts."+this.type},this.compactLayouts$=e.cache.makeCacheable(this.compactLayouts,this,n),this.compactLayouts=e.cache.makeResponseCacheable(this.compactLayouts,this,n),n={key:"approvalLayouts."+this.type},this.approvalLayouts$=e.cache.makeCacheable(this.approvalLayouts,this,n),this.approvalLayouts=e.cache.makeResponseCacheable(this.approvalLayouts,this,n)};s.prototype.insert=s.prototype.create=function(e,t,n){return"function"==typeof t&&(n=t,t={}),this._conn.create(this.type,e,t,n)},s.prototype.retrieve=function(e,t,n){return"function"==typeof t&&(n=t,t={}),this._conn.retrieve(this.type,e,t,n)},s.prototype.update=function(e,t,n){return"function"==typeof t&&(n=t,t={}),this._conn.update(this.type,e,t,n)},s.prototype.upsert=function(e,t,n,r){return"function"==typeof n&&(r=n,n={}),this._conn.upsert(this.type,e,t,n,r)},s.prototype["delete"]=s.prototype.del=s.prototype.destroy=function(e,t,n){return"function"==typeof t&&(n=t,t={}),this._conn.destroy(this.type,e,t,n)},s.prototype.describe=function(e){return this._conn.describe(this.type,e)},s.prototype.record=function(e){return new i(this._conn,this.type,e)},s.prototype.find=function(e,t,n,r){"function"==typeof e?(r=e,e={},t=null,n=null):"function"==typeof t?(r=t,t=null,n=null):"function"==typeof n&&(r=n,n=null),n=n||{};var i={fields:t,includes:n.includes,table:this.type,conditions:e,limit:n.limit,sort:n.sort,offset:n.offset||n.skip},a=new o(this._conn,i,n);return a.setResponseTarget(o.ResponseTargets.Records),r&&a.run(r),a},s.prototype.findOne=function(e,t,n,i){"function"==typeof e?(i=e,e={},t=null,n=null):"function"==typeof t?(i=t,t=null,n=null):"function"==typeof n&&(i=n,n=null),n=r.extend(n||{},{limit:1});var a=this.find(e,t,n);return a.setResponseTarget(o.ResponseTargets.SingleRecord),i&&a.run(i),a},s.prototype.select=function(e,t){return this.find(null,e,null,t)},s.prototype.count=function(e,t){"function"==typeof e&&(t=e,e={});var n=this.find(e,{"count()":!0});return n.setResponseTarget("Count"),t&&n.run(t),n},s.prototype.bulkload=function(e,t,n,r){return this._conn.bulk.load(this.type,e,t,n,r)},s.prototype.insertBulk=s.prototype.createBulk=function(e,t){return this.bulkload("insert",e,t)},s.prototype.updateBulk=function(e,t){return this.bulkload("update",e,t)},s.prototype.upsertBulk=function(e,t,n){return this.bulkload("upsert",{extIdField:t},e,n)},s.prototype.deleteBulk=s.prototype.destroyBulk=function(e,t){return this.bulkload("delete",e,t)},s.prototype.deleteHardBulk=s.prototype.destroyHardBulk=function(e,t){return this.bulkload("hardDelete",e,t)},s.prototype.recent=function(e){return this._conn.recent(this.type,e)},s.prototype.updated=function(e,t,n){return this._conn.updated(this.type,e,t,n)},s.prototype.deleted=function(e,t,n){return this._conn.deleted(this.type,e,t,n)},s.prototype.layouts=function(e,t){"function"==typeof e&&(t=e,e=null);var n="/sobjects/"+this.type+"/describe/"+(e?"namedLayouts/"+e:"layouts");return this._conn.request(n,t)},s.prototype.compactLayouts=function(e){var t="/sobjects/"+this.type+"/describe/compactLayouts";return this._conn.request(t,e)},s.prototype.approvalLayouts=function(e){var t="/sobjects/"+this.type+"/describe/approvalLayouts";return this._conn.request(t,e)},s.prototype.listviews=function(e){var t=this._conn._baseUrl()+"/sobjects/"+this.type+"/listviews";return this._conn.request(t,e)},s.prototype.listview=function(e){return new l(this._conn,this.type,e)},s.prototype.quickActions=function(e){return this._conn.request("/sobjects/"+this.type+"/quickActions").thenCall(e)},s.prototype.quickAction=function(e){return new a(this._conn,"/sobjects/"+this.type+"/quickActions/"+e)};var l=function(e,t,n){this._conn=e,this.type=t,this.id=n};l.prototype.results=function(e){var t=this._conn._baseUrl()+"/sobjects/"+this.type+"/listviews/"+this.id+"/results";return this._conn.request(t,e)},l.prototype.describe=function(e,t){"function"==typeof e&&(t=e,e={}),e=e||{};var n=this._conn._baseUrl()+"/sobjects/"+this.type+"/listviews/"+this.id+"/describe";return this._conn.request({method:"GET",url:n,headers:e.headers
},t)},l.prototype.explain=function(e){var t="/query/?explain="+this.id;return this._conn.request(t,e)}},{"./cache":18,"./query":28,"./quick-action":29,"./record":31,"lodash/core":88}],35:[function(e,t,n){"use strict";function r(e){var t=["SELECT ",i(e.fields,e.includes)," FROM ",e.table].join(""),n=o(e.conditions);n&&(t+=" WHERE "+n);var r=c(e.sort);return r&&(t+=" ORDER BY "+r),e.limit&&(t+=" LIMIT "+e.limit),e.offset&&(t+=" OFFSET "+e.offset),t}function i(e,t){return t=p.map(p.values(t||{}),function(e){return"("+r(e)+")"}),(e||["Id"]).concat(t).join(", ")}function o(e,t,n){if(p.isString(e))return e;e=e||[],t=t||"AND",n=n||0,e=u(e)?e.map(function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t.length>1?t:t[0]}):p.keys(e).map(function(t){return{key:t,value:e[t]}}),e=e.map(function(r){var i,s=n+1;switch(r.key){case"$or":case"$and":case"$not":return"NOT"!==t&&1===e.length&&(s=n),i="$or"===r.key?"OR":"$and"===r.key?"AND":"NOT",o(r.value,i,s);default:return a(r.key,r.value)}}).filter(function(e){return e});var r;return"NOT"===t?(r=n>0,(r?"(":"")+"NOT "+e[0]+(r?")":"")):(r=n>0&&e.length>1,(r?"(":"")+e.join(" "+t+" ")+(r?")":""))}function a(e,t){var n="$eq";if(p.isArray(t))n="$in";else if(p.isObject(t))for(var r in t)if("$"===r[0]){n=r,t=t[r];break}var i=f[n];if(!i||p.isUndefined(t))return null;var o=s(t);if(p.isUndefined(o))return null;switch(i){case"NOT LIKE":return"("+["NOT",e,"LIKE",o].join(" ")+")";case"EXISTS":return[e,t?"!=":"=","null"].join(" ");default:return[e,i,o].join(" ")}}function s(e){return u(e)?e.length>0?"("+e.map(s).join(", ")+")":void 0:e instanceof d?e.toString():p.isString(e)?"'"+l(e)+"'":p.isNumber(e)?e.toString():p.isNull(e)?"null":e}function l(e){return String(e||"").replace(/'/g,"\\'")}function u(e){return p.isObject(e)&&p.isFunction(e.pop)}function c(e){if(e=e||[],p.isString(e)){if(/,|\s+(asc|desc)\s*$/.test(e))return e;e=e.split(/\s+/).map(function(e){var t="ASC",n=e[0];return"-"===n?(t="DESC",e=e.substring(1)):"+"===n&&(e=e.substring(1)),[e,t]})}else u(e)||(e=p.keys(e).map(function(t){var n=e[t];return[t,n]}));return e.map(function(e){var t=e[0],n=e[1];switch(String(n)){case"DESC":case"desc":case"descending":case"-":case"-1":n="DESC";break;default:n="ASC"}return t+" "+n}).join(", ")}var p=e("lodash/core"),d=e("./date"),f={"=":"=",$eq:"=","!=":"!=",$ne:"!=",">":">",$gt:">","<":"<",$lt:"<",">=":">=",$gte:">=","<=":"<=",$lte:"<=",$like:"LIKE",$nlike:"NOT LIKE",$in:"IN",$nin:"NOT IN",$includes:"INCLUDES",$excludes:"EXCLUDES",$exists:"EXISTS"};n.createSOQL=r},{"./date":22,"lodash/core":88}],36:[function(e,t,n){(function(n){"use strict";function r(e,t){var n=e.then;return e.then=function(){t();var i=n.apply(e,arguments);return r(i,t)},e.stream=t,e}function i(e){var t=/(\w+)\.(visual\.force|salesforce)\.com$/.exec(e);return t&&(e=t[1]+".salesforce.com"),e}var o=e("inherits"),a=e("./promise"),s=e("request"),l=e("./browser/canvas"),u=e("./browser/jsonp");if(s.defaults){var c={followAllRedirects:!0};n.env.HTTP_PROXY&&(c.proxy=n.env.HTTP_PROXY),parseInt(n.env.HTTP_TIMEOUT)&&(c.timeout=parseInt(n.env.HTTP_TIMEOUT)),s=s.defaults(c)}var p;if("undefined"==typeof window)p=n.env.LOCATION_BASE_URL||"";else{var d=i(window.location.host);p=d?"https://"+d:""}var f=t.exports=function(){};f.prototype.httpRequest=function(e,t){var n,i=a.defer(),o=this._getHttpRequestModule(),s=function(){return n||(n=o(e,function(e,t){e?i.reject(e):i.resolve(t)})),n};return r(i.promise,s).thenCall(t)},f.prototype._getHttpRequestModule=function(){return s};var h=f.JsonpTransport=function(e){this._jsonpParam=e};o(h,f),h.prototype._getHttpRequestModule=function(){return u.createRequest(this._jsonpParam)},h.supported=u.supported;var m=f.CanvasTransport=function(e){this._signedRequest=e};o(m,f),m.prototype._getHttpRequestModule=function(){return l.createRequest(this._signedRequest)},m.supported=l.supported;var b=f.ProxyTransport=function(e){this._proxyUrl=e};o(b,f),b.prototype.httpRequest=function(e,t){var n=e.url;0===n.indexOf("/")&&(n=p+n);var r={method:e.method,url:this._proxyUrl+"?"+Date.now()+"."+(""+Math.random()).substring(2),headers:{"salesforceproxy-endpoint":n}};if((e.body||""===e.body)&&(r.body=e.body),e.headers)for(var i in e.headers)r.headers[i]=e.headers[i];return b.super_.prototype.httpRequest.call(this,r,t)};var y=f.HttpProxyTransport=function(e){this._httpProxy=e};o(y,f),y.prototype.httpRequest=function(e,t){var n=e.url;0===n.indexOf("/")&&(n=p+n);var r={method:e.method,url:e.url,proxy:this._httpProxy,headers:{}};if((e.body||""===e.body)&&(r.body=e.body),e.headers)for(var i in e.headers)r.headers[i]=e.headers[i];return y.super_.prototype.httpRequest.call(this,r,t)}}).call(this,e("_process"))},{"./browser/canvas":14,"./browser/jsonp":16,"./promise":27,_process:91,inherits:84,request:17}],37:[function(e,t,n){"use strict";function r(){if(l.length)throw l.shift()}function i(e){var t;t=s.length?s.pop():new o,t.task=e,a(t)}function o(){this.task=null}var a=e("./raw"),s=[],l=[],u=a.makeRequestCallFromTimer(r);t.exports=i,o.prototype.call=function(){try{this.task.call()}catch(e){i.onerror?i.onerror(e):(l.push(e),u())}finally{this.task=null,s[s.length]=this}}},{"./raw":38}],38:[function(e,t,n){(function(e){"use strict";function n(e){s.length||(a(),l=!0),s[s.length]=e}function r(){for(;u<s.length;){var e=u;if(u+=1,s[e].call(),u>c){for(var t=0,n=s.length-u;n>t;t++)s[t]=s[t+u];s.length-=u,u=0}}s.length=0,u=0,l=!1}function i(e){var t=1,n=new d(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}function o(e){return function(){function t(){clearTimeout(n),clearInterval(r),e()}var n=setTimeout(t,0),r=setInterval(t,50)}}t.exports=n;var a,s=[],l=!1,u=0,c=1024,p="undefined"!=typeof e?e:self,d=p.MutationObserver||p.WebKitMutationObserver;a="function"==typeof d?i(r):o(r),n.requestFlush=a,n.makeRequestCallFromTimer=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],39:[function(e,t,n){"use strict";function r(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function i(e){var t=r(e),n=t[0],i=t[1];return 3*(n+i)/4-i}function o(e,t,n){return 3*(t+n)/4-n}function a(e){for(var t,n=r(e),i=n[0],a=n[1],s=new d(o(e,i,a)),l=0,u=a>0?i-4:i,c=0;u>c;c+=4)t=p[e.charCodeAt(c)]<<18|p[e.charCodeAt(c+1)]<<12|p[e.charCodeAt(c+2)]<<6|p[e.charCodeAt(c+3)],s[l++]=t>>16&255,s[l++]=t>>8&255,s[l++]=255&t;return 2===a&&(t=p[e.charCodeAt(c)]<<2|p[e.charCodeAt(c+1)]>>4,s[l++]=255&t),1===a&&(t=p[e.charCodeAt(c)]<<10|p[e.charCodeAt(c+1)]<<4|p[e.charCodeAt(c+2)]>>2,s[l++]=t>>8&255,s[l++]=255&t),s}function s(e){return c[e>>18&63]+c[e>>12&63]+c[e>>6&63]+c[63&e]}function l(e,t,n){for(var r,i=[],o=t;n>o;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(s(r));return i.join("")}function u(e){for(var t,n=e.length,r=n%3,i=[],o=16383,a=0,s=n-r;s>a;a+=o)i.push(l(e,a,a+o>s?s:a+o));return 1===r?(t=e[n-1],i.push(c[t>>2]+c[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],i.push(c[t>>10]+c[t>>4&63]+c[t<<2&63]+"=")),i.join("")}n.byteLength=i,n.toByteArray=a,n.fromByteArray=u;for(var c=[],p=[],d="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0,m=f.length;m>h;++h)c[h]=f[h],p[f.charCodeAt(h)]=h;p["-".charCodeAt(0)]=62,p["_".charCodeAt(0)]=63},{}],40:[function(e,t,n){},{}],41:[function(e,t,n){"use strict";function r(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(t){return!1}}function i(e){if(e>$)throw new RangeError("Invalid typed array length");var t=new Uint8Array(e);return t.__proto__=o.prototype,t}function o(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(e)}return a(e,t,n)}function a(e,t,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return Q(e)||e&&Q(e.buffer)?d(e,t,n):"string"==typeof e?c(e,t):f(e)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(0>e)throw new RangeError('"size" argument must not be negative')}function l(e,t,n){return s(e),0>=e?i(e):void 0!==t?"string"==typeof n?i(e).fill(t,n):i(e).fill(t):i(e)}function u(e){return s(e),i(0>e?0:0|h(e))}function c(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!o.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|b(e,t),r=i(n),a=r.write(e,t);return a!==n&&(r=r.slice(0,a)),r}function p(e){for(var t=e.length<0?0:0|h(e.length),n=i(t),r=0;t>r;r+=1)n[r]=255&e[r];return n}function d(e,t,n){if(0>t||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),r.__proto__=o.prototype,r}function f(e){if(o.isBuffer(e)){var t=0|h(e.length),n=i(t);return 0===n.length?n:(e.copy(n,0,0,t),n)}if(e){if(ArrayBuffer.isView(e)||"length"in e)return"number"!=typeof e.length||X(e.length)?i(0):p(e);if("Buffer"===e.type&&Array.isArray(e.data))return p(e.data)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object.")}function h(e){if(e>=$)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+$.toString(16)+" bytes");return 0|e}function m(e){return+e!=e&&(e=0),o.alloc(+e)}function b(e,t){if(o.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Q(e))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return H(e).length;default:if(r)return q(e).length;t=(""+t).toLowerCase(),r=!0}}function y(e,t,n){var r=!1;if((void 0===t||0>t)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),0>=n)return"";if(n>>>=0,t>>>=0,t>=n)return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,n);case"utf8":case"utf-8":return I(this,t,n);case"ascii":return N(this,t,n);case"latin1":case"binary":return x(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function _(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:-2147483648>n&&(n=-2147483648),n=+n,X(n)&&(n=i?0:e.length-1),0>n&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(0>n){if(!i)return-1;n=0}if("string"==typeof t&&(t=o.from(t,r)),o.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,i);if("number"==typeof t)return t=255&t,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,i){function o(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}var a=1,s=e.length,l=t.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}var u;if(i){var c=-1;for(u=n;s>u;u++)if(o(e,u)===o(t,-1===c?0:u-c)){if(-1===c&&(c=u),u-c+1===l)return c*a}else-1!==c&&(u-=u-c),c=-1}else for(n+l>s&&(n=s-l),u=n;u>=0;u--){for(var p=!0,d=0;l>d;d++)if(o(e,u+d)!==o(t,d)){p=!1;break}if(p)return u}return-1}function T(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=t.length;r>o/2&&(r=o/2);for(var a=0;r>a;++a){var s=parseInt(t.substr(2*a,2),16);if(X(s))return a;e[n+a]=s}return a}function E(e,t,n,r){return V(q(t,e.length-n),e,n,r)}function w(e,t,n,r){return V(Y(t),e,n,r)}function S(e,t,n,r){return w(e,t,n,r)}function A(e,t,n,r){return V(H(t),e,n,r)}function D(e,t,n,r){return V(W(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?z.fromByteArray(e):z.fromByteArray(e.slice(t,n))}function I(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;n>i;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(n>=i+s){var l,u,c,p;switch(s){case 1:128>o&&(a=o);break;case 2:l=e[i+1],128===(192&l)&&(p=(31&o)<<6|63&l,p>127&&(a=p));break;case 3:l=e[i+1],u=e[i+2],128===(192&l)&&128===(192&u)&&(p=(15&o)<<12|(63&l)<<6|63&u,p>2047&&(55296>p||p>57343)&&(a=p));break;case 4:l=e[i+1],u=e[i+2],c=e[i+3],128===(192&l)&&128===(192&u)&&128===(192&c)&&(p=(15&o)<<18|(63&l)<<12|(63&u)<<6|63&c,p>65535&&1114112>p&&(a=p))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return O(r)}function O(e){var t=e.length;if(K>=t)return String.fromCharCode.apply(String,e);for(var n="",r=0;t>r;)n+=String.fromCharCode.apply(String,e.slice(r,r+=K));return n}function N(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;n>i;++i)r+=String.fromCharCode(127&e[i]);return r}function x(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;n>i;++i)r+=String.fromCharCode(e[i]);return r}function R(e,t,n){var r=e.length;(!t||0>t)&&(t=0),(!n||0>n||n>r)&&(n=r);for(var i="",o=t;n>o;++o)i+=F(e[o]);return i}function k(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function L(e,t,n){if(e%1!==0||0>e)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,n,r,i,a){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||a>t)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function U(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(0>n)throw new RangeError("Index out of range")}function j(e,t,n,r,i){return t=+t,n>>>=0,i||U(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),G.write(e,t,n,r,23,4),n+4}function P(e,t,n,r,i){return t=+t,n>>>=0,i||U(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),G.write(e,t,n,r,52,8),n+8}function B(e){if(e=e.split("=")[0],e=e.trim().replace(J,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function F(e){return 16>e?"0"+e.toString(16):e.toString(16)}function q(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],a=0;r>a;++a){if(n=e.charCodeAt(a),n>55295&&57344>n){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(56320>n){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,128>n){if((t-=1)<0)break;o.push(n)}else if(2048>n){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(65536>n){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(1114112>n))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Y(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function W(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function H(e){return z.toByteArray(B(e))}function V(e,t,n,r){for(var i=0;r>i&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function Q(e){return e instanceof ArrayBuffer||null!=e&&null!=e.constructor&&"ArrayBuffer"===e.constructor.name&&"number"==typeof e.byteLength}function X(e){return e!==e}var z=e("base64-js"),G=e("ieee754");n.Buffer=o,n.SlowBuffer=m,n.INSPECT_MAX_BYTES=50;var $=2147483647;n.kMaxLength=$,o.TYPED_ARRAY_SUPPORT=r(),o.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{get:function(){return this instanceof o?this.buffer:void 0}}),Object.defineProperty(o.prototype,"offset",{get:function(){return this instanceof o?this.byteOffset:void 0}}),"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),o.poolSize=8192,o.from=function(e,t,n){return a(e,t,n)},o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,o.alloc=function(e,t,n){return l(e,t,n)},o.allocUnsafe=function(e){return u(e)},o.allocUnsafeSlow=function(e){return u(e)},o.isBuffer=function(e){return null!=e&&e._isBuffer===!0},o.compare=function(e,t){if(!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);a>i;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return r>n?-1:n>r?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=o.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(ArrayBuffer.isView(a)&&(a=o.from(a)),!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},o.byteLength=b,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;e>t;t+=2)g(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;e>t;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;e>t;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},o.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?I(this,0,e):y.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},o.prototype.compare=function(e,t,n,r,i){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),0>t||n>e.length||0>r||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var a=i-r,s=n-t,l=Math.min(a,s),u=this.slice(r,i),c=e.slice(t,n),p=0;l>p;++p)if(u[p]!==c[p]){a=u[p],s=c[p];break}return s>a?-1:a>s?1:0},o.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},o.prototype.indexOf=function(e,t,n){return _(this,e,t,n,!0)},o.prototype.lastIndexOf=function(e,t,n){return _(this,e,t,n,!1)},o.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(0>n||0>t)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return T(this,e,t,n);case"utf8":case"utf-8":return E(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return S(this,e,t,n);case"base64":return A(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var K=4096;o.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,0>e?(e+=n,0>e&&(e=0)):e>n&&(e=n),0>t?(t+=n,0>t&&(t=0)):t>n&&(t=n),e>t&&(t=e);var r=this.subarray(e,t);return r.__proto__=o.prototype,r},o.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||L(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},o.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||L(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},o.prototype.readUInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||L(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},o.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||L(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){e>>>=0,t||L(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(e,t){e>>>=0,t||L(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return e>>>=0,t||L(e,4,this.length),G.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return e>>>=0,t||L(e,4,this.length),G.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return e>>>=0,t||L(e,8,this.length),G.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return e>>>=0,t||L(e,8,this.length),G.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){var i=Math.pow(2,8*n)-1;M(this,e,t,n,i,0)}var o=1,a=0;for(this[t]=255&e;++a<n&&(o*=256);)this[t+a]=e/o&255;return t+n},o.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){var i=Math.pow(2,8*n)-1;M(this,e,t,n,i,0)}var o=n-1,a=1;for(this[t+o]=255&e;--o>=0&&(a*=256);)this[t+o]=e/a&255;return t+n},o.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,1,255,0),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},o.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);M(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)0>e&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},o.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);M(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)0>e&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},o.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,1,127,-128),0>e&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeFloatLE=function(e,t,n){return j(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){return j(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){return P(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){return P(this,e,t,!1,n)},o.prototype.copy=function(e,t,n,r){if(!o.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&n>r&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(0>t)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("Index out of range");if(0>r)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,r);else if(this===e&&t>n&&r>t)for(var a=i-1;a>=0;--a)e[a+t]=this[a+n];else Uint8Array.prototype.set.call(e,this.subarray(n,r),t);return i},o.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&128>i||"latin1"===r)&&(e=i)}}else"number"==typeof e&&(e=255&e);if(0>t||this.length<t||this.length<n)throw new RangeError("Out of range index");if(t>=n)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var a;if("number"==typeof e)for(a=t;n>a;++a)this[a]=e;else{var s=o.isBuffer(e)?e:new o(e,r),l=s.length;if(0===l)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;n-t>a;++a)this[a+t]=s[a%l]}return this};var J=/[^+\/0-9A-Za-z-_]/g},{"base64-js":39,ieee754:83}],42:[function(e,t,n){(function(e){function t(e){return Array.isArray?Array.isArray(e):"[object Array]"===b(e)}function r(e){return"boolean"==typeof e}function i(e){return null===e}function o(e){return null==e}function a(e){return"number"==typeof e}function s(e){return"string"==typeof e}function l(e){return"symbol"==typeof e}function u(e){return void 0===e}function c(e){return"[object RegExp]"===b(e)}function p(e){return"object"==typeof e&&null!==e}function d(e){return"[object Date]"===b(e)}function f(e){return"[object Error]"===b(e)||e instanceof Error}function h(e){return"function"==typeof e}function m(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function b(e){return Object.prototype.toString.call(e)}n.isArray=t,n.isBoolean=r,n.isNull=i,n.isNullOrUndefined=o,n.isNumber=a,n.isString=s,n.isSymbol=l,n.isUndefined=u,n.isRegExp=c,n.isObject=p,n.isDate=d,n.isError=f,n.isFunction=h,n.isPrimitive=m,n.isBuffer=e.isBuffer}).call(this,{isBuffer:e("../../is-buffer/index.js")})},{"../../is-buffer/index.js":85}],43:[function(e,t,n){(function(n,r){var i,o,a,s,l;s=e("stream"),l=e("util"),o=e("string_decoder").StringDecoder,t.exports=function(){var e,t,o,s,l,u,c;if(3===arguments.length){if(s=arguments[0],u=arguments[1],e=arguments[2],"function"!=typeof e)throw Error("Invalid callback argument: "+JSON.stringify(e));if("string"!=typeof s&&!r.isBuffer(arguments[0]))return e(Error("Invalid data argument: "+JSON.stringify(s)))}else if(2===arguments.length){if("string"==typeof arguments[0]||r.isBuffer(arguments[0])?s=arguments[0]:a(arguments[0])?u=arguments[0]:l="Invalid first argument: "+JSON.stringify(arguments[0]),"function"==typeof arguments[1]?e=arguments[1]:a(arguments[1])?u?l="Invalid arguments: got options twice as first and second arguments":u=arguments[1]:l="Invalid first argument: "+JSON.stringify(arguments[1]),l){if(e)return e(Error(l));throw Error(l)}}else 1===arguments.length&&("function"==typeof arguments[0]?e=arguments[0]:u=arguments[0]);return null==u&&(u={}),c=new i(u),null!=s&&n.nextTick(function(){return c.write(s),c.end()}),e&&(t=!1,o=u.objname?{}:[],c.on("readable",function(){var e,t;for(t=[];e=c.read();)u.objname?t.push(o[e[0]]=e[1]):t.push(o.push(e));return t}),c.on("error",function(n){return t=!0,e(n)}),c.on("end",function(){return t?void 0:e(null,o)})),c},i=function(e){var t,n,r,i,a,l,u,c,p,d,f,h,m,b,y,g,_,v,T;null==e&&(e={}),this.options={};for(v in e)T=e[v],this.options[v]=T;return this.options.objectMode=!0,s.Transform.call(this,this.options),null==(t=this.options).rowDelimiter&&(t.rowDelimiter=null),"string"==typeof this.options.rowDelimiter&&(this.options.rowDelimiter=[this.options.rowDelimiter]),null==(n=this.options).delimiter&&(n.delimiter=","),void 0===this.options.quote||this.options.quote||(this.options.quote=""),null==(d=this.options).quote&&(d.quote='"'),null==(f=this.options).escape&&(f.escape='"'),null==(h=this.options).columns&&(h.columns=null),null==(m=this.options).comment&&(m.comment=""),null==(b=this.options).objname&&(b.objname=!1),null==(y=this.options).trim&&(y.trim=!1),null==(g=this.options).ltrim&&(g.ltrim=!1),null==(_=this.options).rtrim&&(_.rtrim=!1),null==(r=this.options).auto_parse&&(r.auto_parse=!1),null==(i=this.options).auto_parse_date&&(i.auto_parse_date=!1),this.options.auto_parse_date===!0&&(this.options.auto_parse_date=function(e){var t;return t=Date.parse(e),isNaN(t)||(e=new Date(t)),e}),null==(a=this.options).relax&&(a.relax=!1),null==(l=this.options).relax_column_count&&(l.relax_column_count=!1),null==(u=this.options).skip_empty_lines&&(u.skip_empty_lines=!1),null==(c=this.options).max_limit_on_data_read&&(c.max_limit_on_data_read=128e3),null==(p=this.options).skip_lines_with_empty_values&&(p.skip_lines_with_empty_values=!1),this.lines=0,this.count=0,this.skipped_line_count=0,this.empty_line_count=0,this.is_int=/^(\-|\+)?([1-9]+[0-9]*)$/,this.is_float=function(e){return e-parseFloat(e)+1>=0},this._={decoder:new o,quoting:!1,commenting:!1,field:null,nextChar:null,closingQuote:0,line:[],chunks:[],rawBuf:"",buf:"",rowDelimiterLength:this.options.rowDelimiter?Math.max.apply(Math,this.options.rowDelimiter.map(function(e){return e.length})):void 0},this},l.inherits(i,s.Transform),t.exports.Parser=i,i.prototype._transform=function(e,t,n){var i;return e instanceof r&&(e=this._.decoder.write(e)),i=this.__write(e,!1),i?this.emit("error",i):n()},i.prototype._flush=function(e){var t;return t=this.__write(this._.decoder.end(),!0),t?this.emit("error",t):this._.quoting?void this.emit("error",new Error("Quoted field not terminated at line "+(this.lines+1))):this._.line.length>0&&(t=this.__push(this._.line))?e(t):e()},i.prototype.__push=function(e){var t,n,r,i,o,a,s,l,u,c,p;if(!this.options.skip_lines_with_empty_values||""!==e.join("").trim()){if(p=null,this.options.columns===!0)return this.options.columns=e,void(u="");if("function"==typeof this.options.columns)return t=function(e,t){var n,r;try{return n=e.call(null,t),[null,n]}catch(i){return r=i,[r]}},c=t(this.options.columns,e),r=c[0],n=c[1],r?r:(this.options.columns=n,
void(u=""));if(!this._.line_length&&e.length>0&&(this._.line_length=this.options.columns?this.options.columns.length:e.length),1===e.length&&""===e[0])this.empty_line_count++;else if(e.length!==this._.line_length){if(!this.options.relax_column_count)return null!=this.options.columns?Error("Number of columns on line "+this.lines+" does not match header"):Error("Number of columns is inconsistent on line "+this.lines);this.count++,this.skipped_line_count++}else this.count++;if(null!=this.options.columns){for(l={},o=a=0,s=e.length;s>a;o=++a)i=e[o],this.options.columns[o]!==!1&&(l[this.options.columns[o]]=i);p=this.options.objname?[l[this.options.objname],l]:l}else p=e;if(!(this.count<this.options.from||this.count>this.options.to))return this.options.raw?(this.push({raw:this._.rawBuf,row:p}),this._.rawBuf=""):this.push(p),null}},i.prototype.__write=function(e,t){var n,r,i,o,a,s,l,u,c,p,d,f,h,m,b,y,g,_,v,T,E,w,S,A,D,C,I,O;for(b=function(e){return function(t){return"function"==typeof e.is_int?e.is_int(t):e.is_int.test(t)}}(this),m=function(e){return function(t){return"function"==typeof e.is_float?e.is_float(t):e.is_float.test(t)}}(this),i=function(e){return function(t){return e.options.auto_parse?"function"==typeof e.options.auto_parse?e.options.auto_parse(t):(b(t)?t=parseInt(t):m(t)?t=parseFloat(t):e.options.auto_parse_date&&(t=e.options.auto_parse_date(t)),t):t}}(this),g=this.options.trim||this.options.ltrim,I=this.options.trim||this.options.rtrim,e=this._.buf+e,y=e.length,l=0,0===this.lines&&65279===e.charCodeAt(0)&&l++;y>l&&(t||(D=e.substr(l,y-l),!(!this.options.rowDelimiter&&l+3>y||!this._.commenting&&y-l<this.options.comment.length&&this.options.comment.substr(0,y-l)===D||this.options.rowDelimiter&&y-l<this._.rowDelimiterLength&&this.options.rowDelimiter.some(function(e){return e.substr(0,y-l)===D})||this.options.rowDelimiter&&this._.quoting&&y-l<this.options.quote.length+this._.rowDelimiterLength&&this.options.rowDelimiter.some(function(e){return function(t){return(e.options.quote+t).substr(0,y-l)===D}}(this))||y-l<=this.options.delimiter.length&&this.options.delimiter.substr(0,y-l)===D||y-l<=this.options.escape.length&&this.options.escape.substr(0,y-l)===D)));)if(o=this._.nextChar?this._.nextChar:e.charAt(l),this._.nextChar=y>l+1?e.charAt(l+1):"",this.options.raw&&(this._.rawBuf+=o),null==this.options.rowDelimiter&&(_=l,C=null,this._.quoting||"\n"!==o&&"\r"!==o?!this._.quoting||o!==this.options.quote||"\n"!==(v=this._.nextChar)&&"\r"!==v||(C=this._.nextChar,_+=2,this.raw&&(rawBuf+=this._.nextChar)):(C=o,_+=1),C&&("\r"===C&&"\n"===e.charAt(_)&&(C+="\n"),this.options.rowDelimiter=[C],this._.rowDelimiterLength=C.length)),this._.commenting||o!==this.options.escape||(s=this.options.escape===this.options.quote,c=this._.nextChar===this.options.escape,d=this._.nextChar===this.options.quote,s&&null==this._.field&&!this._.quoting||!c&&!d)){if(!this._.commenting&&o===this.options.quote)if(this._.quoting){if(r=this.options.rowDelimiter&&this.options.rowDelimiter.some(function(t){return e.substr(l+1,t.length)===t}),n=e.substr(l+1,this.options.delimiter.length)===this.options.delimiter,p=this._.nextChar===this.options.comment,!this._.nextChar||r||n||p){this._.quoting=!1,this._.closingQuote=this.options.quote.length,l++,t&&l===y&&(this._.line.push(i(this._.field||"")),this._.field=null);continue}if(!this.options.relax)return Error("Invalid closing quote at line "+(this.lines+1)+"; found "+JSON.stringify(this._.nextChar)+" instead of delimiter "+JSON.stringify(this.options.delimiter));this._.quoting=!1,this._.field&&(this._.field=""+this.options.quote+this._.field)}else{if(!this._.field){this._.quoting=!0,l++;continue}if(null!=this._.field&&!this.options.relax)return Error("Invalid opening quote at line "+(this.lines+1))}if(f=this.options.rowDelimiter&&this.options.rowDelimiter.some(function(t){return e.substr(l,t.length)===t}),(f||t&&l===y-1)&&this.lines++,O=!1,this._.commenting||this._.quoting||!this.options.comment||e.substr(l,this.options.comment.length)!==this.options.comment?this._.commenting&&f&&(O=!0,this._.commenting=!1):this._.commenting=!0,u=e.substr(l,this.options.delimiter.length)===this.options.delimiter,this._.commenting||this._.quoting||!u&&!f)this._.commenting||this._.quoting||" "!==o&&"	"!==o?this._.commenting?l++:(null==this._.field&&(this._.field=""),this._.field+=o,l++):(null==this._.field&&(this._.field=""),g&&!this._.field||(this._.field+=o),l++);else{if(f&&(h=this.options.rowDelimiter.filter(function(t){return e.substr(l,t.length)===t})[0].length),f&&0===this._.line.length&&null==this._.field&&(O||this.options.skip_empty_lines)){l+=h,this._.nextChar=e.charAt(l);continue}if(I&&(this._.closingQuote||(this._.field=null!=(T=this._.field)?T.trimRight():void 0)),this._.line.push(i(this._.field||"")),this._.closingQuote=0,this._.field=null,u&&(l+=this.options.delimiter.length,this._.nextChar=e.charAt(l),t&&!this._.nextChar&&(f=!0,this._.line.push(""))),f){if(a=this.__push(this._.line))return a;this._.line=[],l+=h,this._.nextChar=e.charAt(l);continue}}if(!this._.commenting&&(null!=(E=this._.field)?E.length:void 0)>this.options.max_limit_on_data_read)return Error("Field exceeds max_limit_on_data_read setting ("+this.options.max_limit_on_data_read+") "+JSON.stringify(this.options.delimiter));if(!this._.commenting&&(null!=(w=this._.line)?w.length:void 0)>this.options.max_limit_on_data_read)return Error("Row delimiter not found in the file "+JSON.stringify(this.options.rowDelimiter))}else l++,o=this._.nextChar,this._.nextChar=e.charAt(l+1),null==this._.field&&(this._.field=""),this._.field+=o,this.options.raw&&(this._.rawBuf+=o),l++;if(t){if(null!=this._.field&&(I&&(this._.closingQuote||(this._.field=null!=(S=this._.field)?S.trimRight():void 0)),this._.line.push(i(this._.field||"")),this._.field=null),(null!=(A=this._.field)?A.length:void 0)>this.options.max_limit_on_data_read)return Error("Delimiter not found in the file "+JSON.stringify(this.options.delimiter));if(0===y&&this.lines++,this._.line.length>this.options.max_limit_on_data_read)return Error("Row delimiter not found in the file "+JSON.stringify(this.options.rowDelimiter))}return this._.buf=e.substr(l),null},a=function(e){var t;return t=e,"object"==typeof e&&null!==e&&!Array.isArray(e)&&function(){for(;null!==Object.getPrototypeOf(t=Object.getPrototypeOf(t)););return Object.getPrototypeOf(e===t)}()}}).call(this,e("_process"),e("buffer").Buffer)},{_process:91,buffer:41,stream:112,string_decoder:113,util:117}],44:[function(e,t,n){(function(n){var r,i;r=e("string_decoder").StringDecoder,i=e("./index"),t.exports=function(e,t){var o,a,s,l;if(null==t&&(t={}),l=t.objname?{}:[],e instanceof n&&(o=new r,e=o.write(e)),s=new i.Parser(t),s.push=function(e){return t.objname?l[e[0]]=e[1]:l.push(e)},a=s.__write(e,!1))throw a;if(e instanceof n&&(a=s.__write(e.end(),!0)))throw a;return s._flush(function(){}),l}}).call(this,e("buffer").Buffer)},{"./index":43,buffer:41,string_decoder:113}],45:[function(e,t,n){(function(n){var r,i,o,a;o=e("stream"),a=e("util"),i=e("lodash.get"),t.exports=function(){var e,t,i,o,a;return 3===arguments.length?(i=arguments[0],o=arguments[1],e=arguments[2]):2===arguments.length?(Array.isArray(arguments[0])?i=arguments[0]:o=arguments[0],"function"==typeof arguments[1]?e=arguments[1]:o=arguments[1]):1===arguments.length&&("function"==typeof arguments[0]?e=arguments[0]:Array.isArray(arguments[0])?i=arguments[0]:o=arguments[0]),null==o&&(o={}),a=new r(o),i&&n.nextTick(function(){var e,t,n;for(t=0,n=i.length;n>t;t++)e=i[t],a.write(e);return a.end()}),e&&(t=[],a.on("readable",function(){var e,n;for(n=[];e=a.read();)n.push(t.push(e));return n}),a.on("error",function(t){return e(t)}),a.on("end",function(){return e(null,t.join(""))})),a},r=function(e){var t,n,r,i,a,s,l,u,c,p,d,f,h,m,b,y,g;null==e&&(e={}),y={};for(b in e)g=e[b],y[b]=g;switch(o.Transform.call(this,y),this.options=y,null==(t=this.options).delimiter&&(t.delimiter=","),null==(n=this.options).quote&&(n.quote='"'),null==(l=this.options).quoted&&(l.quoted=!1),null==(u=this.options).quotedEmpty&&(u.quotedEmpty=void 0),null==(c=this.options).quotedString&&(c.quotedString=!1),null==(p=this.options).eof&&(p.eof=!0),null==(d=this.options).escape&&(d.escape='"'),null==(f=this.options).columns&&(f.columns=null),null==(h=this.options).header&&(h.header=!1),null==(m=this.options).formatters&&(m.formatters={}),null==(r=this.options.formatters).date&&(r.date=function(e){return""+e.getTime()}),null==(i=this.options.formatters).bool&&(i.bool=function(e){return e?"1":""}),null==(a=this.options.formatters).object&&(a.object=function(e){return JSON.stringify(e)}),null==(s=this.options).rowDelimiter&&(s.rowDelimiter="\n"),null==this.countWriten&&(this.countWriten=0),this.options.rowDelimiter){case"auto":this.options.rowDelimiter=null;break;case"unix":this.options.rowDelimiter="\n";break;case"mac":this.options.rowDelimiter="\r";break;case"windows":this.options.rowDelimiter="\r\n";break;case"unicode":this.options.rowDelimiter="\u2028"}return this},a.inherits(r,o.Transform),t.exports.Stringifier=r,r.prototype.headers=function(){var e,t,n;return this.options.header&&this.options.columns?(n=this.options.columns,"object"==typeof n&&(n=function(){var r;r=[];for(e in n)t=n[e],r.push(t);return r}()),n=this.options.eof?this.stringify(n)+this.options.rowDelimiter:this.stringify(n),o.Transform.prototype.write.call(this,n)):void 0},r.prototype.end=function(e,t,n){return 0===this.countWriten&&this.headers(),o.Transform.prototype.end.apply(this,arguments)},r.prototype.write=function(e,t,n){var r,i,a;if(null!=e){if(a="object"!=typeof e,!a){0!==this.countWriten||Array.isArray(e)||null==(r=this.options).columns&&(r.columns=Object.keys(e));try{this.emit("record",e,this.countWriten)}catch(s){return i=s,this.emit("error",i)}this.options.eof?e=this.stringify(e)+this.options.rowDelimiter:(e=this.stringify(e),(this.options.header||this.countWriten)&&(e=this.options.rowDelimiter+e))}return"number"==typeof e&&(e=""+e),0===this.countWriten&&this.headers(),a||this.countWriten++,o.Transform.prototype.write.call(this,e,t,n)}},r.prototype._transform=function(e,t,n){return this.push(e),n()},r.prototype.stringify=function(e){var t,n,r,o,a,s,l,u,c,p,d,f,h,m,b,y,g,_,v,T;if("object"!=typeof e)return e;if(r=this.options.columns,"object"!=typeof r||null===r||Array.isArray(r)||(r=Object.keys(r)),u=this.options.delimiter,b=this.options.quote,c=this.options.escape,Array.isArray(e))r&&e.splice(r.length);else{if(t=[],r)for(d=f=0,y=r.length;y>=0?y>f:f>y;d=y>=0?++f:--f)n=r[d],T=i(e,n),t[d]="undefined"==typeof T||null===T?"":T;else for(n in e)t.push(e[n]);e=t,t=null}if(Array.isArray(e)){for(m="",d=h=0,g=e.length;g>=0?g>h:h>g;d=g>=0?++h:--h)p=e[d],"string"==typeof p||("number"==typeof p?p=""+p:"boolean"==typeof p?p=this.options.formatters.bool(p):p instanceof Date?p=this.options.formatters.date(p):"object"==typeof p&&null!==p&&(p=this.options.formatters.object(p))),p?(l=p.indexOf(u)>=0,s=p.indexOf(b)>=0,o=p.indexOf(c)>=0&&c!==b,a=p.indexOf("\r")>=0||p.indexOf("\n")>=0,v=s||l||a||this.options.quoted||this.options.quotedString&&"string"==typeof e[d],v&&o&&(_="\\"===c?new RegExp(c+c,"g"):new RegExp(c,"g"),p=p.replace(_,c+c)),s&&(_=new RegExp(b,"g"),p=p.replace(_,c+b)),v&&(p=b+p+b),m+=p):(this.options.quotedEmpty||null==this.options.quotedEmpty&&""===e[d]&&this.options.quotedString)&&(m+=b+b),d!==e.length-1&&(m+=u);e=m}return e}}).call(this,e("_process"))},{_process:91,"lodash.get":87,stream:112,util:117}],46:[function(e,t,n){(function(n){var r,i;r=e("string_decoder").StringDecoder,i=e("./index"),t.exports=function(e,t){var o,a,s,l,u,c;for(null==t&&(t={}),o=[],e instanceof n&&(a=new r,e=a.write(e)),c=new i.Stringifier(t),c.push=function(e){return e?o.push(e.toString()):void 0},s=0,l=e.length;l>s;s++)u=e[s],c.write(u);return c.end(),o.join("")}}).call(this,e("buffer").Buffer)},{"./index":45,buffer:41,string_decoder:113}],47:[function(e,t,n){function r(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=T(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}function i(e){return void 0===e._maxListeners?r.defaultMaxListeners:e._maxListeners}function o(e,t,n){if(t)e.call(n);else for(var r=e.length,i=b(e,r),o=0;r>o;++o)i[o].call(n)}function a(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,o=b(e,i),a=0;i>a;++a)o[a].call(n,r)}function s(e,t,n,r,i){if(t)e.call(n,r,i);else for(var o=e.length,a=b(e,o),s=0;o>s;++s)a[s].call(n,r,i)}function l(e,t,n,r,i,o){if(t)e.call(n,r,i,o);else for(var a=e.length,s=b(e,a),l=0;a>l;++l)s[l].call(n,r,i,o)}function u(e,t,n,r){if(t)e.apply(n,r);else for(var i=e.length,o=b(e,i),a=0;i>a;++a)o[a].apply(n,r)}function c(e,t,n,r){var o,a,s;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if(a=e._events,a?(a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),s=a[t]):(a=e._events=T(null),e._eventsCount=0),s){if("function"==typeof s?s=a[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),!s.warned&&(o=i(e),o&&o>0&&s.length>o)){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+' "'+String(t)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",l.name,l.message)}}else s=a[t]=n,++e._eventsCount;return e}function p(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=w.call(p,r);return i.listener=n,r.wrapFn=i,i}function f(e,t,n){var r=e._events;if(!r)return[];var i=r[t];return i?"function"==typeof i?n?[i.listener||i]:[i]:n?y(i):b(i,i.length):[]}function h(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function m(e,t){for(var n=t,r=n+1,i=e.length;i>r;n+=1,r+=1)e[n]=e[r];e.pop()}function b(e,t){for(var n=new Array(t),r=0;t>r;++r)n[r]=e[r];return n}function y(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function g(e){var t=function(){};return t.prototype=e,new t}function _(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return n}function v(e){var t=this;return function(){return t.apply(e,arguments)}}var T=Object.create||g,E=Object.keys||_,w=Function.prototype.bind||v;t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0;var S,A=10;try{var D={};Object.defineProperty&&Object.defineProperty(D,"x",{value:0}),S=0===D.x}catch(C){S=!1}S?Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return A},set:function(e){if("number"!=typeof e||0>e||e!==e)throw new TypeError('"defaultMaxListeners" must be a positive number');A=e}}):r.defaultMaxListeners=A,r.prototype.setMaxListeners=function(e){if("number"!=typeof e||0>e||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},r.prototype.getMaxListeners=function(){return i(this)},r.prototype.emit=function(e){var t,n,r,i,c,p,d="error"===e;if(p=this._events)d=d&&null==p.error;else if(!d)return!1;if(d){if(arguments.length>1&&(t=arguments[1]),t instanceof Error)throw t;var f=new Error('Unhandled "error" event. ('+t+")");throw f.context=t,f}if(n=p[e],!n)return!1;var h="function"==typeof n;switch(r=arguments.length){case 1:o(n,h,this);break;case 2:a(n,h,this,arguments[1]);break;case 3:s(n,h,this,arguments[1],arguments[2]);break;case 4:l(n,h,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),c=1;r>c;c++)i[c-1]=arguments[c];u(n,h,this,i)}return!0},r.prototype.addListener=function(e,t){return c(this,e,t,!1)},r.prototype.on=r.prototype.addListener,r.prototype.prependListener=function(e,t){return c(this,e,t,!0)},r.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,d(this,e,t)),this},r.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,d(this,e,t)),this},r.prototype.removeListener=function(e,t){var n,r,i,o,a;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(r=this._events,!r)return this;if(n=r[e],!n)return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=T(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(0>i)return this;0===i?n.shift():m(n,i),1===n.length&&(r[e]=n[0]),r.removeListener&&this.emit("removeListener",e,a||t)}return this},r.prototype.removeAllListeners=function(e){var t,n,r;if(n=this._events,!n)return this;if(!n.removeListener)return 0===arguments.length?(this._events=T(null),this._eventsCount=0):n[e]&&(0===--this._eventsCount?this._events=T(null):delete n[e]),this;if(0===arguments.length){var i,o=E(n);for(r=0;r<o.length;++r)i=o[r],"removeListener"!==i&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=T(null),this._eventsCount=0,this}if(t=n[e],"function"==typeof t)this.removeListener(e,t);else if(t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},r.prototype.listeners=function(e){return f(this,e,!0)},r.prototype.rawListeners=function(e){return f(this,e,!1)},r.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},r.prototype.listenerCount=h,r.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],48:[function(e,t,n){"use strict";var r=e("./util/constants"),i=e("./mixins/logging"),o={VERSION:r.VERSION,Client:e("./protocol/client"),Scheduler:e("./protocol/scheduler")};i.wrapper=o,t.exports=o},{"./mixins/logging":50,"./protocol/client":54,"./protocol/scheduler":60,"./util/constants":72}],49:[function(e,t,n){(function(n){"use strict";var r=e("../util/promise");t.exports={then:function(e,t){var n=this;return this._promise||(this._promise=new r(function(e,t){n._resolve=e,n._reject=t})),0===arguments.length?this._promise:this._promise.then(e,t)},callback:function(e,t){return this.then(function(n){e.call(t,n)})},errback:function(e,t){return this.then(null,function(n){e.call(t,n)})},timeout:function(e,t){this.then();var r=this;this._timer=n.setTimeout(function(){r._reject(t)},1e3*e)},setDeferredStatus:function(e,t){this._timer&&n.clearTimeout(this._timer),this.then(),"succeeded"===e?this._resolve(t):"failed"===e?this._reject(t):delete this._promise}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../util/promise":77}],50:[function(e,t,n){"use strict";var r=e("../util/to_json"),i={LOG_LEVELS:{fatal:4,error:3,warn:2,info:1,debug:0},writeLog:function(e,t){var n=i.logger||(i.wrapper||i).logger;if(n){var o=Array.prototype.slice.apply(e),a="[Faye",s=this.className,l=o.shift().replace(/\?/g,function(){try{return r(o.shift())}catch(e){return"[Object]"}});s&&(a+="."+s),a+="] ","function"==typeof n[t]?n[t](a+l):"function"==typeof n&&n(a+l)}}};for(var o in i.LOG_LEVELS)(function(e){i[e]=function(){this.writeLog(arguments,e)}})(o);t.exports=i},{"../util/to_json":79}],51:[function(e,t,n){"use strict";var r=e("../util/extend"),i=e("../util/event_emitter"),o={countListeners:function(e){return this.listeners(e).length},bind:function(e,t,n){var r=Array.prototype.slice,i=function(){t.apply(n,r.call(arguments))};return this._listeners=this._listeners||[],this._listeners.push([e,t,n,i]),this.on(e,i)},unbind:function(e,t,n){this._listeners=this._listeners||[];for(var r,i=this._listeners.length;i--;)r=this._listeners[i],r[0]===e&&(!t||r[1]===t&&r[2]===n)&&(this._listeners.splice(i,1),this.removeListener(e,r[3]))}};r(o,i.prototype),o.trigger=o.emit,t.exports=o},{"../util/event_emitter":75,"../util/extend":76}],52:[function(e,t,n){(function(e){"use strict";t.exports={addTimeout:function(t,n,r,i){if(this._timeouts=this._timeouts||{},!this._timeouts.hasOwnProperty(t)){var o=this;this._timeouts[t]=e.setTimeout(function(){delete o._timeouts[t],r.call(i)},1e3*n)}},removeTimeout:function(t){this._timeouts=this._timeouts||{};var n=this._timeouts[t];n&&(e.clearTimeout(n),delete this._timeouts[t])},removeAllTimeouts:function(){this._timeouts=this._timeouts||{};for(var e in this._timeouts)this.removeTimeout(e)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],53:[function(e,t,n){"use strict";var r=e("../util/class"),i=e("../util/extend"),o=e("../mixins/publisher"),a=e("./grammar"),s=r({initialize:function(e){this.id=this.name=e},push:function(e){this.trigger("message",e)},isUnused:function(){return 0===this.countListeners("message")}});i(s.prototype,o),i(s,{HANDSHAKE:"/meta/handshake",CONNECT:"/meta/connect",SUBSCRIBE:"/meta/subscribe",UNSUBSCRIBE:"/meta/unsubscribe",DISCONNECT:"/meta/disconnect",META:"meta",SERVICE:"service",expand:function(e){var t=this.parse(e),n=["/**",e],r=t.slice();r[r.length-1]="*",n.push(this.unparse(r));for(var i=1,o=t.length;o>i;i++)r=t.slice(0,i),r.push("**"),n.push(this.unparse(r));return n},isValid:function(e){return a.CHANNEL_NAME.test(e)||a.CHANNEL_PATTERN.test(e)},parse:function(e){return this.isValid(e)?e.split("/").slice(1):null},unparse:function(e){return"/"+e.join("/")},isMeta:function(e){var t=this.parse(e);return t?t[0]===this.META:null},isService:function(e){var t=this.parse(e);return t?t[0]===this.SERVICE:null},isSubscribable:function(e){return this.isValid(e)?!this.isMeta(e)&&!this.isService(e):null},Set:r({initialize:function(){this._channels={}},getKeys:function(){var e=[];for(var t in this._channels)e.push(t);return e},remove:function(e){delete this._channels[e]},hasSubscription:function(e){return this._channels.hasOwnProperty(e)},subscribe:function(e,t){for(var n,r=0,i=e.length;i>r;r++){n=e[r];var o=this._channels[n]=this._channels[n]||new s(n);o.bind("message",t)}},unsubscribe:function(e,t){var n=this._channels[e];return!!n&&(n.unbind("message",t),!!n.isUnused()&&(this.remove(e),!0))},distributeMessage:function(e){for(var t=s.expand(e.channel),n=0,r=t.length;r>n;n++){var i=this._channels[t[n]];i&&i.trigger("message",e)}}})}),t.exports=s},{"../mixins/publisher":51,"../util/class":71,"../util/extend":76,"./grammar":58}],54:[function(e,t,n){(function(n){"use strict";var r=e("asap"),i=e("../util/class"),o=(e("../util/promise"),e("../util/uri")),a=e("../util/array"),s=e("../util/browser"),l=e("../util/constants"),u=e("../util/extend"),c=e("../util/validate_options"),p=e("../mixins/deferrable"),d=e("../mixins/logging"),f=e("../mixins/publisher"),h=e("./channel"),m=e("./dispatcher"),b=e("./error"),y=e("./extensible"),g=e("./publication"),_=e("./subscription"),v=i({className:"Client",UNCONNECTED:1,CONNECTING:2,CONNECTED:3,DISCONNECTED:4,HANDSHAKE:"handshake",RETRY:"retry",NONE:"none",CONNECTION_TIMEOUT:60,DEFAULT_ENDPOINT:"/bayeux",INTERVAL:0,initialize:function(e,t){this.info("New client created for ?",e),t=t||{},c(t,["interval","timeout","endpoints","proxy","retry","scheduler","websocketExtensions","tls","ca"]),this._channels=new h.Set,this._dispatcher=m.create(this,e||this.DEFAULT_ENDPOINT,t),this._messageId=0,this._state=this.UNCONNECTED,this._responseCallbacks={},this._advice={reconnect:this.RETRY,interval:1e3*(t.interval||this.INTERVAL),timeout:1e3*(t.timeout||this.CONNECTION_TIMEOUT)},this._dispatcher.timeout=this._advice.timeout/1e3,this._dispatcher.bind("message",this._receiveMessage,this),s.Event&&void 0!==n.onbeforeunload&&s.Event.on(n,"beforeunload",function(){a.indexOf(this._dispatcher._disabled,"autodisconnect")<0&&this.disconnect()},this)},addWebsocketExtension:function(e){return this._dispatcher.addWebsocketExtension(e)},disable:function(e){return this._dispatcher.disable(e)},setHeader:function(e,t){return this._dispatcher.setHeader(e,t)},handshake:function(e,t){if(this._advice.reconnect!==this.NONE&&this._state===this.UNCONNECTED){this._state=this.CONNECTING;var i=this;this.info("Initiating handshake with ?",o.stringify(this._dispatcher.endpoint)),this._dispatcher.selectTransport(l.MANDATORY_CONNECTION_TYPES),this._sendMessage({channel:h.HANDSHAKE,version:l.BAYEUX_VERSION,supportedConnectionTypes:this._dispatcher.getConnectionTypes()},{},function(o){o.successful?(this._state=this.CONNECTED,this._dispatcher.clientId=o.clientId,this._dispatcher.selectTransport(o.supportedConnectionTypes),this.info("Handshake successful: ?",this._dispatcher.clientId),this.subscribe(this._channels.getKeys(),!0),e&&r(function(){e.call(t)})):(this.info("Handshake unsuccessful"),n.setTimeout(function(){i.handshake(e,t)},1e3*this._dispatcher.retry),this._state=this.UNCONNECTED)},this)}},connect:function(e,t){if(this._advice.reconnect!==this.NONE&&this._state!==this.DISCONNECTED){if(this._state===this.UNCONNECTED)return this.handshake(function(){this.connect(e,t)},this);this.callback(e,t),this._state===this.CONNECTED&&(this.info("Calling deferred actions for ?",this._dispatcher.clientId),this.setDeferredStatus("succeeded"),this.setDeferredStatus("unknown"),this._connectRequest||(this._connectRequest=!0,this.info("Initiating connection for ?",this._dispatcher.clientId),this._sendMessage({channel:h.CONNECT,clientId:this._dispatcher.clientId,connectionType:this._dispatcher.connectionType},{},this._cycleConnection,this)))}},disconnect:function(){if(this._state===this.CONNECTED){this._state=this.DISCONNECTED,this.info("Disconnecting ?",this._dispatcher.clientId);var e=new g;return this._sendMessage({channel:h.DISCONNECT,clientId:this._dispatcher.clientId},{},function(t){t.successful?(this._dispatcher.close(),e.setDeferredStatus("succeeded")):e.setDeferredStatus("failed",b.parse(t.error))},this),this.info("Clearing channel listeners for ?",this._dispatcher.clientId),this._channels=new h.Set,e}},subscribe:function(e,t,n){if(e instanceof Array)return a.map(e,function(e){return this.subscribe(e,t,n)},this);var r=new _(this,e,t,n),i=t===!0,o=this._channels.hasSubscription(e);return o&&!i?(this._channels.subscribe([e],r),r.setDeferredStatus("succeeded"),r):(this.connect(function(){this.info("Client ? attempting to subscribe to ?",this._dispatcher.clientId,e),i||this._channels.subscribe([e],r),this._sendMessage({channel:h.SUBSCRIBE,clientId:this._dispatcher.clientId,subscription:e},{},function(t){if(!t.successful)return r.setDeferredStatus("failed",b.parse(t.error)),this._channels.unsubscribe(e,r);var n=[].concat(t.subscription);this.info("Subscription acknowledged for ? to ?",this._dispatcher.clientId,n),r.setDeferredStatus("succeeded")},this)},this),r)},unsubscribe:function(e,t){if(e instanceof Array)return a.map(e,function(e){return this.unsubscribe(e,t)},this);var n=this._channels.unsubscribe(e,t);n&&this.connect(function(){this.info("Client ? attempting to unsubscribe from ?",this._dispatcher.clientId,e),this._sendMessage({channel:h.UNSUBSCRIBE,clientId:this._dispatcher.clientId,subscription:e},{},function(e){if(e.successful){var t=[].concat(e.subscription);this.info("Unsubscription acknowledged for ? from ?",this._dispatcher.clientId,t)}},this)},this)},publish:function(e,t,n){c(n||{},["attempts","deadline"]);var r=new g;return this.connect(function(){this.info("Client ? queueing published message to ?: ?",this._dispatcher.clientId,e,t),this._sendMessage({channel:e,data:t,clientId:this._dispatcher.clientId},n,function(e){e.successful?r.setDeferredStatus("succeeded"):r.setDeferredStatus("failed",b.parse(e.error))},this)},this),r},_sendMessage:function(e,t,n,r){e.id=this._generateMessageId();var i=this._advice.timeout?1.2*this._advice.timeout/1e3:1.2*this._dispatcher.retry;this.pipeThroughExtensions("outgoing",e,null,function(e){e&&(n&&(this._responseCallbacks[e.id]=[n,r]),this._dispatcher.sendMessage(e,i,t||{}))},this)},_generateMessageId:function(){return this._messageId+=1,this._messageId>=Math.pow(2,32)&&(this._messageId=0),this._messageId.toString(36)},_receiveMessage:function(e){var t,n=e.id;void 0!==e.successful&&(t=this._responseCallbacks[n],delete this._responseCallbacks[n]),this.pipeThroughExtensions("incoming",e,null,function(e){e&&(e.advice&&this._handleAdvice(e.advice),this._deliverMessage(e),t&&t[0].call(t[1],e))},this)},_handleAdvice:function(e){u(this._advice,e),this._dispatcher.timeout=this._advice.timeout/1e3,this._advice.reconnect===this.HANDSHAKE&&this._state!==this.DISCONNECTED&&(this._state=this.UNCONNECTED,this._dispatcher.clientId=null,this._cycleConnection())},_deliverMessage:function(e){e.channel&&void 0!==e.data&&(this.info("Client ? calling listeners for ? with ?",this._dispatcher.clientId,e.channel,e.data),this._channels.distributeMessage(e))},_cycleConnection:function(){this._connectRequest&&(this._connectRequest=null,this.info("Closed connection for ?",this._dispatcher.clientId));var e=this;n.setTimeout(function(){e.connect()},this._advice.interval)}});u(v.prototype,p),u(v.prototype,f),u(v.prototype,d),u(v.prototype,y),t.exports=v}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../mixins/deferrable":49,"../mixins/logging":50,"../mixins/publisher":51,"../util/array":69,"../util/browser":70,"../util/class":71,"../util/constants":72,"../util/extend":76,"../util/promise":77,"../util/uri":80,"../util/validate_options":81,"./channel":53,"./dispatcher":55,"./error":56,"./extensible":57,"./publication":59,"./subscription":61,asap:37}],55:[function(e,t,n){(function(n){"use strict";var r=e("../util/class"),i=e("../util/uri"),o=e("../util/cookies"),a=e("../util/extend"),s=e("../mixins/logging"),l=e("../mixins/publisher"),u=e("../transport"),c=e("./scheduler"),p=r({className:"Dispatcher",MAX_REQUEST_SIZE:2048,DEFAULT_RETRY:5,UP:1,DOWN:2,initialize:function(e,t,n){this._client=e,this.endpoint=i.parse(t),this._alternates=n.endpoints||{},this.cookies=o.CookieJar&&new o.CookieJar,this._disabled=[],this._envelopes={},this.headers={},this.retry=n.retry||this.DEFAULT_RETRY,this._scheduler=n.scheduler||c,this._state=0,this.transports={},this.wsExtensions=[],this.proxy=n.proxy||{},"string"==typeof this._proxy&&(this._proxy={origin:this._proxy});var r=n.websocketExtensions;if(r){r=[].concat(r);for(var a=0,s=r.length;s>a;a++)this.addWebsocketExtension(r[a])}this.tls=n.tls||{},this.tls.ca=this.tls.ca||n.ca;for(var l in this._alternates)this._alternates[l]=i.parse(this._alternates[l]);this.maxRequestSize=this.MAX_REQUEST_SIZE},endpointFor:function(e){return this._alternates[e]||this.endpoint},addWebsocketExtension:function(e){this.wsExtensions.push(e)},disable:function(e){this._disabled.push(e)},setHeader:function(e,t){this.headers[e]=t},close:function(){var e=this._transport;delete this._transport,e&&e.close()},getConnectionTypes:function(){return u.getConnectionTypes()},selectTransport:function(e){u.get(this,e,this._disabled,function(e){this.debug("Selected ? transport for ?",e.connectionType,i.stringify(e.endpoint)),e!==this._transport&&(this._transport&&this._transport.close(),this._transport=e,this.connectionType=e.connectionType)},this)},sendMessage:function(e,t,n){n=n||{};var r,i=e.id,o=n.attempts,a=n.deadline&&(new Date).getTime()+1e3*n.deadline,s=this._envelopes[i];s||(r=new this._scheduler(e,{timeout:t,interval:this.retry,attempts:o,deadline:a}),s=this._envelopes[i]={message:e,scheduler:r}),this._sendEnvelope(s)},_sendEnvelope:function(e){if(this._transport&&!e.request&&!e.timer){var t=e.message,r=e.scheduler,i=this;
if(!r.isDeliverable())return r.abort(),void delete this._envelopes[t.id];e.timer=n.setTimeout(function(){i.handleError(t)},1e3*r.getTimeout()),r.send(),e.request=this._transport.sendMessage(t)}},handleResponse:function(e){var t=this._envelopes[e.id];void 0!==e.successful&&t&&(t.scheduler.succeed(),delete this._envelopes[e.id],n.clearTimeout(t.timer)),this.trigger("message",e),this._state!==this.UP&&(this._state=this.UP,this._client.trigger("transport:up"))},handleError:function(e,t){var r=this._envelopes[e.id],i=r&&r.request,o=this;if(i){i.then(function(e){e&&e.abort&&e.abort()});var a=r.scheduler;a.fail(),n.clearTimeout(r.timer),r.request=r.timer=null,t?this._sendEnvelope(r):r.timer=n.setTimeout(function(){r.timer=null,o._sendEnvelope(r)},1e3*a.getInterval()),this._state!==this.DOWN&&(this._state=this.DOWN,this._client.trigger("transport:down"))}}});p.create=function(e,t,n){return new p(e,t,n)},a(p.prototype,l),a(p.prototype,s),t.exports=p}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../mixins/logging":50,"../mixins/publisher":51,"../transport":62,"../util/class":71,"../util/cookies":73,"../util/extend":76,"../util/uri":80,"./scheduler":60}],56:[function(e,t,n){"use strict";var r=e("../util/class"),i=e("./grammar"),o=r({initialize:function(e,t,n){this.code=e,this.params=Array.prototype.slice.call(t),this.message=n},toString:function(){return this.code+":"+this.params.join(",")+":"+this.message}});o.parse=function(e){if(e=e||"",!i.ERROR.test(e))return new o(null,[],e);var t=e.split(":"),n=parseInt(t[0]),r=t[1].split(","),e=t[2];return new o(n,r,e)};var a={versionMismatch:[300,"Version mismatch"],conntypeMismatch:[301,"Connection types not supported"],extMismatch:[302,"Extension mismatch"],badRequest:[400,"Bad request"],clientUnknown:[401,"Unknown client"],parameterMissing:[402,"Missing required parameter"],channelForbidden:[403,"Forbidden channel"],channelUnknown:[404,"Unknown channel"],channelInvalid:[405,"Invalid channel"],extUnknown:[406,"Unknown extension"],publishFailed:[407,"Failed to publish"],serverError:[500,"Internal server error"]};for(var s in a)(function(e){o[e]=function(){return new o(a[e][0],arguments,a[e][1]).toString()}})(s);t.exports=o},{"../util/class":71,"./grammar":58}],57:[function(e,t,n){"use strict";var r=e("../util/extend"),i=e("../mixins/logging"),o={addExtension:function(e){this._extensions=this._extensions||[],this._extensions.push(e),e.added&&e.added(this)},removeExtension:function(e){if(this._extensions)for(var t=this._extensions.length;t--;)this._extensions[t]===e&&(this._extensions.splice(t,1),e.removed&&e.removed(this))},pipeThroughExtensions:function(e,t,n,r,i){if(this.debug("Passing through ? extensions: ?",e,t),!this._extensions)return r.call(i,t);var o=this._extensions.slice(),a=function(t){if(!t)return r.call(i,t);var s=o.shift();if(!s)return r.call(i,t);var l=s[e];return l?void(l.length>=3?s[e](t,n,a):s[e](t,a)):a(t)};a(t)}};r(o,i),t.exports=o},{"../mixins/logging":50,"../util/extend":76}],58:[function(e,t,n){"use strict";t.exports={CHANNEL_NAME:/^\/(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)))+(\/(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)))+)*$/,CHANNEL_PATTERN:/^(\/(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)))+)*\/\*{1,2}$/,ERROR:/^([0-9][0-9][0-9]:(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)| |\/|\*|\.))*(,(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)| |\/|\*|\.))*)*:(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)| |\/|\*|\.))*|[0-9][0-9][0-9]::(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)| |\/|\*|\.))*)$/,VERSION:/^([0-9])+(\.(([a-z]|[A-Z])|[0-9])(((([a-z]|[A-Z])|[0-9])|\-|\_))*)*$/}},{}],59:[function(e,t,n){"use strict";var r=e("../util/class"),i=e("../mixins/deferrable");t.exports=r(i)},{"../mixins/deferrable":49,"../util/class":71}],60:[function(e,t,n){"use strict";var r=e("../util/extend"),i=function(e,t){this.message=e,this.options=t,this.attempts=0};r(i.prototype,{getTimeout:function(){return this.options.timeout},getInterval:function(){return this.options.interval},isDeliverable:function(){var e=this.options.attempts,t=this.attempts,n=this.options.deadline,r=(new Date).getTime();return!(void 0!==e&&t>=e||void 0!==n&&r>n)},send:function(){this.attempts+=1},succeed:function(){},fail:function(){},abort:function(){}}),t.exports=i},{"../util/extend":76}],61:[function(e,t,n){"use strict";var r=e("../util/class"),i=e("../util/extend"),o=e("../mixins/deferrable"),a=r({initialize:function(e,t,n,r){this._client=e,this._channels=t,this._callback=n,this._context=r,this._cancelled=!1},withChannel:function(e,t){return this._withChannel=[e,t],this},apply:function(e,t){var n=t[0];this._callback&&this._callback.call(this._context,n.data),this._withChannel&&this._withChannel[0].call(this._withChannel[1],n.channel,n.data)},cancel:function(){this._cancelled||(this._client.unsubscribe(this._channels,this),this._cancelled=!0)},unsubscribe:function(){this.cancel()}});i(a.prototype,o),t.exports=a},{"../mixins/deferrable":49,"../util/class":71,"../util/extend":76}],62:[function(e,t,n){"use strict";var r=e("./transport");r.register("websocket",e("./web_socket")),r.register("eventsource",e("./event_source")),r.register("long-polling",e("./xhr")),r.register("cross-origin-long-polling",e("./cors")),r.register("callback-polling",e("./jsonp")),t.exports=r},{"./cors":63,"./event_source":64,"./jsonp":65,"./transport":66,"./web_socket":67,"./xhr":68}],63:[function(e,t,n){(function(n){"use strict";var r=e("../util/class"),i=e("../util/set"),o=e("../util/uri"),a=e("../util/extend"),s=e("../util/to_json"),l=e("./transport"),u=a(r(l,{encode:function(e){return"message="+encodeURIComponent(s(e))},request:function(e){var t,r=n.XDomainRequest?XDomainRequest:XMLHttpRequest,i=new r,a=++u._id,s=this._dispatcher.headers,l=this;if(i.open("POST",o.stringify(this.endpoint),!0),i.setRequestHeader){i.setRequestHeader("Pragma","no-cache");for(t in s)s.hasOwnProperty(t)&&i.setRequestHeader(t,s[t])}var c=function(){return!!i&&(u._pending.remove(a),i.onload=i.onerror=i.ontimeout=i.onprogress=null,void(i=null))};return i.onload=function(){var t;try{t=JSON.parse(i.responseText)}catch(n){}c(),t?l._receive(t):l._handleError(e)},i.onerror=i.ontimeout=function(){c(),l._handleError(e)},i.onprogress=function(){},r===n.XDomainRequest&&u._pending.add({id:a,xhr:i}),i.send(this.encode(e)),i}}),{_id:0,_pending:new i,isUsable:function(e,t,r,i){if(o.isSameOrigin(t))return r.call(i,!1);if(n.XDomainRequest)return r.call(i,t.protocol===location.protocol);if(n.XMLHttpRequest){var a=new XMLHttpRequest;return r.call(i,void 0!==a.withCredentials)}return r.call(i,!1)}});t.exports=u}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../util/class":71,"../util/extend":76,"../util/set":78,"../util/to_json":79,"../util/uri":80,"./transport":66}],64:[function(e,t,n){(function(n){"use strict";var r=e("../util/class"),i=e("../util/uri"),o=e("../util/copy_object"),a=e("../util/extend"),s=e("../mixins/deferrable"),l=e("./transport"),u=e("./xhr"),c=a(r(l,{initialize:function(e,t){if(l.prototype.initialize.call(this,e,t),!n.EventSource)return this.setDeferredStatus("failed");this._xhr=new u(e,t),t=o(t),t.pathname+="/"+e.clientId;var r=new n.EventSource(i.stringify(t)),a=this;r.onopen=function(){a._everConnected=!0,a.setDeferredStatus("succeeded")},r.onerror=function(){a._everConnected?a._handleError([]):(a.setDeferredStatus("failed"),r.close())},r.onmessage=function(e){var t;try{t=JSON.parse(e.data)}catch(n){}t?a._receive(t):a._handleError([])},this._socket=r},close:function(){this._socket&&(this._socket.onopen=this._socket.onerror=this._socket.onmessage=null,this._socket.close(),delete this._socket)},isUsable:function(e,t){this.callback(function(){e.call(t,!0)}),this.errback(function(){e.call(t,!1)})},encode:function(e){return this._xhr.encode(e)},request:function(e){return this._xhr.request(e)}}),{isUsable:function(e,t,n,r){var i=e.clientId;return i?void u.isUsable(e,t,function(i){return i?void this.create(e,t).isUsable(n,r):n.call(r,!1)},this):n.call(r,!1)},create:function(e,t){var n=e.transports.eventsource=e.transports.eventsource||{},r=e.clientId,a=o(t);return a.pathname+="/"+(r||""),a=i.stringify(a),n[a]=n[a]||new this(e,t),n[a]}});a(c.prototype,s),t.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../mixins/deferrable":49,"../util/class":71,"../util/copy_object":74,"../util/extend":76,"../util/uri":80,"./transport":66,"./xhr":68}],65:[function(e,t,n){(function(n){"use strict";var r=e("../util/class"),i=e("../util/uri"),o=e("../util/copy_object"),a=e("../util/extend"),s=e("../util/to_json"),l=e("./transport"),u=a(r(l,{encode:function(e){var t=o(this.endpoint);return t.query.message=s(e),t.query.jsonp="__jsonp"+u._cbCount+"__",i.stringify(t)},request:function(e){var t=document.getElementsByTagName("head")[0],r=document.createElement("script"),a=u.getCallbackName(),l=o(this.endpoint),c=this;l.query.message=s(e),l.query.jsonp=a;var p=function(){if(!n[a])return!1;n[a]=void 0;try{delete n[a]}catch(e){}r.parentNode.removeChild(r)};return n[a]=function(e){p(),c._receive(e)},r.type="text/javascript",r.src=i.stringify(l),t.appendChild(r),r.onerror=function(){p(),c._handleError(e)},{abort:p}}}),{_cbCount:0,getCallbackName:function(){return this._cbCount+=1,"__jsonp"+this._cbCount+"__"},isUsable:function(e,t,n,r){n.call(r,!0)}});t.exports=u}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../util/class":71,"../util/copy_object":74,"../util/extend":76,"../util/to_json":79,"../util/uri":80,"./transport":66}],66:[function(e,t,n){(function(n){"use strict";var r=e("../util/class"),i=e("../util/cookies").Cookie,o=e("../util/promise"),a=e("../util/uri"),s=e("../util/array"),l=e("../util/extend"),u=e("../mixins/logging"),c=e("../mixins/timeouts"),p=e("../protocol/channel"),d=l(r({className:"Transport",DEFAULT_PORTS:{"http:":80,"https:":443,"ws:":80,"wss:":443},MAX_DELAY:0,batching:!0,initialize:function(e,t){this._dispatcher=e,this.endpoint=t,this._outbox=[],this._proxy=l({},this._dispatcher.proxy),this._proxy.origin||(this._proxy.origin=this._findProxy())},close:function(){},encode:function(e){return""},sendMessage:function(e){return this.debug("Client ? sending message to ?: ?",this._dispatcher.clientId,a.stringify(this.endpoint),e),this.batching?(this._outbox.push(e),this._flushLargeBatch(),e.channel===p.HANDSHAKE?this._publish(.01):(e.channel===p.CONNECT&&(this._connectMessage=e),this._publish(this.MAX_DELAY))):o.resolve(this.request([e]))},_makePromise:function(){var e=this;this._requestPromise=this._requestPromise||new o(function(t){e._resolvePromise=t})},_publish:function(e){return this._makePromise(),this.addTimeout("publish",e,function(){this._flush(),delete this._requestPromise},this),this._requestPromise},_flush:function(){this.removeTimeout("publish"),this._outbox.length>1&&this._connectMessage&&(this._connectMessage.advice={timeout:0}),this._resolvePromise(this.request(this._outbox)),this._connectMessage=null,this._outbox=[]},_flushLargeBatch:function(){var e=this.encode(this._outbox);if(!(e.length<this._dispatcher.maxRequestSize)){var t=this._outbox.pop();this._makePromise(),this._flush(),t&&this._outbox.push(t)}},_receive:function(e){if(e){e=[].concat(e),this.debug("Client ? received from ? via ?: ?",this._dispatcher.clientId,a.stringify(this.endpoint),this.connectionType,e);for(var t=0,n=e.length;n>t;t++)this._dispatcher.handleResponse(e[t])}},_handleError:function(e,t){e=[].concat(e),this.debug("Client ? failed to send to ? via ?: ?",this._dispatcher.clientId,a.stringify(this.endpoint),this.connectionType,e);for(var n=0,r=e.length;r>n;n++)this._dispatcher.handleError(e[n])},_getCookies:function(){var e=this._dispatcher.cookies,t=a.stringify(this.endpoint);return e?s.map(e.getCookiesSync(t),function(e){return e.cookieString()}).join("; "):""},_storeCookies:function(e){var t,n=this._dispatcher.cookies,r=a.stringify(this.endpoint);if(e&&n){e=[].concat(e);for(var o=0,s=e.length;s>o;o++)t=i.parse(e[o]),n.setCookieSync(t,r)}},_findProxy:function(){if("undefined"!=typeof n){var e=this.endpoint.protocol;if(e){var t,r,i=e.replace(/:$/,"").toLowerCase()+"_proxy",o=i.toUpperCase(),a=n.env;return"http_proxy"===i&&a.REQUEST_METHOD?(t=Object.keys(a).filter(function(e){return/^http_proxy$/i.test(e)}),1===t.length?t[0]===i&&void 0===a[o]&&(r=a[i]):t.length>1&&(r=a[i]),r=r||a["CGI_"+o]):(r=a[i]||a[o],r&&!a[i]&&console.warn("The environment variable "+o+" is discouraged. Use "+i+".")),r}}}}),{get:function(e,t,n,r,i){var o=e.endpoint;s.asyncEach(this._transports,function(o,a){var l=o[0],u=o[1],c=e.endpointFor(l);return s.indexOf(n,l)>=0?a():s.indexOf(t,l)<0?(u.isUsable(e,c,function(){}),a()):void u.isUsable(e,c,function(t){if(!t)return a();var n=u.hasOwnProperty("create")?u.create(e,c):new u(e,c);r.call(i,n)})},function(){throw new Error("Could not find a usable connection type for "+a.stringify(o))})},register:function(e,t){this._transports.push([e,t]),t.prototype.connectionType=e},getConnectionTypes:function(){return s.map(this._transports,function(e){return e[0]})},_transports:[]});l(d.prototype,u),l(d.prototype,c),t.exports=d}).call(this,e("_process"))},{"../mixins/logging":50,"../mixins/timeouts":52,"../protocol/channel":53,"../util/array":69,"../util/class":71,"../util/cookies":73,"../util/extend":76,"../util/promise":77,"../util/uri":80,_process:91}],67:[function(e,t,n){(function(n){"use strict";var r=e("../util/class"),i=e("../util/promise"),o=e("../util/set"),a=e("../util/uri"),s=e("../util/browser"),l=e("../util/copy_object"),u=e("../util/extend"),c=e("../util/to_json"),p=e("../util/websocket"),d=e("../mixins/deferrable"),f=e("./transport"),h=u(r(f,{UNCONNECTED:1,CONNECTING:2,CONNECTED:3,batching:!1,isUsable:function(e,t){this.callback(function(){e.call(t,!0)}),this.errback(function(){e.call(t,!1)}),this.connect()},request:function(e){this._pending=this._pending||new o;for(var t=0,n=e.length;n>t;t++)this._pending.add(e[t]);var r=this,a=new i(function(t,n){r.callback(function(n){n&&1===n.readyState&&(n.send(c(e)),t(n))}),r.connect()});return{abort:function(){a.then(function(e){e.close()})}}},connect:function(){if(!h._unloaded&&(this._state=this._state||this.UNCONNECTED,this._state===this.UNCONNECTED)){this._state=this.CONNECTING;var e=this._createSocket();if(!e)return this.setDeferredStatus("failed");var t=this;e.onopen=function(){e.headers&&t._storeCookies(e.headers["set-cookie"]),t._socket=e,t._state=t.CONNECTED,t._everConnected=!0,t._ping(),t.setDeferredStatus("succeeded",e)};var n=!1;e.onclose=e.onerror=function(){if(!n){n=!0;var r=t._state===t.CONNECTED;e.onopen=e.onclose=e.onerror=e.onmessage=null,delete t._socket,t._state=t.UNCONNECTED,t.removeTimeout("ping");var i=t._pending?t._pending.toArray():[];delete t._pending,r||t._everConnected?(t.setDeferredStatus("unknown"),t._handleError(i,r)):t.setDeferredStatus("failed")}},e.onmessage=function(e){var n;try{n=JSON.parse(e.data)}catch(r){}if(n){n=[].concat(n);for(var i=0,o=n.length;o>i;i++)void 0!==n[i].successful&&t._pending.remove(n[i]);t._receive(n)}}}},close:function(){this._socket&&this._socket.close()},_createSocket:function(){var e=h.getSocketUrl(this.endpoint),t=this._dispatcher.headers,n=this._dispatcher.wsExtensions,r=this._getCookies(),i=this._dispatcher.tls,o={extensions:n,headers:t,proxy:this._proxy,tls:i};return""!==r&&(o.headers.Cookie=r),p.create(e,[],o)},_ping:function(){this._socket&&1===this._socket.readyState&&(this._socket.send("[]"),this.addTimeout("ping",this._dispatcher.timeout/2,this._ping,this))}}),{PROTOCOLS:{"http:":"ws:","https:":"wss:"},create:function(e,t){var n=e.transports.websocket=e.transports.websocket||{};return n[t.href]=n[t.href]||new this(e,t),n[t.href]},getSocketUrl:function(e){return e=l(e),e.protocol=this.PROTOCOLS[e.protocol],a.stringify(e)},isUsable:function(e,t,n,r){this.create(e,t).isUsable(n,r)}});u(h.prototype,d),s.Event&&void 0!==n.onbeforeunload&&s.Event.on(n,"beforeunload",function(){h._unloaded=!0}),t.exports=h}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../mixins/deferrable":49,"../util/browser":70,"../util/class":71,"../util/copy_object":74,"../util/extend":76,"../util/promise":77,"../util/set":78,"../util/to_json":79,"../util/uri":80,"../util/websocket":82,"./transport":66}],68:[function(e,t,n){(function(n){"use strict";var r=e("../util/class"),i=e("../util/uri"),o=e("../util/browser"),a=e("../util/extend"),s=e("../util/to_json"),l=e("./transport"),u=a(r(l,{encode:function(e){return s(e)},request:function(e){var t,r=this.endpoint.href,i=this;if(n.XMLHttpRequest)t=new XMLHttpRequest;else{if(!n.ActiveXObject)return this._handleError(e);t=new ActiveXObject("Microsoft.XMLHTTP")}t.open("POST",r,!0),t.setRequestHeader("Content-Type","application/json"),t.setRequestHeader("Pragma","no-cache"),t.setRequestHeader("X-Requested-With","XMLHttpRequest");var a=this._dispatcher.headers;for(var s in a)a.hasOwnProperty(s)&&t.setRequestHeader(s,a[s]);var l=function(){t.abort()};return void 0!==n.onbeforeunload&&o.Event.on(n,"beforeunload",l),t.onreadystatechange=function(){if(t&&4===t.readyState){var r=null,a=t.status,s=t.responseText,u=a>=200&&300>a||304===a||1223===a;if(void 0!==n.onbeforeunload&&o.Event.detach(n,"beforeunload",l),t.onreadystatechange=function(){},t=null,!u)return i._handleError(e);try{r=JSON.parse(s)}catch(c){}r?i._receive(r):i._handleError(e)}},t.send(this.encode(e)),t}}),{isUsable:function(e,t,n,r){var o="ReactNative"===navigator.product||i.isSameOrigin(t);n.call(r,o)}});t.exports=u}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../util/browser":70,"../util/class":71,"../util/extend":76,"../util/to_json":79,"../util/uri":80,"./transport":66}],69:[function(e,t,n){"use strict";t.exports={commonElement:function(e,t){for(var n=0,r=e.length;r>n;n++)if(-1!==this.indexOf(t,e[n]))return e[n];return null},indexOf:function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},map:function(e,t,n){if(e.map)return e.map(t,n);var r=[];if(e instanceof Array)for(var i=0,o=e.length;o>i;i++)r.push(t.call(n||null,e[i],i));else for(var a in e)e.hasOwnProperty(a)&&r.push(t.call(n||null,a,e[a]));return r},filter:function(e,t,n){if(e.filter)return e.filter(t,n);for(var r=[],i=0,o=e.length;o>i;i++)t.call(n||null,e[i],i)&&r.push(e[i]);return r},asyncEach:function(e,t,n,r){var i=e.length,o=-1,a=0,s=!1,l=function(){return a-=1,o+=1,o===i?n&&n.call(r):void t(e[o],c)},u=function(){if(!s){for(s=!0;a>0;)l();s=!1}},c=function(){a+=1,u()};c()}}},{}],70:[function(e,t,n){(function(e){"use strict";var n={_registry:[],on:function(e,t,n,r){var i=function(){n.call(r)};e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent("on"+t,i),this._registry.push({_element:e,_type:t,_callback:n,_context:r,_handler:i})},detach:function(e,t,n,r){for(var i,o=this._registry.length;o--;)i=this._registry[o],e&&e!==i._element||t&&t!==i._type||n&&n!==i._callback||r&&r!==i._context||(i._element.removeEventListener?i._element.removeEventListener(i._type,i._handler,!1):i._element.detachEvent("on"+i._type,i._handler),this._registry.splice(o,1),i=null)}};void 0!==e.onunload&&n.on(e,"unload",n.detach,n),t.exports={Event:n}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],71:[function(e,t,n){"use strict";var r=e("./extend");t.exports=function(e,t){"function"!=typeof e&&(t=e,e=Object);var n=function(){return this.initialize?this.initialize.apply(this,arguments)||this:this},i=function(){};return i.prototype=e.prototype,n.prototype=new i,r(n.prototype,t),n}},{"./extend":76}],72:[function(e,t,n){t.exports={VERSION:"1.2.4",BAYEUX_VERSION:"1.0",ID_LENGTH:160,JSONP_CALLBACK:"jsonpcallback",CONNECTION_TYPES:["long-polling","cross-origin-long-polling","callback-polling","websocket","eventsource","in-process"],MANDATORY_CONNECTION_TYPES:["long-polling","callback-polling","in-process"]}},{}],73:[function(e,t,n){"use strict";t.exports={}},{}],74:[function(e,t,n){"use strict";var r=function(e){var t,n,i;if(e instanceof Array){for(t=[],n=e.length;n--;)t[n]=r(e[n]);return t}if("object"==typeof e){t=null===e?null:{};for(i in e)t[i]=r(e[i]);return t}return e};t.exports=r},{}],75:[function(e,t,n){function r(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(t===e[n])return n;return-1}function i(){}var o="function"==typeof Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};t.exports=i,i.prototype.emit=function(e){if("error"===e&&(!this._events||!this._events.error||o(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var t=this._events[e];if(!t)return!1;if("function"==typeof t){switch(arguments.length){case 1:t.call(this);break;case 2:t.call(this,arguments[1]);break;case 3:t.call(this,arguments[1],arguments[2]);break;default:var n=Array.prototype.slice.call(arguments,1);t.apply(this,n)}return!0}if(o(t)){for(var n=Array.prototype.slice.call(arguments,1),r=t.slice(),i=0,a=r.length;a>i;i++)r[i].apply(this,n);return!0}return!1},i.prototype.addListener=function(e,t){if("function"!=typeof t)throw new Error("addListener only takes instances of Function");return this._events||(this._events={}),this.emit("newListener",e,t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(e,t){var n=this;return n.on(e,function r(){n.removeListener(e,r),t.apply(this,arguments)}),this},i.prototype.removeListener=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[e])return this;var n=this._events[e];if(o(n)){var i=r(n,t);if(0>i)return this;n.splice(i,1),0==n.length&&delete this._events[e]}else this._events[e]===t&&delete this._events[e];return this},i.prototype.removeAllListeners=function(e){return 0===arguments.length?(this._events={},this):(e&&this._events&&this._events[e]&&(this._events[e]=null),this)},i.prototype.listeners=function(e){return this._events||(this._events={}),this._events[e]||(this._events[e]=[]),o(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]}},{}],76:[function(e,t,n){"use strict";t.exports=function(e,t,n){if(!t)return e;for(var r in t)t.hasOwnProperty(r)&&(e.hasOwnProperty(r)&&n===!1||e[r]!==t[r]&&(e[r]=t[r]));return e}},{}],77:[function(e,t,n){"use strict";var r=e("asap"),i=0,o=1,a=2,s=function(e){return e},l=function(e){throw e},u=function(e){if(this._state=i,this._onFulfilled=[],this._onRejected=[],"function"==typeof e){var t=this;e(function(e){h(t,e)},function(e){b(t,e)})}};u.prototype.then=function(e,t){var n=new u;return c(this,e,n),p(this,t,n),n},u.prototype["catch"]=function(e){return this.then(null,e)};var c=function(e,t,n){"function"!=typeof t&&(t=s);var r=function(e){d(t,e,n)};e._state===i?e._onFulfilled.push(r):e._state===o&&r(e._value)},p=function(e,t,n){"function"!=typeof t&&(t=l);var r=function(e){d(t,e,n)};e._state===i?e._onRejected.push(r):e._state===a&&r(e._reason)},d=function(e,t,n){r(function(){f(e,t,n)})},f=function(e,t,n){var r;try{r=e(t)}catch(i){return b(n,i)}r===n?b(n,new TypeError("Recursive promise chain detected")):h(n,r)},h=function(e,t){var n,r,i=!1;try{if(n=typeof t,r=null!==t&&("function"===n||"object"===n)&&t.then,"function"!=typeof r)return m(e,t);r.call(t,function(t){i^(i=!0)&&h(e,t)},function(t){i^(i=!0)&&b(e,t)})}catch(o){if(!(i^(i=!0)))return;b(e,o)}},m=function(e,t){if(e._state===i){e._state=o,e._value=t,e._onRejected=[];for(var n,r=e._onFulfilled;n=r.shift();)n(t)}},b=function(e,t){if(e._state===i){e._state=a,e._reason=t,e._onFulfilled=[];for(var n,r=e._onRejected;n=r.shift();)n(t)}};u.resolve=function(e){return new u(function(t,n){t(e)})},u.reject=function(e){return new u(function(t,n){n(e)})},u.all=function(e){return new u(function(t,n){var r,i=[],o=e.length;if(0===o)return t(i);for(r=0;o>r;r++)(function(e,r){u.resolve(e).then(function(e){i[r]=e,0===--o&&t(i)},n)})(e[r],r)})},u.race=function(e){return new u(function(t,n){for(var r=0,i=e.length;i>r;r++)u.resolve(e[r]).then(t,n)})},u.deferred=u.pending=function(){var e={};return e.promise=new u(function(t,n){e.resolve=t,e.reject=n}),e},t.exports=u},{asap:37}],78:[function(e,t,n){"use strict";var r=e("./class");t.exports=r({initialize:function(){this._index={}},add:function(e){var t=void 0!==e.id?e.id:e;return!this._index.hasOwnProperty(t)&&(this._index[t]=e,!0)},forEach:function(e,t){for(var n in this._index)this._index.hasOwnProperty(n)&&e.call(t,this._index[n])},isEmpty:function(){for(var e in this._index)if(this._index.hasOwnProperty(e))return!1;return!0},member:function(e){for(var t in this._index)if(this._index[t]===e)return!0;return!1},remove:function(e){var t=void 0!==e.id?e.id:e,n=this._index[t];return delete this._index[t],n},toArray:function(){var e=[];return this.forEach(function(t){e.push(t)}),e}})},{"./class":71}],79:[function(e,t,n){"use strict";t.exports=function(e){return JSON.stringify(e,function(e,t){return this[e]instanceof Array?this[e]:t})}},{}],80:[function(e,t,n){"use strict";t.exports={isURI:function(e){return e&&e.protocol&&e.host&&e.path},isSameOrigin:function(e){return e.protocol===location.protocol&&e.hostname===location.hostname&&e.port===location.port},parse:function(e){if("string"!=typeof e)return e;var t,n,r,i,o,a,s={},l=function(t,n){e=e.replace(n,function(e){return s[t]=e,""}),s[t]=s[t]||""};for(l("protocol",/^[a-z]+\:/i),l("host",/^\/\/[^\/\?#]+/),/^\//.test(e)||s.host||(e=location.pathname.replace(/[^\/]*$/,"")+e),l("pathname",/^[^\?#]*/),l("search",/^\?[^#]*/),l("hash",/^#.*/),s.protocol=s.protocol||location.protocol,s.host?(s.host=s.host.substr(2),t=s.host.split(":"),s.hostname=t[0],s.port=t[1]||""):(s.host=location.host,s.hostname=location.hostname,s.port=location.port),s.pathname=s.pathname||"/",s.path=s.pathname+s.search,n=s.search.replace(/^\?/,""),r=n?n.split("&"):[],a={},i=0,o=r.length;o>i;i++)t=r[i].split("="),a[decodeURIComponent(t[0]||"")]=decodeURIComponent(t[1]||"");return s.query=a,s.href=this.stringify(s),s},stringify:function(e){var t=e.protocol+"//"+e.hostname;return e.port&&(t+=":"+e.port),t+=e.pathname+this.queryString(e.query)+(e.hash||"")},queryString:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return 0===t.length?"":"?"+t.join("&")}}},{}],81:[function(e,t,n){"use strict";var r=e("./array");t.exports=function(e,t){for(var n in e)if(r.indexOf(t,n)<0)throw new Error("Unrecognized option: "+n)}},{"./array":69}],82:[function(e,t,n){(function(e){"use strict";var n=e.MozWebSocket||e.WebSocket;t.exports={create:function(e,t,r){return"function"!=typeof n?null:new n(e)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],83:[function(e,t,n){n.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,p=n?i-1:0,d=n?-1:1,f=e[t+p];for(p+=d,o=f&(1<<-c)-1,f>>=-c,c+=s;c>0;o=256*o+e[t+p],p+=d,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+p],p+=d,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:(f?-1:1)*(1/0);a+=Math.pow(2,r),o-=u}return(f?-1:1)*a*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,p=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,h=r?1:-1,m=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),t+=a+p>=1?d/l:d*Math.pow(2,1-p),t*l>=2&&(a++,l/=2),a+p>=c?(s=0,a=c):a+p>=1?(s=(t*l-1)*Math.pow(2,i),a+=p):(s=t*Math.pow(2,p-1)*Math.pow(2,i),a=0));i>=8;e[n+f]=255&s,f+=h,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+f]=255&a,f+=h,a/=256,u-=8);e[n+f-h]|=128*m}},{}],84:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],85:[function(e,t,n){function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function i(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}t.exports=function(e){return null!=e&&(r(e)||i(e)||!!e._isBuffer)}},{}],86:[function(e,t,n){var r={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},{}],87:[function(e,t,n){(function(e){function n(e,t){return null==e?void 0:e[t]}function r(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function i(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function o(){this.__data__=be?be(null):{}}function a(e){return this.has(e)&&delete this.__data__[e]}function s(e){var t=this.__data__;if(be){var n=t[e];return n===W?void 0:n}return ce.call(t,e)?t[e]:void 0}function l(e){var t=this.__data__;return be?void 0!==t[e]:ce.call(t,e)}function u(e,t){var n=this.__data__;return n[e]=be&&void 0===t?W:t,this}function c(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function p(){this.__data__=[]}function d(e){var t=this.__data__,n=E(t,e);if(0>n)return!1;var r=t.length-1;return n==r?t.pop():he.call(t,n,1),!0}function f(e){var t=this.__data__,n=E(t,e);return 0>n?void 0:t[n][1]}function h(e){return E(this.__data__,e)>-1}function m(e,t){var n=this.__data__,r=E(n,e);return 0>r?n.push([e,t]):n[r][1]=t,this}function b(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function y(){this.__data__={hash:new i,map:new(me||c),string:new i}}function g(e){return C(this,e)["delete"](e)}function _(e){return C(this,e).get(e)}function v(e){return C(this,e).has(e)}function T(e,t){return C(this,e).set(e,t),this}function E(e,t){for(var n=e.length;n--;)if(M(e[n][0],t))return n;return-1}function w(e,t){t=O(t,e)?[t]:D(t);for(var n=0,r=t.length;null!=e&&r>n;)e=e[R(t[n++])];return n&&n==r?e:void 0}function S(e){if(!j(e)||x(e))return!1;var t=U(e)||r(e)?de:ee;return t.test(k(e))}function A(e){if("string"==typeof e)return e;if(B(e))return ge?ge.call(e):"";var t=e+"";return"0"==t&&1/e==-H?"-0":t}function D(e){return ve(e)?e:_e(e)}function C(e,t){var n=e.__data__;return N(t)?n["string"==typeof t?"string":"hash"]:n.map}function I(e,t){var r=n(e,t);return S(r)?r:void 0}function O(e,t){if(ve(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!B(e))||G.test(e)||!z.test(e)||null!=t&&e in Object(t)}function N(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function x(e){return!!le&&le in e}function R(e){if("string"==typeof e||B(e))return e;var t=e+"";return"0"==t&&1/e==-H?"-0":t}function k(e){if(null!=e){try{return ue.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function L(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(Y);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(L.Cache||b),n}function M(e,t){return e===t||e!==e&&t!==t}function U(e){var t=j(e)?pe.call(e):"";return t==V||t==Q}function j(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function P(e){return!!e&&"object"==typeof e}function B(e){return"symbol"==typeof e||P(e)&&pe.call(e)==X}function F(e){return null==e?"":A(e)}function q(e,t,n){var r=null==e?void 0:w(e,t);return void 0===r?n:r}
var Y="Expected a function",W="__lodash_hash_undefined__",H=1/0,V="[object Function]",Q="[object GeneratorFunction]",X="[object Symbol]",z=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,G=/^\w*$/,$=/^\./,K=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,J=/[\\^$.*+?()[\]{}|]/g,Z=/\\(\\)?/g,ee=/^\[object .+?Constructor\]$/,te="object"==typeof e&&e&&e.Object===Object&&e,ne="object"==typeof self&&self&&self.Object===Object&&self,re=te||ne||Function("return this")(),ie=Array.prototype,oe=Function.prototype,ae=Object.prototype,se=re["__core-js_shared__"],le=function(){var e=/[^.]+$/.exec(se&&se.keys&&se.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ue=oe.toString,ce=ae.hasOwnProperty,pe=ae.toString,de=RegExp("^"+ue.call(ce).replace(J,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fe=re.Symbol,he=ie.splice,me=I(re,"Map"),be=I(Object,"create"),ye=fe?fe.prototype:void 0,ge=ye?ye.toString:void 0;i.prototype.clear=o,i.prototype["delete"]=a,i.prototype.get=s,i.prototype.has=l,i.prototype.set=u,c.prototype.clear=p,c.prototype["delete"]=d,c.prototype.get=f,c.prototype.has=h,c.prototype.set=m,b.prototype.clear=y,b.prototype["delete"]=g,b.prototype.get=_,b.prototype.has=v,b.prototype.set=T;var _e=L(function(e){e=F(e);var t=[];return $.test(e)&&t.push(""),e.replace(K,function(e,n,r,i){t.push(r?i.replace(Z,"$1"):n||e)}),t});L.Cache=b;var ve=Array.isArray;t.exports=q}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],88:[function(t,n,r){(function(t){(function(){function i(e,t){return e.push.apply(e,t),e}function o(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function a(e){return function(t){return null==t?rt:t[e]}}function s(e){return function(t){return null==e?rt:e[t]}}function l(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function u(e,t){return N(t,function(t){return e[t]})}function c(e,t){return function(n){return e(t(n))}}function p(e){return e instanceof d?e:new d(e)}function d(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t}function f(e,t,n){var r=e[t];jt.call(e,t)&&Ce(r,n)&&(n!==rt||t in e)||h(e,t,n)}function h(e,t,n){e[t]=n}function m(e,t,n){if("function"!=typeof e)throw new TypeError(ot);return setTimeout(function(){e.apply(rt,n)},t)}function b(e,t){var n=!0;return Xt(e,function(e,r,i){return n=!!t(e,r,i)}),n}function y(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(s===rt?a===a&&!0:n(a,s)))var s=a,l=o}return l}function g(e,t){var n=[];return Xt(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function _(e,t,n,r,o){var a=-1,s=e.length;for(n||(n=$),o||(o=[]);++a<s;){var l=e[a];t>0&&n(l)?t>1?_(l,t-1,n,r,o):i(o,l):r||(o[o.length]=l)}return o}function v(e,t){return e&&zt(e,t,pn)}function T(e,t){return g(t,function(t){return ke(e[t])})}function E(e){return ee(e)}function w(e,t){return e>t}function S(e){return Ue(e)&&E(e)==bt}function A(e,t,n,r,i){return e===t||(null==e||null==t||!Ue(e)&&!Ue(t)?e!==e&&t!==t:D(e,t,n,r,A,i))}function D(e,t,n,r,i,o){var a=nn(e),s=nn(t),l=a?ft:E(e),u=s?ft:E(t);l=l==dt?Tt:l,u=u==dt?Tt:u;var c=l==Tt,p=u==Tt,d=l==u;o||(o=[]);var f=Kt(o,function(t){return t[0]==e}),h=Kt(o,function(e){return e[0]==t});if(f&&h)return f[1]==t;if(o.push([e,t]),o.push([t,e]),d&&!c){var m=a?Q(e,t,n,r,i,o):X(e,t,l,n,r,i,o);return o.pop(),m}if(!(n&at)){var b=c&&jt.call(e,"__wrapped__"),y=p&&jt.call(t,"__wrapped__");if(b||y){var g=b?e.value():e,_=y?t.value():t,m=i(g,_,n,r,o);return o.pop(),m}}if(!d)return!1;var m=z(e,t,n,r,i,o);return o.pop(),m}function C(e){return Ue(e)&&E(e)==wt}function I(e){return"function"==typeof e?e:null==e?Ge:("object"==typeof e?x:a)(e)}function O(e,t){return t>e}function N(e,t){var n=-1,r=Ie(e)?Array(e.length):[];return Xt(e,function(e,i,o){r[++n]=t(e,i,o)}),r}function x(e){var t=Ht(e);return function(n){var r=t.length;if(null==n)return!r;for(n=Object(n);r--;){var i=t[r];if(!(i in n&&A(e[i],n[i],at|st)))return!1}return!0}}function R(e,t){return e=Object(e),_e(t,function(t,n){return n in e&&(t[n]=e[n]),t},{})}function k(e,t){return $t(te(e,t,Ge),e+"")}function L(e,t,n){var r=-1,i=e.length;0>t&&(t=-t>i?0:i+t),n=n>i?i:n,0>n&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}function M(e){return L(e,0,e.length)}function U(e,t){var n;return Xt(e,function(e,r,i){return n=t(e,r,i),!n}),!!n}function j(e,t){var n=e;return _e(t,function(e,t){return t.func.apply(t.thisArg,i([e],t.args))},n)}function P(e,t){if(e!==t){var n=e!==rt,r=null===e,i=e===e,o=!1,a=t!==rt,s=null===t,l=t===t,u=!1;if(!s&&!u&&!o&&e>t||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t>e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}function B(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],l=r?r(n[s],e[s],s,n,e):rt;l===rt&&(l=e[s]),i?h(n,s,l):f(n,s,l)}return n}function F(e){return k(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:rt;for(o=e.length>3&&"function"==typeof o?(i--,o):rt,t=Object(t);++r<i;){var a=n[r];a&&e(t,a,r,o)}return t})}function q(e,t){return function(n,r){if(null==n)return n;if(!Ie(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Object(n);(t?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}function Y(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(n(o[l],l,o)===!1)break}return t}}function W(e){return function(){var t=arguments,n=Qt(e.prototype),r=e.apply(n,t);return Me(r)?r:n}}function H(e){return function(t,n,r){var i=Object(t);if(!Ie(t)){var o=I(n,3);t=pn(t),n=function(e){return o(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:rt}}function V(e,t,n,r){function i(){for(var t=-1,s=arguments.length,l=-1,u=r.length,c=Array(u+s),p=this&&this!==xt&&this instanceof i?a:e;++l<u;)c[l]=r[l];for(;s--;)c[l++]=arguments[++t];return p.apply(o?n:this,c)}if("function"!=typeof e)throw new TypeError(ot);var o=t&lt,a=W(e);return i}function Q(e,t,n,r,i,o){var a=n&at,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;for(var u=-1,c=!0,p=n&st?[]:rt;++u<s;){var d,f=e[u],h=t[u];if(d!==rt){if(d)continue;c=!1;break}if(p){if(!U(t,function(e,t){return le(p,t)||f!==e&&!i(f,e,n,r,o)?void 0:p.push(t)})){c=!1;break}}else if(f!==h&&!i(f,h,n,r,o)){c=!1;break}}return c}function X(e,t,n,r,i,o,a){switch(n){case mt:case bt:case vt:return Ce(+e,+t);case yt:return e.name==t.name&&e.message==t.message;case wt:case St:return e==t+""}return!1}function z(e,t,n,r,i,o){var a=n&at,s=pn(e),l=s.length,u=pn(t),c=u.length;if(l!=c&&!a)return!1;for(var p=l;p--;){var d=s[p];if(!(a?d in t:jt.call(t,d)))return!1}for(var f=!0,h=a;++p<l;){d=s[p];var m,b=e[d],y=t[d];if(!(m===rt?b===y||i(b,y,n,r,o):m)){f=!1;break}h||(h="constructor"==d)}if(f&&!h){var g=e.constructor,_=t.constructor;g!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof _&&_ instanceof _)&&(f=!1)}return f}function G(e){return $t(te(e,rt,oe),e+"")}function $(e){return nn(e)||tn(e)}function K(e,t){var n=typeof e;return t=null==t?pt:t,!!t&&("number"==n||"symbol"!=n&&Ct.test(e))&&e>-1&&e%1==0&&t>e}function J(e,t,n){if(!Me(n))return!1;var r=typeof t;return!!("number"==r?Ie(n)&&K(t,n.length):"string"==r&&t in n)&&Ce(n[t],e)}function Z(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}function ee(e){return Bt.call(e)}function te(e,t,n){return t=Vt(t===rt?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=Vt(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),e.apply(this,s)}}function ne(e){return g(e,Boolean)}function re(){var e=arguments.length;if(!e)return[];for(var t=Array(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return i(nn(n)?M(n):[n],_(t,1))}function ie(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:an(n);return 0>i&&(i=Vt(r+i,0)),o(e,I(t,3),i)}function oe(e){var t=null==e?0:e.length;return t?_(e,1):[]}function ae(e){var t=null==e?0:e.length;return t?_(e,ct):[]}function se(e){return e&&e.length?e[0]:rt}function le(e,t,n){var r=null==e?0:e.length;n="number"==typeof n?0>n?Vt(r+n,0):n:0;for(var i=(n||0)-1,o=t===t;++i<r;){var a=e[i];if(o?a===t:a!==a)return i}return-1}function ue(e){var t=null==e?0:e.length;return t?e[t-1]:rt}function ce(e,t,n){var r=null==e?0:e.length;return t=null==t?0:+t,n=n===rt?r:+n,r?L(e,t,n):[]}function pe(e){var t=p(e);return t.__chain__=!0,t}function de(e,t){return t(e),e}function fe(e,t){return t(e)}function he(){return j(this.__wrapped__,this.__actions__)}function me(e,t,n){return t=n?rt:t,b(e,I(t))}function be(e,t){return g(e,I(t))}function ye(e,t){return Xt(e,I(t))}function ge(e,t){return N(e,I(t))}function _e(e,t,n){return l(e,I(t),n,arguments.length<3,Xt)}function ve(e){return null==e?0:(e=Ie(e)?e:Ht(e),e.length)}function Te(e,t,n){return t=n?rt:t,U(e,I(t))}function Ee(e,t){var n=0;return t=I(t),N(N(e,function(e,r,i){return{value:e,index:n++,criteria:t(e,r,i)}}).sort(function(e,t){return P(e.criteria,t.criteria)||e.index-t.index}),a("value"))}function we(e,t){var n;if("function"!=typeof t)throw new TypeError(ot);return e=an(e),function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=rt),n}}function Se(e){if("function"!=typeof e)throw new TypeError(ot);return function(){var t=arguments;return!e.apply(this,t)}}function Ae(e){return we(2,e)}function De(e){return Me(e)?nn(e)?M(e):B(e,Ht(e)):e}function Ce(e,t){return e===t||e!==e&&t!==t}function Ie(e){return null!=e&&Le(e.length)&&!ke(e)}function Oe(e){return e===!0||e===!1||Ue(e)&&E(e)==mt}function Ne(e){return Ie(e)&&(nn(e)||Fe(e)||ke(e.splice)||tn(e))?!e.length:!Ht(e).length}function xe(e,t){return A(e,t)}function Re(e){return"number"==typeof e&&Wt(e)}function ke(e){if(!Me(e))return!1;var t=E(e);return t==gt||t==_t||t==ht||t==Et}function Le(e){return"number"==typeof e&&e>-1&&e%1==0&&pt>=e}function Me(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ue(e){return null!=e&&"object"==typeof e}function je(e){return Be(e)&&e!=+e}function Pe(e){return null===e}function Be(e){return"number"==typeof e||Ue(e)&&E(e)==vt}function Fe(e){return"string"==typeof e||!nn(e)&&Ue(e)&&E(e)==St}function qe(e){return e===rt}function Ye(e){return Ie(e)?e.length?M(e):[]:Xe(e)}function We(e){return"string"==typeof e?e:null==e?"":e+""}function He(e,t){var n=Qt(e);return null==t?n:ln(n,t)}function Ve(e,t){return null!=e&&jt.call(e,t)}function Qe(e,t,n){var r=null==e?rt:e[t];return r===rt&&(r=n),ke(r)?r.call(e):r}function Xe(e){return null==e?[]:u(e,pn(e))}function ze(e){return e=We(e),e&&Dt.test(e)?e.replace(At,Lt):e}function Ge(e){return e}function $e(e){return x(ln({},e))}function Ke(e,t,n){var r=pn(t),o=T(t,r);null!=n||Me(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=T(t,pn(t)));var a=!(Me(n)&&"chain"in n&&!n.chain),s=ke(e);return Xt(o,function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__),o=n.__actions__=M(this.__actions__);return o.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,i([this.value()],arguments))})}),e}function Je(){return xt._===this&&(xt._=Ft),this}function Ze(){}function et(e){var t=++Pt;return We(e)+t}function tt(e){return e&&e.length?y(e,Ge,w):rt}function nt(e){return e&&e.length?y(e,Ge,O):rt}var rt,it="4.17.14",ot="Expected a function",at=1,st=2,lt=1,ut=32,ct=1/0,pt=9007199254740991,dt="[object Arguments]",ft="[object Array]",ht="[object AsyncFunction]",mt="[object Boolean]",bt="[object Date]",yt="[object Error]",gt="[object Function]",_t="[object GeneratorFunction]",vt="[object Number]",Tt="[object Object]",Et="[object Proxy]",wt="[object RegExp]",St="[object String]",At=/[&<>"']/g,Dt=RegExp(At.source),Ct=/^(?:0|[1-9]\d*)$/,It={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ot="object"==typeof t&&t&&t.Object===Object&&t,Nt="object"==typeof self&&self&&self.Object===Object&&self,xt=Ot||Nt||Function("return this")(),Rt="object"==typeof r&&r&&!r.nodeType&&r,kt=Rt&&"object"==typeof n&&n&&!n.nodeType&&n,Lt=s(It),Mt=Array.prototype,Ut=Object.prototype,jt=Ut.hasOwnProperty,Pt=0,Bt=Ut.toString,Ft=xt._,qt=Object.create,Yt=Ut.propertyIsEnumerable,Wt=xt.isFinite,Ht=c(Object.keys,Object),Vt=Math.max,Qt=function(){function e(){}return function(t){if(!Me(t))return{};if(qt)return qt(t);e.prototype=t;var n=new e;return e.prototype=rt,n}}();d.prototype=Qt(p.prototype),d.prototype.constructor=d;var Xt=q(v),zt=Y(),Gt=Ze,$t=Ge,Kt=H(ie),Jt=k(function(e,t,n){return V(e,lt|ut,t,n)}),Zt=k(function(e,t){return m(e,1,t)}),en=k(function(e,t,n){return m(e,sn(t)||0,n)}),tn=Gt(function(){return arguments}())?Gt:function(e){return Ue(e)&&jt.call(e,"callee")&&!Yt.call(e,"callee")},nn=Array.isArray,rn=S,on=C,an=Number,sn=Number,ln=F(function(e,t){B(t,Ht(t),e)}),un=F(function(e,t){B(t,Z(t),e)}),cn=k(function(e,t){e=Object(e);var n=-1,r=t.length,i=r>2?t[2]:rt;for(i&&J(t[0],t[1],i)&&(r=1);++n<r;)for(var o=t[n],a=dn(o),s=-1,l=a.length;++s<l;){var u=a[s],c=e[u];(c===rt||Ce(c,Ut[u])&&!jt.call(e,u))&&(e[u]=o[u])}return e}),pn=Ht,dn=Z,fn=G(function(e,t){return null==e?{}:R(e,t)}),hn=I;p.assignIn=un,p.before=we,p.bind=Jt,p.chain=pe,p.compact=ne,p.concat=re,p.create=He,p.defaults=cn,p.defer=Zt,p.delay=en,p.filter=be,p.flatten=oe,p.flattenDeep=ae,p.iteratee=hn,p.keys=pn,p.map=ge,p.matches=$e,p.mixin=Ke,p.negate=Se,p.once=Ae,p.pick=fn,p.slice=ce,p.sortBy=Ee,p.tap=de,p.thru=fe,p.toArray=Ye,p.values=Xe,p.extend=un,Ke(p,p),p.clone=De,p.escape=ze,p.every=me,p.find=Kt,p.forEach=ye,p.has=Ve,p.head=se,p.identity=Ge,p.indexOf=le,p.isArguments=tn,p.isArray=nn,p.isBoolean=Oe,p.isDate=rn,p.isEmpty=Ne,p.isEqual=xe,p.isFinite=Re,p.isFunction=ke,p.isNaN=je,p.isNull=Pe,p.isNumber=Be,p.isObject=Me,p.isRegExp=on,p.isString=Fe,p.isUndefined=qe,p.last=ue,p.max=tt,p.min=nt,p.noConflict=Je,p.noop=Ze,p.reduce=_e,p.result=Qe,p.size=ve,p.some=Te,p.uniqueId=et,p.each=ye,p.first=se,Ke(p,function(){var e={};return v(p,function(t,n){jt.call(p.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),p.VERSION=it,Xt(["pop","join","replace","reverse","split","push","shift","sort","splice","unshift"],function(e){var t=(/^(?:replace|split)$/.test(e)?String.prototype:Mt)[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|join|replace|shift)$/.test(e);p.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(nn(i)?i:[],e)}return this[n](function(n){return t.apply(nn(n)?n:[],e)})}}),p.prototype.toJSON=p.prototype.valueOf=p.prototype.value=he,"function"==typeof e&&"object"==typeof e.amd&&e.amd?(xt._=p,e(function(){return p})):kt?((kt.exports=p)._=p,Rt._=p):xt._=p}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],89:[function(e,t,n){function r(e,t){var n=this;return n instanceof r?(l.Readable.call(n,t),n.destroyed=!1,n._drained=!1,n._forwarding=!1,n._current=null,n._toStreams2=t&&t.objectMode?i:o,"function"==typeof e?n._queue=e:(n._queue=e.map(n._toStreams2),n._queue.forEach(function(e){"function"!=typeof e&&n._attachErrorListener(e)})),void n._next()):new r(e,t)}function i(e){return a(e,{objectMode:!0,highWaterMark:16})}function o(e){return a(e)}function a(e,t){if(!e||"function"==typeof e||e._readableState)return e;var n=new l.Readable(t).wrap(e);return e.destroy&&(n.destroy=e.destroy.bind(e)),n}t.exports=r;var s=e("inherits"),l=e("readable-stream");s(r,l.Readable),r.obj=function(e){return new r(e,{objectMode:!0,highWaterMark:16})},r.prototype._read=function(){this._drained=!0,this._forward()},r.prototype._forward=function(){if(!this._forwarding&&this._drained&&this._current){this._forwarding=!0;for(var e;null!==(e=this._current.read());)this._drained=this.push(e);this._forwarding=!1}},r.prototype.destroy=function(e){this.destroyed||(this.destroyed=!0,this._current&&this._current.destroy&&this._current.destroy(),"function"!=typeof this._queue&&this._queue.forEach(function(e){e.destroy&&e.destroy()}),e&&this.emit("error",e),this.emit("close"))},r.prototype._next=function(){var e=this;if(e._current=null,"function"==typeof e._queue)e._queue(function(t,n){return t?e.destroy(t):(n=e._toStreams2(n),e._attachErrorListener(n),void e._gotNextStream(n))});else{var t=e._queue.shift();"function"==typeof t&&(t=e._toStreams2(t()),e._attachErrorListener(t)),e._gotNextStream(t)}},r.prototype._gotNextStream=function(e){function t(){i._forward()}function n(){e._readableState.ended||i.destroy()}function r(){i._current=null,e.removeListener("readable",t),e.removeListener("end",r),e.removeListener("close",n),i._next()}var i=this;return e?(i._current=e,i._forward(),e.on("readable",t),e.once("end",r),void e.once("close",n)):(i.push(null),void i.destroy())},r.prototype._attachErrorListener=function(e){function t(r){e.removeListener("error",t),n.destroy(r)}var n=this;e&&e.once("error",t)}},{inherits:84,"readable-stream":107}],90:[function(e,t,n){(function(e){"use strict";function n(t,n,r,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,n)});case 3:return e.nextTick(function(){t.call(null,n,r)});case 4:return e.nextTick(function(){t.call(null,n,r,i)});default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return e.nextTick(function(){t.apply(null,o)})}}!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:n}:t.exports=e}).call(this,e("_process"))},{_process:91}],91:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(e){if(p===setTimeout)return setTimeout(e,0);if((p===r||!p)&&setTimeout)return p=setTimeout,setTimeout(e,0);try{return p(e,0)}catch(t){try{return p.call(null,e,0)}catch(t){return p.call(this,e,0)}}}function a(e){if(d===clearTimeout)return clearTimeout(e);if((d===i||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function s(){b&&h&&(b=!1,h.length?m=h.concat(m):y=-1,m.length&&l())}function l(){if(!b){var e=o(s);b=!0;for(var t=m.length;t;){for(h=m,m=[];++y<t;)h&&h[y].run();y=-1,t=m.length}h=null,b=!1,a(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var p,d,f=t.exports={};!function(){try{p="function"==typeof setTimeout?setTimeout:r}catch(e){p=r}try{d="function"==typeof clearTimeout?clearTimeout:i}catch(e){d=i}}();var h,m=[],b=!1,y=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new u(e,t)),1!==m.length||b||o(l)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.prependListener=c,f.prependOnceListener=c,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],92:[function(e,t,n){"use strict";function r(){}function i(e){try{return e.then}catch(t){return y=t,g}}function o(e,t){try{return e(t)}catch(n){return y=n,g}}function a(e,t,n){try{e(t,n)}catch(r){return y=r,g}}function s(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("Promise constructor's argument is not a function");this._40=0,this._65=0,this._55=null,this._72=null,e!==r&&m(e,this)}function l(e,t,n){return new e.constructor(function(i,o){var a=new s(r);a.then(i,o),u(e,new h(t,n,a))})}function u(e,t){for(;3===e._65;)e=e._55;return s._37&&s._37(e),0===e._65?0===e._40?(e._40=1,void(e._72=t)):1===e._40?(e._40=2,void(e._72=[e._72,t])):void e._72.push(t):void c(e,t)}function c(e,t){b(function(){var n=1===e._65?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._65?p(t.promise,e._55):d(t.promise,e._55));var r=o(n,e._55);r===g?d(t.promise,y):p(t.promise,r)})}function p(e,t){if(t===e)return d(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"==typeof t||"function"==typeof t)){var n=i(t);if(n===g)return d(e,y);if(n===e.then&&t instanceof s)return e._65=3,e._55=t,void f(e);if("function"==typeof n)return void m(n.bind(t),e)}e._65=1,e._55=t,f(e)}function d(e,t){e._65=2,e._55=t,s._87&&s._87(e,t),f(e)}function f(e){if(1===e._40&&(u(e,e._72),e._72=null),2===e._40){for(var t=0;t<e._72.length;t++)u(e,e._72[t]);e._72=null}}function h(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function m(e,t){var n=!1,r=a(e,function(e){n||(n=!0,p(t,e))},function(e){n||(n=!0,d(t,e))});n||r!==g||(n=!0,d(t,y))}var b=e("asap/raw"),y=null,g={};t.exports=s,s._37=null,s._87=null,s._61=r,s.prototype.then=function(e,t){if(this.constructor!==s)return l(this,e,t);var n=new s(r);return u(this,new h(e,t,n)),n}},{"asap/raw":38}],93:[function(e,t,n){"use strict";function r(e){var t=new i(i._61);return t._65=1,t._55=e,t}var i=e("./core.js");t.exports=i;var o=r(!0),a=r(!1),s=r(null),l=r(void 0),u=r(0),c=r("");i.resolve=function(e){if(e instanceof i)return e;if(null===e)return s;if(void 0===e)return l;if(e===!0)return o;if(e===!1)return a;if(0===e)return u;if(""===e)return c;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new i(t.bind(e))}catch(n){return new i(function(e,t){t(n)})}return r(e)},i.all=function(e){var t=Array.prototype.slice.call(e);return new i(function(e,n){function r(a,s){if(s&&("object"==typeof s||"function"==typeof s)){if(s instanceof i&&s.then===i.prototype.then){for(;3===s._65;)s=s._55;return 1===s._65?r(a,s._55):(2===s._65&&n(s._55),void s.then(function(e){r(a,e)},n))}var l=s.then;if("function"==typeof l){var u=new i(l.bind(s));return void u.then(function(e){r(a,e)},n)}}t[a]=s,0===--o&&e(t)}if(0===t.length)return e([]);for(var o=t.length,a=0;a<t.length;a++)r(a,t[a])})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){e.forEach(function(e){i.resolve(e).then(t,n)})})},i.prototype["catch"]=function(e){return this.then(null,e)}},{"./core.js":92}],94:[function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,n,o){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var l=1e3;o&&"number"==typeof o.maxKeys&&(l=o.maxKeys);var u=e.length;l>0&&u>l&&(u=l);for(var c=0;u>c;++c){var p,d,f,h,m=e[c].replace(s,"%20"),b=m.indexOf(n);b>=0?(p=m.substr(0,b),d=m.substr(b+1)):(p=m,d=""),f=decodeURIComponent(p),h=decodeURIComponent(d),r(a,f)?i(a[f])?a[f].push(h):a[f]=[a[f],h]:a[f]=h}return a};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],95:[function(e,t,n){"use strict";function r(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?r(a(e),function(a){var s=encodeURIComponent(i(a))+n;return o(e[a])?r(e[a],function(e){return s+encodeURIComponent(i(e))}).join(t):s+encodeURIComponent(i(e[a]))}).join(t):s?encodeURIComponent(i(s))+n+encodeURIComponent(i(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],96:[function(e,t,n){"use strict";n.decode=n.parse=e("./decode"),n.encode=n.stringify=e("./encode")},{"./decode":94,"./encode":95}],97:[function(e,t,n){t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":98}],98:[function(e,t,n){"use strict";function r(e){return this instanceof r?(u.call(this,e),c.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",i)):new r(e)}function i(){this.allowHalfOpen||this._writableState.ended||a.nextTick(o,this)}function o(e){e.end()}var a=e("process-nextick-args"),s=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};t.exports=r;var l=e("core-util-is");l.inherits=e("inherits");var u=e("./_stream_readable"),c=e("./_stream_writable");l.inherits(r,u);for(var p=s(c.prototype),d=0;d<p.length;d++){var f=p[d];r.prototype[f]||(r.prototype[f]=c.prototype[f])}Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(r.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),r.prototype._destroy=function(e,t){this.push(null),this.end(),a.nextTick(t,e)}},{"./_stream_readable":100,"./_stream_writable":102,"core-util-is":42,inherits:84,"process-nextick-args":90}],99:[function(e,t,n){"use strict";function r(e){return this instanceof r?void i.call(this,e):new r(e)}t.exports=r;var i=e("./_stream_transform"),o=e("core-util-is");o.inherits=e("inherits"),o.inherits(r,i),r.prototype._transform=function(e,t,n){n(null,e)}},{"./_stream_transform":101,"core-util-is":42,inherits:84}],100:[function(e,t,n){(function(n,r){"use strict";function i(e){return j.from(e)}function o(e){return j.isBuffer(e)||e instanceof P}function a(e,t,n){return"function"==typeof e.prependListener?e.prependListener(t,n):void(e._events&&e._events[t]?L(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n))}function s(t,n){k=k||e("./_stream_duplex"),t=t||{};var r=n instanceof k;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,o=t.readableHighWaterMark,a=this.objectMode?16:16384;i||0===i?this.highWaterMark=i:r&&(o||0===o)?this.highWaterMark=o:this.highWaterMark=a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new W,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Y||(Y=e("string_decoder/").StringDecoder),this.decoder=new Y(t.encoding),this.encoding=t.encoding)}function l(t){return k=k||e("./_stream_duplex"),this instanceof l?(this._readableState=new s(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),void U.call(this)):new l(t)}function u(e,t,n,r,o){var a=e._readableState;if(null===t)a.reading=!1,m(e,a);else{var s;o||(s=p(a,t)),s?e.emit("error",s):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===j.prototype||(t=i(t)),r?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):c(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?c(e,a,t,!1):g(e,a)):c(e,a,t,!1))):r||(a.reading=!1)}return d(a)}function c(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&b(e)),g(e,t)}function p(e,t){var n;return o(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function d(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function f(e){return e>=Q?e=Q:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function h(e,t){return 0>=e||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=f(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function m(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,b(e)}}function b(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(q("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?R.nextTick(y,e):y(e))}function y(e){q("emit readable"),e.emit("readable"),S(e)}function g(e,t){t.readingMore||(t.readingMore=!0,R.nextTick(_,e,t))}function _(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(q("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function v(e){return function(){var t=e._readableState;q("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&M(e,"data")&&(t.flowing=!0,S(e))}}function T(e){q("readable nexttick read 0"),e.read(0)}function E(e,t){t.resumeScheduled||(t.resumeScheduled=!0,R.nextTick(w,e,t))}function w(e,t){t.reading||(q("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),S(e),t.flowing&&!t.reading&&e.read(0)}function S(e){var t=e._readableState;for(q("flow",t.flowing);t.flowing&&null!==e.read(););}function A(e,t){if(0===t.length)return null;var n;return t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=D(e,t.buffer,t.decoder),n}function D(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?C(e,t):I(e,t),r}function C(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(i+=a===o.length?o:o.slice(0,e),e-=a,0===e){a===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++r}return t.length-=r,i}function I(e,t){var n=j.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,a),e-=a,0===e){a===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++i}return t.length-=i,n}function O(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,R.nextTick(N,t,e))}function N(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function x(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1}var R=e("process-nextick-args");t.exports=l;var k,L=e("isarray");l.ReadableState=s;var M=(e("events").EventEmitter,function(e,t){return e.listeners(t).length}),U=e("./internal/streams/stream"),j=e("safe-buffer").Buffer,P=r.Uint8Array||function(){},B=e("core-util-is");B.inherits=e("inherits");var F=e("util"),q=void 0;q=F&&F.debuglog?F.debuglog("stream"):function(){};var Y,W=e("./internal/streams/BufferList"),H=e("./internal/streams/destroy");B.inherits(l,U);var V=["error","close","destroy","pause","resume"];Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),l.prototype.destroy=H.destroy,l.prototype._undestroy=H.undestroy,l.prototype._destroy=function(e,t){this.push(null),t(e)},l.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=j.from(e,t),t=""),n=!0),u(this,e,t,!1,n)},l.prototype.unshift=function(e){return u(this,e,null,!0,!1)},l.prototype.isPaused=function(){
return this._readableState.flowing===!1},l.prototype.setEncoding=function(t){return Y||(Y=e("string_decoder/").StringDecoder),this._readableState.decoder=new Y(t),this._readableState.encoding=t,this};var Q=8388608;l.prototype.read=function(e){q("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return q("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?O(this):b(this),null;if(e=h(e,t),0===e&&t.ended)return 0===t.length&&O(this),null;var r=t.needReadable;q("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&(r=!0,q("length less than watermark",r)),t.ended||t.reading?(r=!1,q("reading or ended",r)):r&&(q("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=h(n,t)));var i;return i=e>0?A(e,t):null,null===i?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&O(this)),null!==i&&this.emit("data",i),i},l.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},l.prototype.pipe=function(e,t){function r(e,t){q("onunpipe"),e===d&&t&&t.hasUnpiped===!1&&(t.hasUnpiped=!0,o())}function i(){q("onend"),e.end()}function o(){q("cleanup"),e.removeListener("close",u),e.removeListener("finish",c),e.removeListener("drain",b),e.removeListener("error",l),e.removeListener("unpipe",r),d.removeListener("end",i),d.removeListener("end",p),d.removeListener("data",s),y=!0,!f.awaitDrain||e._writableState&&!e._writableState.needDrain||b()}function s(t){q("ondata"),g=!1;var n=e.write(t);!1!==n||g||((1===f.pipesCount&&f.pipes===e||f.pipesCount>1&&-1!==x(f.pipes,e))&&!y&&(q("false write response, pause",d._readableState.awaitDrain),d._readableState.awaitDrain++,g=!0),d.pause())}function l(t){q("onerror",t),p(),e.removeListener("error",l),0===M(e,"error")&&e.emit("error",t)}function u(){e.removeListener("finish",c),p()}function c(){q("onfinish"),e.removeListener("close",u),p()}function p(){q("unpipe"),d.unpipe(e)}var d=this,f=this._readableState;switch(f.pipesCount){case 0:f.pipes=e;break;case 1:f.pipes=[f.pipes,e];break;default:f.pipes.push(e)}f.pipesCount+=1,q("pipe count=%d opts=%j",f.pipesCount,t);var h=(!t||t.end!==!1)&&e!==n.stdout&&e!==n.stderr,m=h?i:p;f.endEmitted?R.nextTick(m):d.once("end",m),e.on("unpipe",r);var b=v(d);e.on("drain",b);var y=!1,g=!1;return d.on("data",s),a(e,"error",l),e.once("close",u),e.once("finish",c),e.emit("pipe",d),f.flowing||(q("pipe resume"),d.resume()),e},l.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;i>o;o++)r[o].emit("unpipe",this,n);return this}var a=x(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},l.prototype.on=function(e,t){var n=U.prototype.on.call(this,e,t);if("data"===e)this._readableState.flowing!==!1&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&b(this):R.nextTick(T,this))}return n},l.prototype.addListener=l.prototype.on,l.prototype.resume=function(){var e=this._readableState;return e.flowing||(q("resume"),e.flowing=!0,E(this,e)),this},l.prototype.pause=function(){return q("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(q("pause"),this._readableState.flowing=!1,this.emit("pause")),this},l.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;e.on("end",function(){if(q("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){if(q("wrapped data"),n.decoder&&(i=n.decoder.write(i)),(!n.objectMode||null!==i&&void 0!==i)&&(n.objectMode||i&&i.length)){var o=t.push(i);o||(r=!0,e.pause())}});for(var i in e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<V.length;o++)e.on(V[o],this.emit.bind(this,V[o]));return this._read=function(t){q("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(l.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),l._fromList=A}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":98,"./internal/streams/BufferList":103,"./internal/streams/destroy":104,"./internal/streams/stream":105,_process:91,"core-util-is":42,events:47,inherits:84,isarray:86,"process-nextick-args":90,"safe-buffer":110,"string_decoder/":113,util:40}],101:[function(e,t,n){"use strict";function r(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function i(e){return this instanceof i?(s.call(this,e),this._transformState={afterTransform:r.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),void this.on("prefinish",o)):new i(e)}function o(){var e=this;"function"==typeof this._flush?this._flush(function(t,n){a(e,t,n)}):a(this,null,null)}function a(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}t.exports=i;var s=e("./_stream_duplex"),l=e("core-util-is");l.inherits=e("inherits"),l.inherits(i,s),i.prototype.push=function(e,t){return this._transformState.needTransform=!1,s.prototype.push.call(this,e,t)},i.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},i.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},i.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},i.prototype._destroy=function(e,t){var n=this;s.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},{"./_stream_duplex":98,"core-util-is":42,inherits:84}],102:[function(e,t,n){(function(n,r,i){"use strict";function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){C(t,e)}}function a(e){return L.from(e)}function s(e){return L.isBuffer(e)||e instanceof M}function l(){}function u(t,n){O=O||e("./_stream_duplex"),t=t||{};var r=n instanceof O;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,a=t.writableHighWaterMark,s=this.objectMode?16:16384;i||0===i?this.highWaterMark=i:r&&(a||0===a)?this.highWaterMark=a:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var l=t.decodeStrings===!1;this.decodeStrings=!l,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){g(n,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function c(t){return O=O||e("./_stream_duplex"),j.call(c,this)||this instanceof O?(this._writableState=new u(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t["final"]&&(this._final=t["final"])),void k.call(this)):new c(t)}function p(e,t){var n=new Error("write after end");e.emit("error",n),I.nextTick(t,n)}function d(e,t,n,r){var i=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),I.nextTick(r,o),i=!1),i}function f(e,t,n){return e.objectMode||e.decodeStrings===!1||"string"!=typeof t||(t=L.from(t,n)),t}function h(e,t,n,r,i,o){if(!n){var a=f(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else m(e,t,!1,s,r,i,o);return l}function m(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function b(e,t,n,r,i){--t.pendingcb,n?(I.nextTick(i,r),I.nextTick(A,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),A(e,t))}function y(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function g(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(y(n),t)b(e,n,r,t,i);else{var o=E(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||T(e,n),r?N(_,e,n,o,i):_(e,n,o,i)}}function _(e,t,n,r){n||v(e,t),t.pendingcb--,r(),A(e,t)}function v(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function T(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var s=0,l=!0;n;)i[s]=n,n.isBuf||(l=!1),n=n.next,s+=1;i.allBuffers=l,m(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,c=n.encoding,p=n.callback,d=t.objectMode?1:u.length;if(m(e,t,!1,d,u,c,p),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function E(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function w(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),A(e,t)})}function S(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,I.nextTick(w,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function A(e,t){var n=E(t);return n&&(S(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}function D(e,t,n){t.ending=!0,A(e,t),n&&(t.finished?I.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}function C(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}var I=e("process-nextick-args");t.exports=c;var O,N=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?i:I.nextTick;c.WritableState=u;var x=e("core-util-is");x.inherits=e("inherits");var R={deprecate:e("util-deprecate")},k=e("./internal/streams/stream"),L=e("safe-buffer").Buffer,M=r.Uint8Array||function(){},U=e("./internal/streams/destroy");x.inherits(c,k),u.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(u.prototype,"buffer",{get:R.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}();var j;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(j=Function.prototype[Symbol.hasInstance],Object.defineProperty(c,Symbol.hasInstance,{value:function(e){return!!j.call(this,e)||this===c&&e&&e._writableState instanceof u}})):j=function(e){return e instanceof this},c.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},c.prototype.write=function(e,t,n){var r=this._writableState,i=!1,o=!r.objectMode&&s(e);return o&&!L.isBuffer(e)&&(e=a(e)),"function"==typeof t&&(n=t,t=null),o?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=l),r.ended?p(this,n):(o||d(this,r,e,n))&&(r.pendingcb++,i=h(this,r,o,e,t,n)),i},c.prototype.cork=function(){var e=this._writableState;e.corked++},c.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||T(this,e))},c.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),c.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},c.prototype._writev=null,c.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||D(this,r,n)},Object.defineProperty(c.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),c.prototype.destroy=U.destroy,c.prototype._undestroy=U.undestroy,c.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("timers").setImmediate)},{"./_stream_duplex":98,"./internal/streams/destroy":104,"./internal/streams/stream":105,_process:91,"core-util-is":42,inherits:84,"process-nextick-args":90,"safe-buffer":110,timers:114,"util-deprecate":115}],103:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n){e.copy(t,n)}var o=e("safe-buffer").Buffer,a=e("util");t.exports=function(){function e(){r(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return o.alloc(0);if(1===this.length)return this.head.data;for(var t=o.allocUnsafe(e>>>0),n=this.head,r=0;n;)i(n.data,t,r),r+=n.data.length,n=n.next;return t},e}(),a&&a.inspect&&a.inspect.custom&&(t.exports.prototype[a.inspect.custom]=function(){var e=a.inspect({length:this.length});return this.constructor.name+" "+e})},{"safe-buffer":110,util:40}],104:[function(e,t,n){"use strict";function r(e,t){var n=this,r=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return r||i?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||a.nextTick(o,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(a.nextTick(o,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}),this)}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(e,t){e.emit("error",t)}var a=e("process-nextick-args");t.exports={destroy:r,undestroy:i}},{"process-nextick-args":90}],105:[function(e,t,n){t.exports=e("events").EventEmitter},{events:47}],106:[function(e,t,n){t.exports=e("./readable").PassThrough},{"./readable":107}],107:[function(e,t,n){n=t.exports=e("./lib/_stream_readable.js"),n.Stream=n,n.Readable=n,n.Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":98,"./lib/_stream_passthrough.js":99,"./lib/_stream_readable.js":100,"./lib/_stream_transform.js":101,"./lib/_stream_writable.js":102}],108:[function(e,t,n){t.exports=e("./readable").Transform},{"./readable":107}],109:[function(e,t,n){t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":102}],110:[function(e,t,n){function r(e,t){for(var n in e)t[n]=e[n]}function i(e,t,n){return a(e,t,n)}var o=e("buffer"),a=o.Buffer;a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?t.exports=o:(r(o,n),n.Buffer=i),r(a,i),i.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return a(e,t,n)},i.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=a(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},i.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return a(e)},i.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o.SlowBuffer(e)}},{buffer:41}],111:[function(e,t,n){(function(t){!function(n){function r(e,t){if(!(this instanceof r))return new r(e,t);var i=this;o(i),i.q=i.c="",i.bufferCheckPosition=n.MAX_BUFFER_LENGTH,i.opt=t||{},i.opt.lowercase=i.opt.lowercase||i.opt.lowercasetags,i.looseCase=i.opt.lowercase?"toLowerCase":"toUpperCase",i.tags=[],i.closed=i.closedRoot=i.sawRoot=!1,i.tag=i.error=null,i.strict=!!e,i.noscript=!(!e&&!i.opt.noscript),i.state=W.BEGIN,i.strictEntities=i.opt.strictEntities,i.ENTITIES=i.strictEntities?Object.create(n.XML_ENTITIES):Object.create(n.ENTITIES),i.attribList=[],i.opt.xmlns&&(i.ns=Object.create(P)),i.trackPosition=i.opt.position!==!1,i.trackPosition&&(i.position=i.line=i.column=0),h(i,"onready")}function i(e){for(var t=Math.max(n.MAX_BUFFER_LENGTH,10),r=0,i=0,o=N.length;o>i;i++){var a=e[N[i]].length;if(a>t)switch(N[i]){case"textNode":b(e);break;case"cdata":m(e,"oncdata",e.cdata),e.cdata="";break;case"script":m(e,"onscript",e.script),e.script="";break;default:g(e,"Max buffer length exceeded: "+N[i])}r=Math.max(r,a)}var s=n.MAX_BUFFER_LENGTH-r;e.bufferCheckPosition=s+e.position}function o(e){for(var t=0,n=N.length;n>t;t++)e[N[t]]=""}function a(e){b(e),""!==e.cdata&&(m(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(m(e,"onscript",e.script),e.script="")}function s(e,t){return new l(e,t)}function l(e,t){if(!(this instanceof l))return new l(e,t);x.apply(this),this._parser=new r(e,t),this.writable=!0,this.readable=!0;var n=this;this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(e){n.emit("error",e),n._parser.error=null},this._decoder=null,k.forEach(function(e){Object.defineProperty(n,"on"+e,{get:function(){return n._parser["on"+e]},set:function(t){return t?void n.on(e,t):(n.removeAllListeners(e),n._parser["on"+e]=t,t)},enumerable:!0,configurable:!1})})}function u(e){return" "===e||"\n"===e||"\r"===e||"	"===e}function c(e){return'"'===e||"'"===e}function p(e){return">"===e||u(e)}function d(e,t){return e.test(t)}function f(e,t){return!d(e,t)}function h(e,t,n){e[t]&&e[t](n)}function m(e,t,n){e.textNode&&b(e),h(e,t,n)}function b(e){e.textNode=y(e.opt,e.textNode),e.textNode&&h(e,"ontext",e.textNode),e.textNode=""}function y(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function g(e,t){return b(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,h(e,"onerror",t),e}function _(e){return e.sawRoot&&!e.closedRoot&&v(e,"Unclosed root tag"),e.state!==W.BEGIN&&e.state!==W.BEGIN_WHITESPACE&&e.state!==W.TEXT&&g(e,"Unexpected end"),b(e),e.c="",e.closed=!0,h(e,"onend"),r.call(e,e.strict,e.opt),e}function v(e,t){if("object"!=typeof e||!(e instanceof r))throw new Error("bad call to strictFail");e.strict&&g(e,t)}function T(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,n=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(n.ns=t.ns),e.attribList.length=0,m(e,"onopentagstart",n)}function E(e,t){var n=e.indexOf(":"),r=0>n?["",e]:e.split(":"),i=r[0],o=r[1];return t&&"xmlns"===e&&(i="xmlns",o=""),{prefix:i,local:o}}function w(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))return void(e.attribName=e.attribValue="");if(e.opt.xmlns){var t=E(e.attribName,!0),n=t.prefix,r=t.local;if("xmlns"===n)if("xml"===r&&e.attribValue!==U)v(e,"xml: prefix must be bound to "+U+"\nActual: "+e.attribValue);else if("xmlns"===r&&e.attribValue!==j)v(e,"xmlns: prefix must be bound to "+j+"\nActual: "+e.attribValue);else{var i=e.tag,o=e.tags[e.tags.length-1]||e;i.ns===o.ns&&(i.ns=Object.create(o.ns)),i.ns[r]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,m(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}function S(e,t){if(e.opt.xmlns){var n=e.tag,r=E(e.tagName);n.prefix=r.prefix,n.local=r.local,n.uri=n.ns[r.prefix]||"",n.prefix&&!n.uri&&(v(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),n.uri=r.prefix);var i=e.tags[e.tags.length-1]||e;n.ns&&i.ns!==n.ns&&Object.keys(n.ns).forEach(function(t){m(e,"onopennamespace",{prefix:t,uri:n.ns[t]})});for(var o=0,a=e.attribList.length;a>o;o++){var s=e.attribList[o],l=s[0],u=s[1],c=E(l,!0),p=c.prefix,d=c.local,f=""===p?"":n.ns[p]||"",h={name:l,value:u,prefix:p,local:d,uri:f};p&&"xmlns"!==p&&!f&&(v(e,"Unbound namespace prefix: "+JSON.stringify(p)),h.uri=p),e.tag.attributes[l]=h,m(e,"onattribute",h)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),m(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=W.TEXT:e.state=W.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function A(e){if(!e.tagName)return v(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=W.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=W.SCRIPT);m(e,"onscript",e.script),e.script=""}var t=e.tags.length,n=e.tagName;e.strict||(n=n[e.looseCase]());for(var r=n;t--;){var i=e.tags[t];if(i.name===r)break;v(e,"Unexpected close tag")}if(0>t)return v(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=W.TEXT);e.tagName=n;for(var o=e.tags.length;o-- >t;){var a=e.tag=e.tags.pop();e.tagName=e.tag.name,m(e,"onclosetag",e.tagName);var s={};for(var l in a.ns)s[l]=a.ns[l];var u=e.tags[e.tags.length-1]||e;e.opt.xmlns&&a.ns!==u.ns&&Object.keys(a.ns).forEach(function(t){var n=a.ns[t];m(e,"onclosenamespace",{prefix:t,uri:n})})}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=W.TEXT}function D(e){var t,n=e.entity,r=n.toLowerCase(),i="";return e.ENTITIES[n]?e.ENTITIES[n]:e.ENTITIES[r]?e.ENTITIES[r]:(n=r,"#"===n.charAt(0)&&("x"===n.charAt(1)?(n=n.slice(2),t=parseInt(n,16),i=t.toString(16)):(n=n.slice(1),t=parseInt(n,10),i=t.toString(10))),n=n.replace(/^0+/,""),isNaN(t)||i.toLowerCase()!==n?(v(e,"Invalid character entity"),"&"+e.entity+";"):String.fromCodePoint(t))}function C(e,t){"<"===t?(e.state=W.OPEN_WAKA,e.startTagPosition=e.position):u(t)||(v(e,"Non-whitespace before first tag."),e.textNode=t,e.state=W.TEXT)}function I(e,t){var n="";return t<e.length&&(n=e.charAt(t)),n}function O(e){var t=this;if(this.error)throw this.error;if(t.closed)return g(t,"Cannot write after close. Assign an onready handler.");if(null===e)return _(t);"object"==typeof e&&(e=e.toString());for(var n=0,r="";r=I(e,n++),t.c=r,r;)switch(t.trackPosition&&(t.position++,"\n"===r?(t.line++,t.column=0):t.column++),t.state){case W.BEGIN:if(t.state=W.BEGIN_WHITESPACE,"\ufeff"===r)continue;C(t,r);continue;case W.BEGIN_WHITESPACE:C(t,r);continue;case W.TEXT:if(t.sawRoot&&!t.closedRoot){for(var o=n-1;r&&"<"!==r&&"&"!==r;)r=I(e,n++),r&&t.trackPosition&&(t.position++,"\n"===r?(t.line++,t.column=0):t.column++);t.textNode+=e.substring(o,n-1)}"<"!==r||t.sawRoot&&t.closedRoot&&!t.strict?(u(r)||t.sawRoot&&!t.closedRoot||v(t,"Text data outside of root node."),"&"===r?t.state=W.TEXT_ENTITY:t.textNode+=r):(t.state=W.OPEN_WAKA,t.startTagPosition=t.position);continue;case W.SCRIPT:"<"===r?t.state=W.SCRIPT_ENDING:t.script+=r;continue;case W.SCRIPT_ENDING:"/"===r?t.state=W.CLOSE_TAG:(t.script+="<"+r,t.state=W.SCRIPT);continue;case W.OPEN_WAKA:if("!"===r)t.state=W.SGML_DECL,t.sgmlDecl="";else if(u(r));else if(d(B,r))t.state=W.OPEN_TAG,t.tagName=r;else if("/"===r)t.state=W.CLOSE_TAG,t.tagName="";else if("?"===r)t.state=W.PROC_INST,t.procInstName=t.procInstBody="";else{if(v(t,"Unencoded <"),t.startTagPosition+1<t.position){var a=t.position-t.startTagPosition;r=new Array(a).join(" ")+r}t.textNode+="<"+r,t.state=W.TEXT}continue;case W.SGML_DECL:(t.sgmlDecl+r).toUpperCase()===L?(m(t,"onopencdata"),t.state=W.CDATA,t.sgmlDecl="",t.cdata=""):t.sgmlDecl+r==="--"?(t.state=W.COMMENT,t.comment="",t.sgmlDecl=""):(t.sgmlDecl+r).toUpperCase()===M?(t.state=W.DOCTYPE,(t.doctype||t.sawRoot)&&v(t,"Inappropriately located doctype declaration"),t.doctype="",t.sgmlDecl=""):">"===r?(m(t,"onsgmldeclaration",t.sgmlDecl),t.sgmlDecl="",t.state=W.TEXT):c(r)?(t.state=W.SGML_DECL_QUOTED,t.sgmlDecl+=r):t.sgmlDecl+=r;continue;case W.SGML_DECL_QUOTED:r===t.q&&(t.state=W.SGML_DECL,t.q=""),t.sgmlDecl+=r;continue;case W.DOCTYPE:">"===r?(t.state=W.TEXT,m(t,"ondoctype",t.doctype),t.doctype=!0):(t.doctype+=r,"["===r?t.state=W.DOCTYPE_DTD:c(r)&&(t.state=W.DOCTYPE_QUOTED,t.q=r));continue;case W.DOCTYPE_QUOTED:t.doctype+=r,r===t.q&&(t.q="",t.state=W.DOCTYPE);continue;case W.DOCTYPE_DTD:t.doctype+=r,"]"===r?t.state=W.DOCTYPE:c(r)&&(t.state=W.DOCTYPE_DTD_QUOTED,t.q=r);continue;case W.DOCTYPE_DTD_QUOTED:t.doctype+=r,r===t.q&&(t.state=W.DOCTYPE_DTD,t.q="");continue;case W.COMMENT:"-"===r?t.state=W.COMMENT_ENDING:t.comment+=r;continue;case W.COMMENT_ENDING:"-"===r?(t.state=W.COMMENT_ENDED,t.comment=y(t.opt,t.comment),t.comment&&m(t,"oncomment",t.comment),t.comment=""):(t.comment+="-"+r,t.state=W.COMMENT);continue;case W.COMMENT_ENDED:">"!==r?(v(t,"Malformed comment"),t.comment+="--"+r,t.state=W.COMMENT):t.state=W.TEXT;continue;case W.CDATA:"]"===r?t.state=W.CDATA_ENDING:t.cdata+=r;continue;case W.CDATA_ENDING:"]"===r?t.state=W.CDATA_ENDING_2:(t.cdata+="]"+r,t.state=W.CDATA);continue;case W.CDATA_ENDING_2:">"===r?(t.cdata&&m(t,"oncdata",t.cdata),m(t,"onclosecdata"),t.cdata="",t.state=W.TEXT):"]"===r?t.cdata+="]":(t.cdata+="]]"+r,t.state=W.CDATA);continue;case W.PROC_INST:"?"===r?t.state=W.PROC_INST_ENDING:u(r)?t.state=W.PROC_INST_BODY:t.procInstName+=r;continue;case W.PROC_INST_BODY:if(!t.procInstBody&&u(r))continue;"?"===r?t.state=W.PROC_INST_ENDING:t.procInstBody+=r;continue;case W.PROC_INST_ENDING:">"===r?(m(t,"onprocessinginstruction",{name:t.procInstName,body:t.procInstBody}),t.procInstName=t.procInstBody="",t.state=W.TEXT):(t.procInstBody+="?"+r,t.state=W.PROC_INST_BODY);continue;case W.OPEN_TAG:d(F,r)?t.tagName+=r:(T(t),">"===r?S(t):"/"===r?t.state=W.OPEN_TAG_SLASH:(u(r)||v(t,"Invalid character in tag name"),t.state=W.ATTRIB));continue;case W.OPEN_TAG_SLASH:">"===r?(S(t,!0),A(t)):(v(t,"Forward-slash in opening tag not followed by >"),t.state=W.ATTRIB);continue;case W.ATTRIB:if(u(r))continue;">"===r?S(t):"/"===r?t.state=W.OPEN_TAG_SLASH:d(B,r)?(t.attribName=r,t.attribValue="",t.state=W.ATTRIB_NAME):v(t,"Invalid attribute name");continue;case W.ATTRIB_NAME:"="===r?t.state=W.ATTRIB_VALUE:">"===r?(v(t,"Attribute without value"),t.attribValue=t.attribName,w(t),S(t)):u(r)?t.state=W.ATTRIB_NAME_SAW_WHITE:d(F,r)?t.attribName+=r:v(t,"Invalid attribute name");continue;case W.ATTRIB_NAME_SAW_WHITE:if("="===r)t.state=W.ATTRIB_VALUE;else{if(u(r))continue;v(t,"Attribute without value"),t.tag.attributes[t.attribName]="",t.attribValue="",m(t,"onattribute",{name:t.attribName,value:""}),t.attribName="",">"===r?S(t):d(B,r)?(t.attribName=r,t.state=W.ATTRIB_NAME):(v(t,"Invalid attribute name"),t.state=W.ATTRIB)}continue;case W.ATTRIB_VALUE:if(u(r))continue;c(r)?(t.q=r,t.state=W.ATTRIB_VALUE_QUOTED):(v(t,"Unquoted attribute value"),t.state=W.ATTRIB_VALUE_UNQUOTED,t.attribValue=r);continue;case W.ATTRIB_VALUE_QUOTED:if(r!==t.q){"&"===r?t.state=W.ATTRIB_VALUE_ENTITY_Q:t.attribValue+=r;continue}w(t),t.q="",t.state=W.ATTRIB_VALUE_CLOSED;continue;case W.ATTRIB_VALUE_CLOSED:u(r)?t.state=W.ATTRIB:">"===r?S(t):"/"===r?t.state=W.OPEN_TAG_SLASH:d(B,r)?(v(t,"No whitespace between attributes"),t.attribName=r,t.attribValue="",t.state=W.ATTRIB_NAME):v(t,"Invalid attribute name");continue;case W.ATTRIB_VALUE_UNQUOTED:if(!p(r)){"&"===r?t.state=W.ATTRIB_VALUE_ENTITY_U:t.attribValue+=r;continue}w(t),">"===r?S(t):t.state=W.ATTRIB;continue;case W.CLOSE_TAG:if(t.tagName)">"===r?A(t):d(F,r)?t.tagName+=r:t.script?(t.script+="</"+t.tagName,t.tagName="",t.state=W.SCRIPT):(u(r)||v(t,"Invalid tagname in closing tag"),t.state=W.CLOSE_TAG_SAW_WHITE);else{if(u(r))continue;f(B,r)?t.script?(t.script+="</"+r,t.state=W.SCRIPT):v(t,"Invalid tagname in closing tag."):t.tagName=r}continue;case W.CLOSE_TAG_SAW_WHITE:if(u(r))continue;">"===r?A(t):v(t,"Invalid characters in closing tag");continue;case W.TEXT_ENTITY:case W.ATTRIB_VALUE_ENTITY_Q:case W.ATTRIB_VALUE_ENTITY_U:var s,l;switch(t.state){case W.TEXT_ENTITY:s=W.TEXT,l="textNode";break;case W.ATTRIB_VALUE_ENTITY_Q:s=W.ATTRIB_VALUE_QUOTED,l="attribValue";break;case W.ATTRIB_VALUE_ENTITY_U:s=W.ATTRIB_VALUE_UNQUOTED,l="attribValue"}";"===r?(t[l]+=D(t),t.entity="",t.state=s):d(t.entity.length?Y:q,r)?t.entity+=r:(v(t,"Invalid character in entity name"),t[l]+="&"+t.entity+r,t.entity="",t.state=s);continue;default:throw new Error(t,"Unknown state: "+t.state)}return t.position>=t.bufferCheckPosition&&i(t),t}n.parser=function(e,t){return new r(e,t)},n.SAXParser=r,n.SAXStream=l,n.createStream=s,n.MAX_BUFFER_LENGTH=65536;var N=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];n.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function t(){}t.prototype=e;var n=new t;return n}),Object.keys||(Object.keys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}),r.prototype={end:function(){_(this)},write:O,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){a(this)}};var x;try{x=e("stream").Stream}catch(R){x=function(){}}var k=n.EVENTS.filter(function(e){return"error"!==e&&"end"!==e});
l.prototype=Object.create(x.prototype,{constructor:{value:l}}),l.prototype.write=function(n){if("function"==typeof t&&"function"==typeof t.isBuffer&&t.isBuffer(n)){if(!this._decoder){var r=e("string_decoder").StringDecoder;this._decoder=new r("utf8")}n=this._decoder.write(n)}return this._parser.write(n.toString()),this.emit("data",n),!0},l.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},l.prototype.on=function(e,t){var n=this;return n._parser["on"+e]||-1===k.indexOf(e)||(n._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),n.emit.apply(n,t)}),x.prototype.on.call(n,e,t)};var L="[CDATA[",M="DOCTYPE",U="http://www.w3.org/XML/1998/namespace",j="http://www.w3.org/2000/xmlns/",P={xml:U,xmlns:j},B=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,F=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,q=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Y=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,W=0;n.STATE={BEGIN:W++,BEGIN_WHITESPACE:W++,TEXT:W++,TEXT_ENTITY:W++,OPEN_WAKA:W++,SGML_DECL:W++,SGML_DECL_QUOTED:W++,DOCTYPE:W++,DOCTYPE_QUOTED:W++,DOCTYPE_DTD:W++,DOCTYPE_DTD_QUOTED:W++,COMMENT_STARTING:W++,COMMENT:W++,COMMENT_ENDING:W++,COMMENT_ENDED:W++,CDATA:W++,CDATA_ENDING:W++,CDATA_ENDING_2:W++,PROC_INST:W++,PROC_INST_BODY:W++,PROC_INST_ENDING:W++,OPEN_TAG:W++,OPEN_TAG_SLASH:W++,ATTRIB:W++,ATTRIB_NAME:W++,ATTRIB_NAME_SAW_WHITE:W++,ATTRIB_VALUE:W++,ATTRIB_VALUE_QUOTED:W++,ATTRIB_VALUE_CLOSED:W++,ATTRIB_VALUE_UNQUOTED:W++,ATTRIB_VALUE_ENTITY_Q:W++,ATTRIB_VALUE_ENTITY_U:W++,CLOSE_TAG:W++,CLOSE_TAG_SAW_WHITE:W++,SCRIPT:W++,SCRIPT_ENDING:W++},n.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},n.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(n.ENTITIES).forEach(function(e){var t=n.ENTITIES[e],r="number"==typeof t?String.fromCharCode(t):t;n.ENTITIES[e]=r});for(var H in n.STATE)n.STATE[n.STATE[H]]=H;W=n.STATE,String.fromCodePoint||!function(){var e=String.fromCharCode,t=Math.floor,n=function(){var n,r,i=16384,o=[],a=-1,s=arguments.length;if(!s)return"";for(var l="";++a<s;){var u=Number(arguments[a]);if(!isFinite(u)||0>u||u>1114111||t(u)!==u)throw RangeError("Invalid code point: "+u);65535>=u?o.push(u):(u-=65536,n=(u>>10)+55296,r=u%1024+56320,o.push(n,r)),(a+1===s||o.length>i)&&(l+=e.apply(null,o),o.length=0)}return l};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:n,configurable:!0,writable:!0}):String.fromCodePoint=n}()}("undefined"==typeof n?this.sax={}:n)}).call(this,e("buffer").Buffer)},{buffer:41,stream:112,string_decoder:113}],112:[function(e,t,n){function r(){i.call(this)}t.exports=r;var i=e("events").EventEmitter,o=e("inherits");o(r,i),r.Readable=e("readable-stream/readable.js"),r.Writable=e("readable-stream/writable.js"),r.Duplex=e("readable-stream/duplex.js"),r.Transform=e("readable-stream/transform.js"),r.PassThrough=e("readable-stream/passthrough.js"),r.Stream=r,r.prototype.pipe=function(e,t){function n(t){e.writable&&!1===e.write(t)&&u.pause&&u.pause()}function r(){u.readable&&u.resume&&u.resume()}function o(){c||(c=!0,e.end())}function a(){c||(c=!0,"function"==typeof e.destroy&&e.destroy())}function s(e){if(l(),0===i.listenerCount(this,"error"))throw e}function l(){u.removeListener("data",n),e.removeListener("drain",r),u.removeListener("end",o),u.removeListener("close",a),u.removeListener("error",s),e.removeListener("error",s),u.removeListener("end",l),u.removeListener("close",l),e.removeListener("close",l)}var u=this;u.on("data",n),e.on("drain",r),e._isStdio||t&&t.end===!1||(u.on("end",o),u.on("close",a));var c=!1;return u.on("error",s),e.on("error",s),u.on("end",l),u.on("close",l),e.on("close",l),e.emit("pipe",u),e}},{events:47,inherits:84,"readable-stream/duplex.js":97,"readable-stream/passthrough.js":106,"readable-stream/readable.js":107,"readable-stream/transform.js":108,"readable-stream/writable.js":109}],113:[function(e,t,n){"use strict";function r(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function i(e){var t=r(e);if("string"!=typeof t&&(g.isEncoding===_||!_(e)))throw new Error("Unknown encoding: "+e);return t||e}function o(e){this.encoding=i(e);var t;switch(this.encoding){case"utf16le":this.text=d,this.end=f,t=4;break;case"utf8":this.fillLast=u,t=4;break;case"base64":this.text=h,this.end=m,t=3;break;default:return this.write=b,void(this.end=y)}this.lastNeed=0,this.lastTotal=0,this.lastChar=g.allocUnsafe(t)}function a(e){return 127>=e?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function s(e,t,n){var r=t.length-1;if(n>r)return 0;var i=a(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||-2===i?0:(i=a(t[r]),i>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||-2===i?0:(i=a(t[r]),i>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0))}function l(e,t,n){if(128!==(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,""}}function u(e){var t=this.lastTotal-this.lastNeed,n=l(this,e,t);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){var n=s(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)}function p(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t}function d(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&56319>=r)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function f(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function h(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function m(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function b(e){return e.toString(this.encoding)}function y(e){return e&&e.length?this.write(e):""}var g=e("safe-buffer").Buffer,_=g.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};n.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(t=this.fillLast(e),void 0===t)return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=p,o.prototype.text=c,o.prototype.fillLast=function(e){return this.lastNeed<=e.length?(e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),void(this.lastNeed-=e.length))}},{"safe-buffer":110}],114:[function(e,t,n){(function(t,r){function i(e,t){this._id=e,this._clearFn=t}var o=e("process/browser.js").nextTick,a=Function.prototype.apply,s=Array.prototype.slice,l={},u=0;n.setTimeout=function(){return new i(a.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new i(a.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n.setImmediate="function"==typeof t?t:function(e){var t=u++,r=!(arguments.length<2)&&s.call(arguments,1);return l[t]=!0,o(function(){l[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))}),t},n.clearImmediate="function"==typeof r?r:function(e){delete l[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":91,timers:114}],115:[function(e,t,n){(function(e){function n(e,t){function n(){if(!i){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),i=!0}return e.apply(this,arguments)}if(r("noDeprecation"))return e;var i=!1;return n}function r(t){try{if(!e.localStorage)return!1}catch(n){return!1}var r=e.localStorage[t];return null!=r&&"true"===String(r).toLowerCase()}t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],116:[function(e,t,n){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],117:[function(e,t,n){(function(t,r){function i(e,t){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),m(t)?r.showHidden=t:t&&n._extend(r,t),T(r.showHidden)&&(r.showHidden=!1),T(r.depth)&&(r.depth=2),T(r.colors)&&(r.colors=!1),T(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),l(r,e,r.depth)}function o(e,t){var n=i.styles[t];return n?"["+i.colors[n][0]+"m"+e+"["+i.colors[n][1]+"m":e}function a(e,t){return e}function s(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function l(e,t,r){if(e.customInspect&&t&&D(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(r,e);return _(i)||(i=l(e,i,r)),i}var o=u(e,t);if(o)return o;var a=Object.keys(t),m=s(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),A(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return c(t);if(0===a.length){if(D(t)){var b=t.name?": "+t.name:"";return e.stylize("[Function"+b+"]","special")}if(E(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(S(t))return e.stylize(Date.prototype.toString.call(t),"date");if(A(t))return c(t)}var y="",g=!1,v=["{","}"];if(h(t)&&(g=!0,v=["[","]"]),D(t)){var T=t.name?": "+t.name:"";y=" [Function"+T+"]"}if(E(t)&&(y=" "+RegExp.prototype.toString.call(t)),S(t)&&(y=" "+Date.prototype.toUTCString.call(t)),A(t)&&(y=" "+c(t)),0===a.length&&(!g||0==t.length))return v[0]+y+v[1];if(0>r)return E(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var w;return w=g?p(e,t,r,m,a):a.map(function(n){return d(e,t,r,m,n,g)}),e.seen.pop(),f(w,y,v)}function u(e,t){if(T(t))return e.stylize("undefined","undefined");if(_(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return g(t)?e.stylize(""+t,"number"):m(t)?e.stylize(""+t,"boolean"):b(t)?e.stylize("null","null"):void 0}function c(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,n,r,i){for(var o=[],a=0,s=t.length;s>a;++a)x(t,String(a))?o.push(d(e,t,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(d(e,t,n,r,i,!0))}),o}function d(e,t,n,r,i,o){var a,s,u;if(u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},u.get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),x(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=b(n)?l(e,u.value,null):l(e,u.value,n-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n"))):s=e.stylize("[Circular]","special")),T(a)){if(o&&i.match(/^\d+$/))return s;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function f(e,t,n){var r=0,i=e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function h(e){return Array.isArray(e)}function m(e){return"boolean"==typeof e}function b(e){return null===e}function y(e){return null==e}function g(e){return"number"==typeof e}function _(e){return"string"==typeof e}function v(e){return"symbol"==typeof e}function T(e){return void 0===e}function E(e){return w(e)&&"[object RegExp]"===I(e)}function w(e){return"object"==typeof e&&null!==e}function S(e){return w(e)&&"[object Date]"===I(e)}function A(e){return w(e)&&("[object Error]"===I(e)||e instanceof Error)}function D(e){return"function"==typeof e}function C(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function I(e){return Object.prototype.toString.call(e)}function O(e){return 10>e?"0"+e.toString(10):e.toString(10)}function N(){var e=new Date,t=[O(e.getHours()),O(e.getMinutes()),O(e.getSeconds())].join(":");return[e.getDate(),M[e.getMonth()],t].join(" ")}function x(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var R=/%[sdj%]/g;n.format=function(e){if(!_(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,o=r.length,a=String(e).replace(R,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}}),s=r[n];o>n;s=r[++n])a+=b(s)||!w(s)?" "+s:" "+i(s);return a},n.deprecate=function(e,i){function o(){if(!a){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation?console.trace(i):console.error(i),a=!0}return e.apply(this,arguments)}if(T(r.process))return function(){return n.deprecate(e,i).apply(this,arguments)};if(t.noDeprecation===!0)return e;var a=!1;return o};var k,L={};n.debuglog=function(e){if(T(k)&&(k=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!L[e])if(new RegExp("\\b"+e+"\\b","i").test(k)){var r=t.pid;L[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,r,t)}}else L[e]=function(){};return L[e]},n.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=h,n.isBoolean=m,n.isNull=b,n.isNullOrUndefined=y,n.isNumber=g,n.isString=_,n.isSymbol=v,n.isUndefined=T,n.isRegExp=E,n.isObject=w,n.isDate=S,n.isError=A,n.isFunction=D,n.isPrimitive=C,n.isBuffer=e("./support/isBuffer");var M=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",N(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!w(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":116,_process:91,inherits:84}],118:[function(e,t,n){(function(){"use strict";n.stripBOM=function(e){return"\ufeff"===e[0]?e.substring(1):e}}).call(this)},{}],119:[function(e,t,n){(function(){"use strict";var t,r,i,o,a,s={}.hasOwnProperty;t=e("xmlbuilder"),r=e("./defaults").defaults,o=function(e){return"string"==typeof e&&(e.indexOf("&")>=0||e.indexOf(">")>=0||e.indexOf("<")>=0)},a=function(e){return"<![CDATA["+i(e)+"]]>"},i=function(e){return e.replace("]]>","]]]]><![CDATA[>")},n.Builder=function(){function e(e){var t,n,i;this.options={},n=r[.2];for(t in n)s.call(n,t)&&(i=n[t],this.options[t]=i);for(t in e)s.call(e,t)&&(i=e[t],this.options[t]=i)}return e.prototype.buildObject=function(e){var n,i,l,u,c;return n=this.options.attrkey,i=this.options.charkey,1===Object.keys(e).length&&this.options.rootName===r[.2].rootName?(c=Object.keys(e)[0],e=e[c]):c=this.options.rootName,l=function(e){return function(t,r){var u,c,p,d,f,h;if("object"!=typeof r)e.options.cdata&&o(r)?t.raw(a(r)):t.txt(r);else if(Array.isArray(r)){for(d in r)if(s.call(r,d)){c=r[d];for(f in c)p=c[f],t=l(t.ele(f),p).up()}}else for(f in r)if(s.call(r,f))if(c=r[f],f===n){if("object"==typeof c)for(u in c)h=c[u],t=t.att(u,h)}else if(f===i)t=e.options.cdata&&o(c)?t.raw(a(c)):t.txt(c);else if(Array.isArray(c))for(d in c)s.call(c,d)&&(p=c[d],t="string"==typeof p?e.options.cdata&&o(p)?t.ele(f).raw(a(p)).up():t.ele(f,p).up():l(t.ele(f),p).up());else"object"==typeof c?t=l(t.ele(f),c).up():"string"==typeof c&&e.options.cdata&&o(c)?t=t.ele(f).raw(a(c)).up():(null==c&&(c=""),t=t.ele(f,c.toString()).up());return t}}(this),u=t.create(c,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),l(u,e).end(this.options.renderOpts)},e}()}).call(this)},{"./defaults":120,xmlbuilder:145}],120:[function(e,t,n){(function(){n.defaults={.1:{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},.2:{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:"\n"},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(this)},{}],121:[function(e,t,n){(function(){"use strict";var t,r,i,o,a,s,l,u,c=function(e,t){return function(){return e.apply(t,arguments)}},p=function(e,t){function n(){this.constructor=e}for(var r in t)d.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},d={}.hasOwnProperty;l=e("sax"),i=e("events"),t=e("./bom"),s=e("./processors"),u=e("timers").setImmediate,r=e("./defaults").defaults,o=function(e){return"object"==typeof e&&null!=e&&0===Object.keys(e).length},a=function(e,t,n){var r,i,o;for(r=0,i=e.length;i>r;r++)o=e[r],t=o(t,n);return t},n.Parser=function(e){function i(e){this.parseString=c(this.parseString,this),this.reset=c(this.reset,this),this.assignOrPush=c(this.assignOrPush,this),this.processAsync=c(this.processAsync,this);var t,i,o;if(!(this instanceof n.Parser))return new n.Parser(e);this.options={},i=r[.2];for(t in i)d.call(i,t)&&(o=i[t],this.options[t]=o);for(t in e)d.call(e,t)&&(o=e[t],this.options[t]=o);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(s.normalize)),this.reset()}return p(i,e),i.prototype.processAsync=function(){var e,t;try{return this.remaining.length<=this.options.chunkSize?(e=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(e),this.saxParser.close()):(e=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(e),u(this.processAsync))}catch(n){if(t=n,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(t)}},i.prototype.assignOrPush=function(e,t,n){return t in e?(e[t]instanceof Array||(e[t]=[e[t]]),e[t].push(n)):this.options.explicitArray?e[t]=[n]:e[t]=n},i.prototype.reset=function(){var e,t,n,r;return this.removeAllListeners(),this.saxParser=l.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=function(e){return function(t){return e.saxParser.resume(),e.saxParser.errThrown?void 0:(e.saxParser.errThrown=!0,e.emit("error",t))}}(this),this.saxParser.onend=function(e){return function(){return e.saxParser.ended?void 0:(e.saxParser.ended=!0,e.emit("end",e.resultObject))}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,r=[],e=this.options.attrkey,t=this.options.charkey,this.saxParser.onopentag=function(n){return function(i){var o,s,l,u,c;if(l={},l[t]="",!n.options.ignoreAttrs){c=i.attributes;for(o in c)d.call(c,o)&&(e in l||n.options.mergeAttrs||(l[e]={}),s=n.options.attrValueProcessors?a(n.options.attrValueProcessors,i.attributes[o],o):i.attributes[o],u=n.options.attrNameProcessors?a(n.options.attrNameProcessors,o):o,n.options.mergeAttrs?n.assignOrPush(l,u,s):l[e][u]=s)}return l["#name"]=n.options.tagNameProcessors?a(n.options.tagNameProcessors,i.name):i.name,n.options.xmlns&&(l[n.options.xmlnskey]={uri:i.uri,local:i.local}),r.push(l)}}(this),this.saxParser.onclosetag=function(e){return function(){var n,i,s,l,u,c,p,f,h,m;if(c=r.pop(),u=c["#name"],e.options.explicitChildren&&e.options.preserveChildrenOrder||delete c["#name"],c.cdata===!0&&(n=c.cdata,delete c.cdata),h=r[r.length-1],c[t].match(/^\s*$/)&&!n?(i=c[t],delete c[t]):(e.options.trim&&(c[t]=c[t].trim()),e.options.normalize&&(c[t]=c[t].replace(/\s{2,}/g," ").trim()),c[t]=e.options.valueProcessors?a(e.options.valueProcessors,c[t],u):c[t],1===Object.keys(c).length&&t in c&&!e.EXPLICIT_CHARKEY&&(c=c[t])),o(c)&&(c=""!==e.options.emptyTag?e.options.emptyTag:i),null!=e.options.validator&&(m="/"+function(){var e,t,n;for(n=[],e=0,t=r.length;t>e;e++)l=r[e],n.push(l["#name"]);return n}().concat(u).join("/"),function(){var t;try{return c=e.options.validator(m,h&&h[u],c)}catch(n){return t=n,e.emit("error",t)}}()),e.options.explicitChildren&&!e.options.mergeAttrs&&"object"==typeof c)if(e.options.preserveChildrenOrder){if(h){h[e.options.childkey]=h[e.options.childkey]||[],p={};for(s in c)d.call(c,s)&&(p[s]=c[s]);h[e.options.childkey].push(p),delete c["#name"],1===Object.keys(c).length&&t in c&&!e.EXPLICIT_CHARKEY&&(c=c[t])}}else l={},e.options.attrkey in c&&(l[e.options.attrkey]=c[e.options.attrkey],delete c[e.options.attrkey]),!e.options.charsAsChildren&&e.options.charkey in c&&(l[e.options.charkey]=c[e.options.charkey],delete c[e.options.charkey]),Object.getOwnPropertyNames(c).length>0&&(l[e.options.childkey]=c),c=l;return r.length>0?e.assignOrPush(h,u,c):(e.options.explicitRoot&&(f=c,c={},c[u]=f),e.resultObject=c,e.saxParser.ended=!0,e.emit("end",e.resultObject))}}(this),n=function(e){return function(n){var i,o;return(o=r[r.length-1])?(o[t]+=n,e.options.explicitChildren&&e.options.preserveChildrenOrder&&e.options.charsAsChildren&&(e.options.includeWhiteChars||""!==n.replace(/\\n/g,"").trim())&&(o[e.options.childkey]=o[e.options.childkey]||[],i={"#name":"__text__"},i[t]=n,e.options.normalize&&(i[t]=i[t].replace(/\s{2,}/g," ").trim()),o[e.options.childkey].push(i)),o):void 0}}(this),this.saxParser.ontext=n,this.saxParser.oncdata=function(e){return function(e){var t;return(t=n(e))?t.cdata=!0:void 0}}(this)},i.prototype.parseString=function(e,n){var r;null!=n&&"function"==typeof n&&(this.on("end",function(e){return this.reset(),n(null,e)}),this.on("error",function(e){return this.reset(),n(e)}));try{return e=e.toString(),""===e.trim()?(this.emit("end",null),!0):(e=t.stripBOM(e),this.options.async?(this.remaining=e,u(this.processAsync),this.saxParser):this.saxParser.write(e).close())}catch(i){if(r=i,!this.saxParser.errThrown&&!this.saxParser.ended)return this.emit("error",r),this.saxParser.errThrown=!0;if(this.saxParser.ended)throw r}},i}(i.EventEmitter),n.parseString=function(e,t,r){var i,o,a;return null!=r?("function"==typeof r&&(i=r),"object"==typeof t&&(o=t)):("function"==typeof t&&(i=t),o={}),a=new n.Parser(o),a.parseString(e,i)}}).call(this)},{"./bom":118,"./defaults":120,"./processors":122,events:47,sax:111,timers:114}],122:[function(e,t,n){(function(){"use strict";var e;e=new RegExp(/(?!xmlns)^.*:/),n.normalize=function(e){return e.toLowerCase()},n.firstCharLowerCase=function(e){return e.charAt(0).toLowerCase()+e.slice(1)},n.stripPrefix=function(t){return t.replace(e,"")},n.parseNumbers=function(e){return isNaN(e)||(e=e%1===0?parseInt(e,10):parseFloat(e)),e},n.parseBooleans=function(e){return/^(?:true|false)$/i.test(e)&&(e="true"===e.toLowerCase()),e}}).call(this)},{}],123:[function(e,t,n){(function(){"use strict";var t,r,i,o,a=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s={}.hasOwnProperty;r=e("./defaults"),t=e("./builder"),i=e("./parser"),o=e("./processors"),n.defaults=r.defaults,n.processors=o,n.ValidationError=function(e){function t(e){this.message=e}return a(t,e),t}(Error),n.Builder=t.Builder,n.Parser=i.Parser,n.parseString=i.parseString}).call(this)},{"./builder":119,"./defaults":120,"./parser":121,"./processors":122}],124:[function(e,t,n){(function(){var e,n,r,i,o,a,s=[].slice,l={}.hasOwnProperty;e=function(){var e,t,n,r,o,a;if(a=arguments[0],o=2<=arguments.length?s.call(arguments,1):[],i(Object.assign))Object.assign.apply(null,arguments);else for(e=0,n=o.length;n>e;e++)if(r=o[e],null!=r)for(t in r)l.call(r,t)&&(a[t]=r[t]);return a},i=function(e){return!!e&&"[object Function]"===Object.prototype.toString.call(e)},o=function(e){var t;return!!e&&("function"==(t=typeof e)||"object"===t)},n=function(e){return i(Array.isArray)?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},r=function(e){var t;if(n(e))return!e.length;for(t in e)if(l.call(e,t))return!1;return!0},a=function(e){var t,n;return o(e)&&(n=Object.getPrototypeOf(e))&&(t=n.constructor)&&"function"==typeof t&&t instanceof t&&Function.prototype.toString.call(t)===Function.prototype.toString.call(Object)},t.exports.assign=e,t.exports.isFunction=i,t.exports.isObject=o,t.exports.isArray=n,t.exports.isEmpty=r,t.exports.isPlainObject=a}).call(this)},{}],125:[function(e,t,n){(function(){var e;t.exports=e=function(){function e(e,t,n){if(this.options=e.options,this.stringify=e.stringify,null==t)throw new Error("Missing attribute name of element "+e.name);if(null==n)throw new Error("Missing attribute value for attribute "+t+" of element "+e.name);this.name=this.stringify.attName(t),this.value=this.stringify.attValue(n)}return e.prototype.clone=function(){return Object.create(this)},e.prototype.toString=function(e){return this.options.writer.set(e).attribute(this)},e}()}).call(this)},{}],126:[function(e,t,n){(function(){var n,r,i=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;r=e("./XMLNode"),t.exports=n=function(e){function t(e,n){if(t.__super__.constructor.call(this,e),null==n)throw new Error("Missing CDATA text");this.text=this.stringify.cdata(n)}return i(t,e),t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(e){return this.options.writer.set(e).cdata(this)},t}(r)}).call(this)},{"./XMLNode":137}],127:[function(e,t,n){(function(){var n,r,i=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;r=e("./XMLNode"),t.exports=n=function(e){function t(e,n){if(t.__super__.constructor.call(this,e),null==n)throw new Error("Missing comment text");this.text=this.stringify.comment(n)}return i(t,e),t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(e){return this.options.writer.set(e).comment(this)},t}(r)}).call(this)},{"./XMLNode":137}],128:[function(e,t,n){(function(){var n,r,i=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;r=e("./XMLNode"),t.exports=n=function(e){function t(e,n,r,i,o,a){if(t.__super__.constructor.call(this,e),null==n)throw new Error("Missing DTD element name");if(null==r)throw new Error("Missing DTD attribute name");if(!i)throw new Error("Missing DTD attribute type");if(!o)throw new Error("Missing DTD attribute default");if(0!==o.indexOf("#")&&(o="#"+o),!o.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT");
if(a&&!o.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT");this.elementName=this.stringify.eleName(n),this.attributeName=this.stringify.attName(r),this.attributeType=this.stringify.dtdAttType(i),this.defaultValue=this.stringify.dtdAttDefault(a),this.defaultValueType=o}return i(t,e),t.prototype.toString=function(e){return this.options.writer.set(e).dtdAttList(this)},t}(r)}).call(this)},{"./XMLNode":137}],129:[function(e,t,n){(function(){var n,r,i=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;r=e("./XMLNode"),t.exports=n=function(e){function t(e,n,r){if(t.__super__.constructor.call(this,e),null==n)throw new Error("Missing DTD element name");r||(r="(#PCDATA)"),Array.isArray(r)&&(r="("+r.join(",")+")"),this.name=this.stringify.eleName(n),this.value=this.stringify.dtdElementValue(r)}return i(t,e),t.prototype.toString=function(e){return this.options.writer.set(e).dtdElement(this)},t}(r)}).call(this)},{"./XMLNode":137}],130:[function(e,t,n){(function(){var n,r,i,o=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;i=e("./Utility").isObject,r=e("./XMLNode"),t.exports=n=function(e){function t(e,n,r,o){if(t.__super__.constructor.call(this,e),null==r)throw new Error("Missing entity name");if(null==o)throw new Error("Missing entity value");if(this.pe=!!n,this.name=this.stringify.eleName(r),i(o)){if(!o.pubID&&!o.sysID)throw new Error("Public and/or system identifiers are required for an external entity");if(o.pubID&&!o.sysID)throw new Error("System identifier is required for a public external entity");if(null!=o.pubID&&(this.pubID=this.stringify.dtdPubID(o.pubID)),null!=o.sysID&&(this.sysID=this.stringify.dtdSysID(o.sysID)),null!=o.nData&&(this.nData=this.stringify.dtdNData(o.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity")}else this.value=this.stringify.dtdEntityValue(o)}return o(t,e),t.prototype.toString=function(e){return this.options.writer.set(e).dtdEntity(this)},t}(r)}).call(this)},{"./Utility":124,"./XMLNode":137}],131:[function(e,t,n){(function(){var n,r,i=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;r=e("./XMLNode"),t.exports=n=function(e){function t(e,n,r){if(t.__super__.constructor.call(this,e),null==n)throw new Error("Missing notation name");if(!r.pubID&&!r.sysID)throw new Error("Public or system identifiers are required for an external entity");this.name=this.stringify.eleName(n),null!=r.pubID&&(this.pubID=this.stringify.dtdPubID(r.pubID)),null!=r.sysID&&(this.sysID=this.stringify.dtdSysID(r.sysID))}return i(t,e),t.prototype.toString=function(e){return this.options.writer.set(e).dtdNotation(this)},t}(r)}).call(this)},{"./XMLNode":137}],132:[function(e,t,n){(function(){var n,r,i,o=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;i=e("./Utility").isObject,r=e("./XMLNode"),t.exports=n=function(e){function t(e,n,r,o){var a;t.__super__.constructor.call(this,e),i(n)&&(a=n,n=a.version,r=a.encoding,o=a.standalone),n||(n="1.0"),this.version=this.stringify.xmlVersion(n),null!=r&&(this.encoding=this.stringify.xmlEncoding(r)),null!=o&&(this.standalone=this.stringify.xmlStandalone(o))}return o(t,e),t.prototype.toString=function(e){return this.options.writer.set(e).declaration(this)},t}(r)}).call(this)},{"./Utility":124,"./XMLNode":137}],133:[function(e,t,n){(function(){var n,r,i,o,a,s,l,u=function(e,t){function n(){this.constructor=e}for(var r in t)c.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},c={}.hasOwnProperty;l=e("./Utility").isObject,s=e("./XMLNode"),n=e("./XMLDTDAttList"),i=e("./XMLDTDEntity"),r=e("./XMLDTDElement"),o=e("./XMLDTDNotation"),t.exports=a=function(e){function t(e,n,r){var i,o;t.__super__.constructor.call(this,e),this.documentObject=e,l(n)&&(i=n,n=i.pubID,r=i.sysID),null==r&&(o=[n,r],r=o[0],n=o[1]),null!=n&&(this.pubID=this.stringify.dtdPubID(n)),null!=r&&(this.sysID=this.stringify.dtdSysID(r))}return u(t,e),t.prototype.element=function(e,t){var n;return n=new r(this,e,t),this.children.push(n),this},t.prototype.attList=function(e,t,r,i,o){var a;return a=new n(this,e,t,r,i,o),this.children.push(a),this},t.prototype.entity=function(e,t){var n;return n=new i(this,!1,e,t),this.children.push(n),this},t.prototype.pEntity=function(e,t){var n;return n=new i(this,!0,e,t),this.children.push(n),this},t.prototype.notation=function(e,t){var n;return n=new o(this,e,t),this.children.push(n),this},t.prototype.toString=function(e){return this.options.writer.set(e).docType(this)},t.prototype.ele=function(e,t){return this.element(e,t)},t.prototype.att=function(e,t,n,r,i){return this.attList(e,t,n,r,i)},t.prototype.ent=function(e,t){return this.entity(e,t)},t.prototype.pent=function(e,t){return this.pEntity(e,t)},t.prototype.not=function(e,t){return this.notation(e,t)},t.prototype.up=function(){return this.root()||this.documentObject},t}(s)}).call(this)},{"./Utility":124,"./XMLDTDAttList":128,"./XMLDTDElement":129,"./XMLDTDEntity":130,"./XMLDTDNotation":131,"./XMLNode":137}],134:[function(e,t,n){(function(){var n,r,i,o,a,s=function(e,t){function n(){this.constructor=e}for(var r in t)l.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},l={}.hasOwnProperty;a=e("./Utility").isPlainObject,r=e("./XMLNode"),o=e("./XMLStringifier"),i=e("./XMLStringWriter"),t.exports=n=function(e){function t(e){t.__super__.constructor.call(this,null),e||(e={}),e.writer||(e.writer=new i),this.options=e,this.stringify=new o(e),this.isDocument=!0}return s(t,e),t.prototype.end=function(e){var t;return e?a(e)&&(t=e,e=this.options.writer.set(t)):e=this.options.writer,e.document(this)},t.prototype.toString=function(e){return this.options.writer.set(e).document(this)},t}(r)}).call(this)},{"./Utility":124,"./XMLNode":137,"./XMLStringWriter":141,"./XMLStringifier":142}],135:[function(e,t,n){(function(){var n,r,i,o,a,s,l,u,c,p,d,f,h,m,b,y,g,_,v,T,E={}.hasOwnProperty;T=e("./Utility"),_=T.isObject,g=T.isFunction,v=T.isPlainObject,d=e("./XMLElement"),r=e("./XMLCData"),i=e("./XMLComment"),h=e("./XMLRaw"),y=e("./XMLText"),f=e("./XMLProcessingInstruction"),u=e("./XMLDeclaration"),c=e("./XMLDocType"),o=e("./XMLDTDAttList"),s=e("./XMLDTDEntity"),a=e("./XMLDTDElement"),l=e("./XMLDTDNotation"),n=e("./XMLAttribute"),b=e("./XMLStringifier"),m=e("./XMLStringWriter"),t.exports=p=function(){function e(e,t,n){var r;e||(e={}),e.writer?v(e.writer)&&(r=e.writer,e.writer=new m(r)):e.writer=new m(e),this.options=e,this.writer=e.writer,this.stringify=new b(e),this.onDataCallback=t||function(){},this.onEndCallback=n||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return e.prototype.node=function(e,t,n){var r;if(null==e)throw new Error("Missing node name");if(this.root&&-1===this.currentLevel)throw new Error("Document can only have one root node");return this.openCurrent(),e=e.valueOf(),null==t&&(t={}),t=t.valueOf(),_(t)||(r=[t,n],n=r[0],t=r[1]),this.currentNode=new d(this,e,t),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,null!=n&&this.text(n),this},e.prototype.element=function(e,t,n){return this.currentNode&&this.currentNode instanceof c?this.dtdElement.apply(this,arguments):this.node(e,t,n)},e.prototype.attribute=function(e,t){var r,i;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode");if(null!=e&&(e=e.valueOf()),_(e))for(r in e)E.call(e,r)&&(i=e[r],this.attribute(r,i));else g(t)&&(t=t.apply()),this.options.skipNullAttributes&&null==t||(this.currentNode.attributes[e]=new n(this,e,t));return this},e.prototype.text=function(e){var t;return this.openCurrent(),t=new y(this,e),this.onData(this.writer.text(t,this.currentLevel+1)),this},e.prototype.cdata=function(e){var t;return this.openCurrent(),t=new r(this,e),this.onData(this.writer.cdata(t,this.currentLevel+1)),this},e.prototype.comment=function(e){var t;return this.openCurrent(),t=new i(this,e),this.onData(this.writer.comment(t,this.currentLevel+1)),this},e.prototype.raw=function(e){var t;return this.openCurrent(),t=new h(this,e),this.onData(this.writer.raw(t,this.currentLevel+1)),this},e.prototype.instruction=function(e,t){var n,r,i,o,a;if(this.openCurrent(),null!=e&&(e=e.valueOf()),null!=t&&(t=t.valueOf()),Array.isArray(e))for(n=0,o=e.length;o>n;n++)r=e[n],this.instruction(r);else if(_(e))for(r in e)E.call(e,r)&&(i=e[r],this.instruction(r,i));else g(t)&&(t=t.apply()),a=new f(this,e,t),this.onData(this.writer.processingInstruction(a,this.currentLevel+1));return this},e.prototype.declaration=function(e,t,n){var r;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node");return r=new u(this,e,t,n),this.onData(this.writer.declaration(r,this.currentLevel+1)),this},e.prototype.doctype=function(e,t,n){if(this.openCurrent(),null==e)throw new Error("Missing root node name");if(this.root)throw new Error("dtd() must come before the root node");return this.currentNode=new c(this,t,n),this.currentNode.rootNodeName=e,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},e.prototype.dtdElement=function(e,t){var n;return this.openCurrent(),n=new a(this,e,t),this.onData(this.writer.dtdElement(n,this.currentLevel+1)),this},e.prototype.attList=function(e,t,n,r,i){var a;return this.openCurrent(),a=new o(this,e,t,n,r,i),this.onData(this.writer.dtdAttList(a,this.currentLevel+1)),this},e.prototype.entity=function(e,t){var n;return this.openCurrent(),n=new s(this,!1,e,t),this.onData(this.writer.dtdEntity(n,this.currentLevel+1)),this},e.prototype.pEntity=function(e,t){var n;return this.openCurrent(),n=new s(this,!0,e,t),this.onData(this.writer.dtdEntity(n,this.currentLevel+1)),this},e.prototype.notation=function(e,t){var n;return this.openCurrent(),n=new l(this,e,t),this.onData(this.writer.dtdNotation(n,this.currentLevel+1)),this},e.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},e.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},e.prototype.openCurrent=function(){return this.currentNode?(this.currentNode.children=!0,this.openNode(this.currentNode)):void 0},e.prototype.openNode=function(e){return e.isOpen?void 0:(!this.root&&0===this.currentLevel&&e instanceof d&&(this.root=e),this.onData(this.writer.openNode(e,this.currentLevel)),e.isOpen=!0)},e.prototype.closeNode=function(e){return e.isClosed?void 0:(this.onData(this.writer.closeNode(e,this.currentLevel)),e.isClosed=!0)},e.prototype.onData=function(e){return this.documentStarted=!0,this.onDataCallback(e)},e.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},e.prototype.ele=function(){return this.element.apply(this,arguments)},e.prototype.nod=function(e,t,n){return this.node(e,t,n)},e.prototype.txt=function(e){return this.text(e)},e.prototype.dat=function(e){return this.cdata(e)},e.prototype.com=function(e){return this.comment(e)},e.prototype.ins=function(e,t){return this.instruction(e,t)},e.prototype.dec=function(e,t,n){return this.declaration(e,t,n)},e.prototype.dtd=function(e,t,n){return this.doctype(e,t,n)},e.prototype.e=function(e,t,n){return this.element(e,t,n)},e.prototype.n=function(e,t,n){return this.node(e,t,n)},e.prototype.t=function(e){return this.text(e)},e.prototype.d=function(e){return this.cdata(e)},e.prototype.c=function(e){return this.comment(e)},e.prototype.r=function(e){return this.raw(e)},e.prototype.i=function(e,t){return this.instruction(e,t)},e.prototype.att=function(){return this.currentNode&&this.currentNode instanceof c?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},e.prototype.a=function(){return this.currentNode&&this.currentNode instanceof c?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},e.prototype.ent=function(e,t){return this.entity(e,t)},e.prototype.pent=function(e,t){return this.pEntity(e,t)},e.prototype.not=function(e,t){return this.notation(e,t)},e}()}).call(this)},{"./Utility":124,"./XMLAttribute":125,"./XMLCData":126,"./XMLComment":127,"./XMLDTDAttList":128,"./XMLDTDElement":129,"./XMLDTDEntity":130,"./XMLDTDNotation":131,"./XMLDeclaration":132,"./XMLDocType":133,"./XMLElement":136,"./XMLProcessingInstruction":138,"./XMLRaw":139,"./XMLStringWriter":141,"./XMLStringifier":142,"./XMLText":143}],136:[function(e,t,n){(function(){var n,r,i,o,a,s,l=function(e,t){function n(){this.constructor=e}for(var r in t)u.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},u={}.hasOwnProperty;s=e("./Utility"),a=s.isObject,o=s.isFunction,i=e("./XMLNode"),n=e("./XMLAttribute"),t.exports=r=function(e){function t(e,n,r){if(t.__super__.constructor.call(this,e),null==n)throw new Error("Missing element name");this.name=this.stringify.eleName(n),this.attributes={},null!=r&&this.attribute(r),e.isDocument&&(this.isRoot=!0,this.documentObject=e,e.rootObject=this)}return l(t,e),t.prototype.clone=function(){var e,t,n,r;n=Object.create(this),n.isRoot&&(n.documentObject=null),n.attributes={},r=this.attributes;for(t in r)u.call(r,t)&&(e=r[t],n.attributes[t]=e.clone());return n.children=[],this.children.forEach(function(e){var t;return t=e.clone(),t.parent=n,n.children.push(t)}),n},t.prototype.attribute=function(e,t){var r,i;if(null!=e&&(e=e.valueOf()),a(e))for(r in e)u.call(e,r)&&(i=e[r],this.attribute(r,i));else o(t)&&(t=t.apply()),this.options.skipNullAttributes&&null==t||(this.attributes[e]=new n(this,e,t));return this},t.prototype.removeAttribute=function(e){var t,n,r;if(null==e)throw new Error("Missing attribute name");if(e=e.valueOf(),Array.isArray(e))for(n=0,r=e.length;r>n;n++)t=e[n],delete this.attributes[t];else delete this.attributes[e];return this},t.prototype.toString=function(e){return this.options.writer.set(e).element(this)},t.prototype.att=function(e,t){return this.attribute(e,t)},t.prototype.a=function(e,t){return this.attribute(e,t)},t}(i)}).call(this)},{"./Utility":124,"./XMLAttribute":125,"./XMLNode":137}],137:[function(e,t,n){(function(){var n,r,i,o,a,s,l,u,c,p,d,f,h,m={}.hasOwnProperty;h=e("./Utility"),f=h.isObject,d=h.isFunction,p=h.isEmpty,a=null,n=null,r=null,i=null,o=null,u=null,c=null,l=null,t.exports=s=function(){function t(t){this.parent=t,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],a||(a=e("./XMLElement"),n=e("./XMLCData"),r=e("./XMLComment"),i=e("./XMLDeclaration"),o=e("./XMLDocType"),u=e("./XMLRaw"),c=e("./XMLText"),l=e("./XMLProcessingInstruction"))}return t.prototype.element=function(e,t,n){var r,i,o,a,s,l,u,c,h,b;if(l=null,null==t&&(t={}),t=t.valueOf(),f(t)||(h=[t,n],n=h[0],t=h[1]),null!=e&&(e=e.valueOf()),Array.isArray(e))for(o=0,u=e.length;u>o;o++)i=e[o],l=this.element(i);else if(d(e))l=this.element(e.apply());else if(f(e)){for(s in e)if(m.call(e,s))if(b=e[s],d(b)&&(b=b.apply()),f(b)&&p(b)&&(b=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===s.indexOf(this.stringify.convertAttKey))l=this.attribute(s.substr(this.stringify.convertAttKey.length),b);else if(!this.options.separateArrayItems&&Array.isArray(b))for(a=0,c=b.length;c>a;a++)i=b[a],r={},r[s]=i,l=this.element(r);else f(b)?(l=this.element(s),l.element(b)):l=this.element(s,b)}else l=!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===e.indexOf(this.stringify.convertTextKey)?this.text(n):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===e.indexOf(this.stringify.convertCDataKey)?this.cdata(n):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===e.indexOf(this.stringify.convertCommentKey)?this.comment(n):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===e.indexOf(this.stringify.convertRawKey)?this.raw(n):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===e.indexOf(this.stringify.convertPIKey)?this.instruction(e.substr(this.stringify.convertPIKey.length),n):this.node(e,t,n);if(null==l)throw new Error("Could not create any elements with: "+e);return l},t.prototype.insertBefore=function(e,t,n){var r,i,o;if(this.isRoot)throw new Error("Cannot insert elements at root level");return i=this.parent.children.indexOf(this),o=this.parent.children.splice(i),r=this.parent.element(e,t,n),Array.prototype.push.apply(this.parent.children,o),r},t.prototype.insertAfter=function(e,t,n){var r,i,o;if(this.isRoot)throw new Error("Cannot insert elements at root level");return i=this.parent.children.indexOf(this),o=this.parent.children.splice(i+1),r=this.parent.element(e,t,n),Array.prototype.push.apply(this.parent.children,o),r},t.prototype.remove=function(){var e,t;if(this.isRoot)throw new Error("Cannot remove the root element");return e=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[e,e-e+1].concat(t=[])),this.parent},t.prototype.node=function(e,t,n){var r,i;return null!=e&&(e=e.valueOf()),t||(t={}),t=t.valueOf(),f(t)||(i=[t,n],n=i[0],t=i[1]),r=new a(this,e,t),null!=n&&r.text(n),this.children.push(r),r},t.prototype.text=function(e){var t;return t=new c(this,e),this.children.push(t),this},t.prototype.cdata=function(e){var t;return t=new n(this,e),this.children.push(t),this},t.prototype.comment=function(e){var t;return t=new r(this,e),this.children.push(t),this},t.prototype.commentBefore=function(e){var t,n,r;return n=this.parent.children.indexOf(this),r=this.parent.children.splice(n),t=this.parent.comment(e),Array.prototype.push.apply(this.parent.children,r),this},t.prototype.commentAfter=function(e){var t,n,r;return n=this.parent.children.indexOf(this),r=this.parent.children.splice(n+1),t=this.parent.comment(e),Array.prototype.push.apply(this.parent.children,r),this},t.prototype.raw=function(e){var t;return t=new u(this,e),this.children.push(t),this},t.prototype.instruction=function(e,t){var n,r,i,o,a;if(null!=e&&(e=e.valueOf()),null!=t&&(t=t.valueOf()),Array.isArray(e))for(o=0,a=e.length;a>o;o++)n=e[o],this.instruction(n);else if(f(e))for(n in e)m.call(e,n)&&(r=e[n],this.instruction(n,r));else d(t)&&(t=t.apply()),i=new l(this,e,t),this.children.push(i);return this},t.prototype.instructionBefore=function(e,t){var n,r,i;return r=this.parent.children.indexOf(this),i=this.parent.children.splice(r),n=this.parent.instruction(e,t),Array.prototype.push.apply(this.parent.children,i),this},t.prototype.instructionAfter=function(e,t){var n,r,i;return r=this.parent.children.indexOf(this),i=this.parent.children.splice(r+1),n=this.parent.instruction(e,t),Array.prototype.push.apply(this.parent.children,i),this},t.prototype.declaration=function(e,t,n){var r,o;return r=this.document(),o=new i(r,e,t,n),r.children[0]instanceof i?r.children[0]=o:r.children.unshift(o),r.root()||r},t.prototype.doctype=function(e,t){var n,r,i,a,s,l,u,c,p,d;for(r=this.document(),i=new o(r,e,t),p=r.children,a=s=0,u=p.length;u>s;a=++s)if(n=p[a],n instanceof o)return r.children[a]=i,i;for(d=r.children,a=l=0,c=d.length;c>l;a=++l)if(n=d[a],n.isRoot)return r.children.splice(a,0,i),i;return r.children.push(i),i},t.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},t.prototype.root=function(){var e;for(e=this;e;){if(e.isDocument)return e.rootObject;if(e.isRoot)return e;e=e.parent}},t.prototype.document=function(){var e;for(e=this;e;){if(e.isDocument)return e;e=e.parent}},t.prototype.end=function(e){return this.document().end(e)},t.prototype.prev=function(){var e;if(e=this.parent.children.indexOf(this),1>e)throw new Error("Already at the first node");return this.parent.children[e-1]},t.prototype.next=function(){var e;if(e=this.parent.children.indexOf(this),-1===e||e===this.parent.children.length-1)throw new Error("Already at the last node");return this.parent.children[e+1]},t.prototype.importDocument=function(e){var t;return t=e.root().clone(),t.parent=this,t.isRoot=!1,this.children.push(t),this},t.prototype.ele=function(e,t,n){return this.element(e,t,n)},t.prototype.nod=function(e,t,n){return this.node(e,t,n)},t.prototype.txt=function(e){return this.text(e)},t.prototype.dat=function(e){return this.cdata(e)},t.prototype.com=function(e){return this.comment(e)},t.prototype.ins=function(e,t){return this.instruction(e,t)},t.prototype.doc=function(){return this.document()},t.prototype.dec=function(e,t,n){return this.declaration(e,t,n)},t.prototype.dtd=function(e,t){return this.doctype(e,t)},t.prototype.e=function(e,t,n){return this.element(e,t,n)},t.prototype.n=function(e,t,n){return this.node(e,t,n)},t.prototype.t=function(e){return this.text(e)},t.prototype.d=function(e){return this.cdata(e)},t.prototype.c=function(e){return this.comment(e)},t.prototype.r=function(e){return this.raw(e)},t.prototype.i=function(e,t){return this.instruction(e,t)},t.prototype.u=function(){return this.up()},t.prototype.importXMLBuilder=function(e){return this.importDocument(e)},t}()}).call(this)},{"./Utility":124,"./XMLCData":126,"./XMLComment":127,"./XMLDeclaration":132,"./XMLDocType":133,"./XMLElement":136,"./XMLProcessingInstruction":138,"./XMLRaw":139,"./XMLText":143}],138:[function(e,t,n){(function(){var n,r,i=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;n=e("./XMLNode"),t.exports=r=function(e){function t(e,n,r){if(t.__super__.constructor.call(this,e),null==n)throw new Error("Missing instruction target");this.target=this.stringify.insTarget(n),r&&(this.value=this.stringify.insValue(r))}return i(t,e),t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(e){return this.options.writer.set(e).processingInstruction(this)},t}(n)}).call(this)},{"./XMLNode":137}],139:[function(e,t,n){(function(){var n,r,i=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;n=e("./XMLNode"),t.exports=r=function(e){function t(e,n){if(t.__super__.constructor.call(this,e),null==n)throw new Error("Missing raw text");this.value=this.stringify.raw(n)}return i(t,e),t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(e){return this.options.writer.set(e).raw(this)},t}(n)}).call(this)},{"./XMLNode":137}],140:[function(e,t,n){(function(){var n,r,i,o,a,s,l,u,c,p,d,f,h,m,b=function(e,t){function n(){this.constructor=e}for(var r in t)y.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},y={}.hasOwnProperty;l=e("./XMLDeclaration"),u=e("./XMLDocType"),n=e("./XMLCData"),r=e("./XMLComment"),c=e("./XMLElement"),d=e("./XMLRaw"),h=e("./XMLText"),p=e("./XMLProcessingInstruction"),i=e("./XMLDTDAttList"),o=e("./XMLDTDElement"),a=e("./XMLDTDEntity"),s=e("./XMLDTDNotation"),m=e("./XMLWriterBase"),t.exports=f=function(e){function t(e,n){t.__super__.constructor.call(this,n),this.stream=e}return b(t,e),t.prototype.document=function(e){var t,n,i,o,a,s,c,d;for(s=e.children,n=0,o=s.length;o>n;n++)t=s[n],t.isLastRootNode=!1;for(e.children[e.children.length-1].isLastRootNode=!0,c=e.children,d=[],i=0,a=c.length;a>i;i++)switch(t=c[i],!1){case!(t instanceof l):d.push(this.declaration(t));break;case!(t instanceof u):d.push(this.docType(t));break;case!(t instanceof r):d.push(this.comment(t));break;case!(t instanceof p):d.push(this.processingInstruction(t));break;default:d.push(this.element(t))}return d},t.prototype.attribute=function(e){return this.stream.write(" "+e.name+'="'+e.value+'"')},t.prototype.cdata=function(e,t){return this.stream.write(this.space(t)+"<![CDATA["+e.text+"]]>"+this.endline(e))},t.prototype.comment=function(e,t){return this.stream.write(this.space(t)+"<!-- "+e.text+" -->"+this.endline(e))},t.prototype.declaration=function(e,t){return this.stream.write(this.space(t)),this.stream.write('<?xml version="'+e.version+'"'),null!=e.encoding&&this.stream.write(' encoding="'+e.encoding+'"'),null!=e.standalone&&this.stream.write(' standalone="'+e.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(e))},t.prototype.docType=function(e,t){var l,u,c,d;if(t||(t=0),this.stream.write(this.space(t)),this.stream.write("<!DOCTYPE "+e.root().name),e.pubID&&e.sysID?this.stream.write(' PUBLIC "'+e.pubID+'" "'+e.sysID+'"'):e.sysID&&this.stream.write(' SYSTEM "'+e.sysID+'"'),e.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(e)),d=e.children,u=0,c=d.length;c>u;u++)switch(l=d[u],!1){case!(l instanceof i):this.dtdAttList(l,t+1);break;case!(l instanceof o):this.dtdElement(l,t+1);break;case!(l instanceof a):this.dtdEntity(l,t+1);break;case!(l instanceof s):this.dtdNotation(l,t+1);break;case!(l instanceof n):this.cdata(l,t+1);break;case!(l instanceof r):this.comment(l,t+1);break;case!(l instanceof p):this.processingInstruction(l,t+1);break;default:throw new Error("Unknown DTD node type: "+l.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(e))},t.prototype.element=function(e,t){var i,o,a,s,l,u,f,m;t||(t=0),m=this.space(t),this.stream.write(m+"<"+e.name),u=e.attributes;for(l in u)y.call(u,l)&&(i=u[l],this.attribute(i));if(0===e.children.length||e.children.every(function(e){return""===e.value}))this.allowEmpty?this.stream.write("></"+e.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&1===e.children.length&&null!=e.children[0].value)this.stream.write(">"),this.stream.write(e.children[0].value),this.stream.write("</"+e.name+">");else{for(this.stream.write(">"+this.newline),f=e.children,a=0,s=f.length;s>a;a++)switch(o=f[a],!1){case!(o instanceof n):this.cdata(o,t+1);break;case!(o instanceof r):this.comment(o,t+1);break;case!(o instanceof c):this.element(o,t+1);break;case!(o instanceof d):this.raw(o,t+1);break;case!(o instanceof h):this.text(o,t+1);break;case!(o instanceof p):this.processingInstruction(o,t+1);break;default:throw new Error("Unknown XML node type: "+o.constructor.name)}this.stream.write(m+"</"+e.name+">")}return this.stream.write(this.endline(e))},t.prototype.processingInstruction=function(e,t){return this.stream.write(this.space(t)+"<?"+e.target),e.value&&this.stream.write(" "+e.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(e))},t.prototype.raw=function(e,t){return this.stream.write(this.space(t)+e.value+this.endline(e))},t.prototype.text=function(e,t){return this.stream.write(this.space(t)+e.value+this.endline(e))},t.prototype.dtdAttList=function(e,t){return this.stream.write(this.space(t)+"<!ATTLIST "+e.elementName+" "+e.attributeName+" "+e.attributeType),"#DEFAULT"!==e.defaultValueType&&this.stream.write(" "+e.defaultValueType),e.defaultValue&&this.stream.write(' "'+e.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(e))},t.prototype.dtdElement=function(e,t){return this.stream.write(this.space(t)+"<!ELEMENT "+e.name+" "+e.value),this.stream.write(this.spacebeforeslash+">"+this.endline(e))},t.prototype.dtdEntity=function(e,t){return this.stream.write(this.space(t)+"<!ENTITY"),e.pe&&this.stream.write(" %"),this.stream.write(" "+e.name),e.value?this.stream.write(' "'+e.value+'"'):(e.pubID&&e.sysID?this.stream.write(' PUBLIC "'+e.pubID+'" "'+e.sysID+'"'):e.sysID&&this.stream.write(' SYSTEM "'+e.sysID+'"'),e.nData&&this.stream.write(" NDATA "+e.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(e))},t.prototype.dtdNotation=function(e,t){return this.stream.write(this.space(t)+"<!NOTATION "+e.name),e.pubID&&e.sysID?this.stream.write(' PUBLIC "'+e.pubID+'" "'+e.sysID+'"'):e.pubID?this.stream.write(' PUBLIC "'+e.pubID+'"'):e.sysID&&this.stream.write(' SYSTEM "'+e.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(e))},t.prototype.endline=function(e){return e.isLastRootNode?"":this.newline},t}(m)}).call(this)},{"./XMLCData":126,"./XMLComment":127,"./XMLDTDAttList":128,"./XMLDTDElement":129,"./XMLDTDEntity":130,"./XMLDTDNotation":131,"./XMLDeclaration":132,"./XMLDocType":133,"./XMLElement":136,"./XMLProcessingInstruction":138,"./XMLRaw":139,"./XMLText":143,"./XMLWriterBase":144}],141:[function(e,t,n){(function(){var n,r,i,o,a,s,l,u,c,p,d,f,h,m,b=function(e,t){function n(){this.constructor=e}for(var r in t)y.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},y={}.hasOwnProperty;l=e("./XMLDeclaration"),u=e("./XMLDocType"),n=e("./XMLCData"),r=e("./XMLComment"),c=e("./XMLElement"),d=e("./XMLRaw"),h=e("./XMLText"),p=e("./XMLProcessingInstruction"),i=e("./XMLDTDAttList"),o=e("./XMLDTDElement"),a=e("./XMLDTDEntity"),s=e("./XMLDTDNotation"),m=e("./XMLWriterBase"),t.exports=f=function(e){function t(e){t.__super__.constructor.call(this,e)}return b(t,e),t.prototype.document=function(e){var t,n,i,o,a;for(this.textispresent=!1,o="",a=e.children,n=0,i=a.length;i>n;n++)t=a[n],o+=function(){switch(!1){case!(t instanceof l):return this.declaration(t);case!(t instanceof u):return this.docType(t);case!(t instanceof r):return this.comment(t);case!(t instanceof p):return this.processingInstruction(t);default:return this.element(t,0)}}.call(this);return this.pretty&&o.slice(-this.newline.length)===this.newline&&(o=o.slice(0,-this.newline.length)),o},t.prototype.attribute=function(e){return" "+e.name+'="'+e.value+'"'},t.prototype.cdata=function(e,t){return this.space(t)+"<![CDATA["+e.text+"]]>"+this.newline},t.prototype.comment=function(e,t){return this.space(t)+"<!-- "+e.text+" -->"+this.newline},t.prototype.declaration=function(e,t){var n;return n=this.space(t),n+='<?xml version="'+e.version+'"',null!=e.encoding&&(n+=' encoding="'+e.encoding+'"'),null!=e.standalone&&(n+=' standalone="'+e.standalone+'"'),n+=this.spacebeforeslash+"?>",n+=this.newline},t.prototype.docType=function(e,t){var l,u,c,d,f;if(t||(t=0),d=this.space(t),d+="<!DOCTYPE "+e.root().name,e.pubID&&e.sysID?d+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(d+=' SYSTEM "'+e.sysID+'"'),e.children.length>0){for(d+=" [",d+=this.newline,f=e.children,u=0,c=f.length;c>u;u++)l=f[u],d+=function(){switch(!1){case!(l instanceof i):return this.dtdAttList(l,t+1);case!(l instanceof o):return this.dtdElement(l,t+1);case!(l instanceof a):return this.dtdEntity(l,t+1);case!(l instanceof s):return this.dtdNotation(l,t+1);case!(l instanceof n):return this.cdata(l,t+1);case!(l instanceof r):return this.comment(l,t+1);case!(l instanceof p):return this.processingInstruction(l,t+1);default:throw new Error("Unknown DTD node type: "+l.constructor.name)}}.call(this);d+="]"}return d+=this.spacebeforeslash+">",d+=this.newline},t.prototype.element=function(e,t){var i,o,a,s,l,u,f,m,b,g,_,v,T;t||(t=0),T=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),v=this.space(t),m="",m+=v+"<"+e.name,b=e.attributes;for(f in b)y.call(b,f)&&(i=b[f],m+=this.attribute(i));if(0===e.children.length||e.children.every(function(e){return""===e.value}))m+=this.allowEmpty?"></"+e.name+">"+this.newline:this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&1===e.children.length&&null!=e.children[0].value)m+=">",
m+=e.children[0].value,m+="</"+e.name+">"+this.newline;else{if(this.dontprettytextnodes)for(g=e.children,a=0,l=g.length;l>a;a++)if(o=g[a],null!=o.value){this.textispresent++,T=!0;break}for(this.textispresent&&(this.newline="",this.pretty=!1,v=this.space(t)),m+=">"+this.newline,_=e.children,s=0,u=_.length;u>s;s++)o=_[s],m+=function(){switch(!1){case!(o instanceof n):return this.cdata(o,t+1);case!(o instanceof r):return this.comment(o,t+1);case!(o instanceof c):return this.element(o,t+1);case!(o instanceof d):return this.raw(o,t+1);case!(o instanceof h):return this.text(o,t+1);case!(o instanceof p):return this.processingInstruction(o,t+1);default:throw new Error("Unknown XML node type: "+o.constructor.name)}}.call(this);T&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),m+=v+"</"+e.name+">"+this.newline}return m},t.prototype.processingInstruction=function(e,t){var n;return n=this.space(t)+"<?"+e.target,e.value&&(n+=" "+e.value),n+=this.spacebeforeslash+"?>"+this.newline},t.prototype.raw=function(e,t){return this.space(t)+e.value+this.newline},t.prototype.text=function(e,t){return this.space(t)+e.value+this.newline},t.prototype.dtdAttList=function(e,t){var n;return n=this.space(t)+"<!ATTLIST "+e.elementName+" "+e.attributeName+" "+e.attributeType,"#DEFAULT"!==e.defaultValueType&&(n+=" "+e.defaultValueType),e.defaultValue&&(n+=' "'+e.defaultValue+'"'),n+=this.spacebeforeslash+">"+this.newline},t.prototype.dtdElement=function(e,t){return this.space(t)+"<!ELEMENT "+e.name+" "+e.value+this.spacebeforeslash+">"+this.newline},t.prototype.dtdEntity=function(e,t){var n;return n=this.space(t)+"<!ENTITY",e.pe&&(n+=" %"),n+=" "+e.name,e.value?n+=' "'+e.value+'"':(e.pubID&&e.sysID?n+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(n+=' SYSTEM "'+e.sysID+'"'),e.nData&&(n+=" NDATA "+e.nData)),n+=this.spacebeforeslash+">"+this.newline},t.prototype.dtdNotation=function(e,t){var n;return n=this.space(t)+"<!NOTATION "+e.name,e.pubID&&e.sysID?n+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.pubID?n+=' PUBLIC "'+e.pubID+'"':e.sysID&&(n+=' SYSTEM "'+e.sysID+'"'),n+=this.spacebeforeslash+">"+this.newline},t.prototype.openNode=function(e,t){var n,r,i,o;if(t||(t=0),e instanceof c){i=this.space(t)+"<"+e.name,o=e.attributes;for(r in o)y.call(o,r)&&(n=o[r],i+=this.attribute(n));return i+=(e.children?">":"/>")+this.newline}return i=this.space(t)+"<!DOCTYPE "+e.rootNodeName,e.pubID&&e.sysID?i+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(i+=' SYSTEM "'+e.sysID+'"'),i+=(e.children?" [":">")+this.newline},t.prototype.closeNode=function(e,t){switch(t||(t=0),!1){case!(e instanceof c):return this.space(t)+"</"+e.name+">"+this.newline;case!(e instanceof u):return this.space(t)+"]>"+this.newline}},t}(m)}).call(this)},{"./XMLCData":126,"./XMLComment":127,"./XMLDTDAttList":128,"./XMLDTDElement":129,"./XMLDTDEntity":130,"./XMLDTDNotation":131,"./XMLDeclaration":132,"./XMLDocType":133,"./XMLElement":136,"./XMLProcessingInstruction":138,"./XMLRaw":139,"./XMLText":143,"./XMLWriterBase":144}],142:[function(e,t,n){(function(){var e,n=function(e,t){return function(){return e.apply(t,arguments)}},r={}.hasOwnProperty;t.exports=e=function(){function e(e){this.assertLegalChar=n(this.assertLegalChar,this);var t,i,o;e||(e={}),this.noDoubleEncoding=e.noDoubleEncoding,i=e.stringify||{};for(t in i)r.call(i,t)&&(o=i[t],this[t]=o)}return e.prototype.eleName=function(e){return e=""+e||"",this.assertLegalChar(e)},e.prototype.eleText=function(e){return e=""+e||"",this.assertLegalChar(this.elEscape(e))},e.prototype.cdata=function(e){return e=""+e||"",e=e.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(e)},e.prototype.comment=function(e){if(e=""+e||"",e.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+e);return this.assertLegalChar(e)},e.prototype.raw=function(e){return""+e||""},e.prototype.attName=function(e){return e=""+e||""},e.prototype.attValue=function(e){return e=""+e||"",this.attEscape(e)},e.prototype.insTarget=function(e){return""+e||""},e.prototype.insValue=function(e){if(e=""+e||"",e.match(/\?>/))throw new Error("Invalid processing instruction value: "+e);return e},e.prototype.xmlVersion=function(e){if(e=""+e||"",!e.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+e);return e},e.prototype.xmlEncoding=function(e){if(e=""+e||"",!e.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+e);return e},e.prototype.xmlStandalone=function(e){return e?"yes":"no"},e.prototype.dtdPubID=function(e){return""+e||""},e.prototype.dtdSysID=function(e){return""+e||""},e.prototype.dtdElementValue=function(e){return""+e||""},e.prototype.dtdAttType=function(e){return""+e||""},e.prototype.dtdAttDefault=function(e){return null!=e?""+e||"":e},e.prototype.dtdEntityValue=function(e){return""+e||""},e.prototype.dtdNData=function(e){return""+e||""},e.prototype.convertAttKey="@",e.prototype.convertPIKey="?",e.prototype.convertTextKey="#text",e.prototype.convertCDataKey="#cdata",e.prototype.convertCommentKey="#comment",e.prototype.convertRawKey="#raw",e.prototype.assertLegalChar=function(e){var t;if(t=e.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/))throw new Error("Invalid character in string: "+e+" at index "+t.index);return e},e.prototype.elEscape=function(e){var t;return t=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,e.replace(t,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},e.prototype.attEscape=function(e){var t;return t=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,e.replace(t,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},e}()}).call(this)},{}],143:[function(e,t,n){(function(){var n,r,i=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;n=e("./XMLNode"),t.exports=r=function(e){function t(e,n){if(t.__super__.constructor.call(this,e),null==n)throw new Error("Missing element text");this.value=this.stringify.eleText(n)}return i(t,e),t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(e){return this.options.writer.set(e).text(this)},t}(n)}).call(this)},{"./XMLNode":137}],144:[function(e,t,n){(function(){var e,n={}.hasOwnProperty;t.exports=e=function(){function e(e){var t,r,i,o,a,s,l,u,c;e||(e={}),this.pretty=e.pretty||!1,this.allowEmpty=null!=(r=e.allowEmpty)&&r,this.pretty?(this.indent=null!=(i=e.indent)?i:"  ",this.newline=null!=(o=e.newline)?o:"\n",this.offset=null!=(a=e.offset)?a:0,this.dontprettytextnodes=null!=(s=e.dontprettytextnodes)?s:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=null!=(l=e.spacebeforeslash)?l:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,u=e.writer||{};for(t in u)n.call(u,t)&&(c=u[t],this[t]=c)}return e.prototype.set=function(e){var t,r,i;e||(e={}),"pretty"in e&&(this.pretty=e.pretty),"allowEmpty"in e&&(this.allowEmpty=e.allowEmpty),this.pretty?(this.indent="indent"in e?e.indent:"  ",this.newline="newline"in e?e.newline:"\n",this.offset="offset"in e?e.offset:0,this.dontprettytextnodes="dontprettytextnodes"in e?e.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in e?e.spacebeforeslash:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,r=e.writer||{};for(t in r)n.call(r,t)&&(i=r[t],this[t]=i);return this},e.prototype.space=function(e){var t;return this.pretty?(t=(e||0)+this.offset+1,t>0?new Array(t).join(this.indent):""):""},e}()}).call(this)},{}],145:[function(e,t,n){(function(){var n,r,i,o,a,s,l;l=e("./Utility"),a=l.assign,s=l.isFunction,n=e("./XMLDocument"),r=e("./XMLDocumentCB"),o=e("./XMLStringWriter"),i=e("./XMLStreamWriter"),t.exports.create=function(e,t,r,i){var o,s;if(null==e)throw new Error("Root element needs a name");return i=a({},t,r,i),o=new n(i),s=o.element(e),i.headless||(o.declaration(i),null==i.pubID&&null==i.sysID||o.doctype(i)),s},t.exports.begin=function(e,t,i){var o;return s(e)&&(o=[e,t],t=o[0],i=o[1],e={}),t?new r(e,t,i):new n(e)},t.exports.stringWriter=function(e){return new o(e)},t.exports.streamWriter=function(e,t){return new i(e,t)}}).call(this)},{"./Utility":124,"./XMLDocument":134,"./XMLDocumentCB":135,"./XMLStreamWriter":140,"./XMLStringWriter":141}]},{},[1])(1)}),!function(e,t,n){"use strict";!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(e.jQuery)}(function(r){function i(e,t){return this.$element=r(e),t&&("string"===r.type(t.delay)||"number"===r.type(t.delay))&&(t.delay={show:t.delay,hide:t.delay}),this.options=r.extend({},l,t),this._defaults=l,this._name=o,this._targetclick=!1,this.init(),c.push(this.$element),this}var o="webuiPopover",a="webui-popover",s="webui.popover",l={placement:"auto",container:null,width:"auto",height:"auto",trigger:"click",style:"",selector:!1,delay:{show:null,hide:300},async:{type:"GET",before:null,success:null,error:null},cache:!0,multi:!1,arrow:!0,title:"",content:"",closeable:!1,padding:!0,url:"",type:"html",direction:"",animation:null,template:'<div class="webui-popover"><div class="webui-arrow"></div><div class="webui-popover-inner"><a href="#" class="close"></a><h3 class="webui-popover-title"></h3><div class="webui-popover-content"><i class="icon-refresh"></i> <p>&nbsp;</p></div></div></div>',backdrop:!1,dismissible:!0,onShow:null,onHide:null,abortXHR:!0,autoHide:!1,offsetTop:0,offsetLeft:0,iframeOptions:{frameborder:"0",allowtransparency:"true",id:"",name:"",scrolling:"",onload:"",height:"",width:""},hideEmpty:!1},u=a+"-rtl",c=[],p=r('<div class="webui-popover-backdrop"></div>'),d=0,f=!1,h=-2e3,m=r(t),b=function(e,t){return isNaN(e)?t||0:Number(e)},y=function(e){return e.data("plugin_"+o)},g=function(){for(var e=null,t=0;t<c.length;t++)e=y(c[t]),e&&e.hide(!0);m.trigger("hiddenAll."+s)},_=function(e){for(var t=null,n=0;n<c.length;n++)t=y(c[n]),t&&t.id!==e.id&&t.hide(!0);m.trigger("hiddenAll."+s)},v="ontouchstart"in t.documentElement&&/Mobi/.test(navigator.userAgent),T=function(e){var t={x:0,y:0};if("touchstart"===e.type||"touchmove"===e.type||"touchend"===e.type||"touchcancel"===e.type){var n=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];t.x=n.pageX,t.y=n.pageY}else("mousedown"===e.type||"mouseup"===e.type||"click"===e.type)&&(t.x=e.pageX,t.y=e.pageY);return t};i.prototype={init:function(){if(this.$element[0]instanceof t.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");"manual"!==this.getTrigger()&&(v?this.$element.off("touchend",this.options.selector).on("touchend",this.options.selector,r.proxy(this.toggle,this)):"click"===this.getTrigger()?this.$element.off("click",this.options.selector).on("click",this.options.selector,r.proxy(this.toggle,this)):"hover"===this.getTrigger()&&this.$element.off("mouseenter mouseleave click",this.options.selector).on("mouseenter",this.options.selector,r.proxy(this.mouseenterHandler,this)).on("mouseleave",this.options.selector,r.proxy(this.mouseleaveHandler,this))),this._poped=!1,this._inited=!0,this._opened=!1,this._idSeed=d,this.id=o+this._idSeed,this.options.container=r(this.options.container||t.body).first(),this.options.backdrop&&p.appendTo(this.options.container).hide(),d++,"sticky"===this.getTrigger()&&this.show(),this.options.selector&&(this._options=r.extend({},this.options,{selector:""}))},destroy:function(){for(var e=-1,t=0;t<c.length;t++)if(c[t]===this.$element){e=t;break}c.splice(e,1),this.hide(),this.$element.data("plugin_"+o,null),"click"===this.getTrigger()?this.$element.off("click"):"hover"===this.getTrigger()&&this.$element.off("mouseenter mouseleave"),this.$target&&this.$target.remove()},getDelegateOptions:function(){var e={};return this._options&&r.each(this._options,function(t,n){l[t]!==n&&(e[t]=n)}),e},hide:function(e,t){if((e||"sticky"!==this.getTrigger())&&this._opened){t&&(t.preventDefault(),t.stopPropagation()),this.xhr&&this.options.abortXHR===!0&&(this.xhr.abort(),this.xhr=null);var n=r.Event("hide."+s);if(this.$element.trigger(n,[this.$target]),this.$target){this.$target.removeClass("in").addClass(this.getHideAnimation());var i=this;setTimeout(function(){i.$target.hide(),i.getCache()||i.$target.remove()},i.getHideDelay())}this.options.backdrop&&p.hide(),this._opened=!1,this.$element.trigger("hidden."+s,[this.$target]),this.options.onHide&&this.options.onHide(this.$target)}},resetAutoHide:function(){var e=this,t=e.getAutoHide();t&&(e.autoHideHandler&&clearTimeout(e.autoHideHandler),e.autoHideHandler=setTimeout(function(){e.hide()},t))},delegate:function(e){var t=r(e).data("plugin_"+o);return t||(t=new i(e,this.getDelegateOptions()),r(e).data("plugin_"+o,t)),t},toggle:function(e){var t=this;e&&(e.preventDefault(),e.stopPropagation(),this.options.selector&&(t=this.delegate(e.currentTarget))),t[t.getTarget().hasClass("in")?"hide":"show"]()},hideAll:function(){g()},hideOthers:function(){_(this)},show:function(){if(!this._opened){var e=this.getTarget().removeClass().addClass(a).addClass(this._customTargetClass);if(this.options.multi||this.hideOthers(),!this.getCache()||!this._poped||""===this.content){if(this.content="",this.setTitle(this.getTitle()),this.options.closeable||e.find(".close").off("click").remove(),this.isAsync()?this.setContentASync(this.options.content):this.setContent(this.getContent()),this.canEmptyHide()&&""===this.content)return;e.show()}this.displayContent(),this.options.onShow&&this.options.onShow(e),this.bindBodyEvents(),this.options.backdrop&&p.show(),this._opened=!0,this.resetAutoHide()}},displayContent:function(){var e=this.getElementPosition(),t=this.getTarget().removeClass().addClass(a).addClass(this._customTargetClass),n=this.getContentElement(),i=t[0].offsetWidth,o=t[0].offsetHeight,l="bottom",c=r.Event("show."+s);if(this.canEmptyHide()){var p=n.children().html();if(null!==p&&0===p.trim().length)return}this.$element.trigger(c,[t]);var d=this.$element.data("width")||this.options.width;""===d&&(d=this._defaults.width),"auto"!==d&&t.width(d);var f=this.$element.data("height")||this.options.height;""===f&&(f=this._defaults.height),"auto"!==f&&n.height(f),this.options.style&&this.$target.addClass(a+"-"+this.options.style),"rtl"!==this.options.direction||n.hasClass(u)||n.addClass(u),this.options.arrow||t.find(".webui-arrow").remove(),t.detach().css({top:h,left:h,display:"block"}),this.getAnimation()&&t.addClass(this.getAnimation()),t.appendTo(this.options.container),l=this.getPlacement(e),this.$element.trigger("added."+s),this.initTargetEvents(),this.options.padding||("auto"!==this.options.height&&n.css("height",n.outerHeight()),this.$target.addClass("webui-no-padding")),this.options.maxHeight&&n.css("maxHeight",this.options.maxHeight),this.options.maxWidth&&n.css("maxWidth",this.options.maxWidth),i=t[0].offsetWidth,o=t[0].offsetHeight;var m=this.getTargetPositin(e,l,i,o);if(this.$target.css(m.position).addClass(l).addClass("in"),"iframe"===this.options.type){var b=t.find("iframe"),y=t.width(),g=b.parent().height();""!==this.options.iframeOptions.width&&"auto"!==this.options.iframeOptions.width&&(y=this.options.iframeOptions.width),""!==this.options.iframeOptions.height&&"auto"!==this.options.iframeOptions.height&&(g=this.options.iframeOptions.height),b.width(y).height(g)}if(this.options.arrow||this.$target.css({margin:0}),this.options.arrow){var _=this.$target.find(".webui-arrow");_.removeAttr("style"),"left"===l||"right"===l?_.css({top:this.$target.height()/2}):("top"===l||"bottom"===l)&&_.css({left:this.$target.width()/2}),m.arrowOffset&&(-1===m.arrowOffset.left||-1===m.arrowOffset.top?_.hide():_.css(m.arrowOffset))}this._poped=!0,this.$element.trigger("shown."+s,[this.$target])},isTargetLoaded:function(){return 0===this.getTarget().find("i.glyphicon-refresh").length},getTriggerElement:function(){return this.$element},getTarget:function(){if(!this.$target){var e=o+this._idSeed;this.$target=r(this.options.template).attr("id",e),this._customTargetClass=this.$target.attr("class")!==a?this.$target.attr("class"):null,this.getTriggerElement().attr("data-target",e)}return this.$target.data("trigger-element")||this.$target.data("trigger-element",this.getTriggerElement()),this.$target},removeTarget:function(){this.$target.remove(),this.$target=null,this.$contentElement=null},getTitleElement:function(){return this.getTarget().find("."+a+"-title")},getContentElement:function(){return this.$contentElement||(this.$contentElement=this.getTarget().find("."+a+"-content")),this.$contentElement},getTitle:function(){return this.$element.attr("data-title")||this.options.title||this.$element.attr("title")},getUrl:function(){return this.$element.attr("data-url")||this.options.url},getAutoHide:function(){return this.$element.attr("data-auto-hide")||this.options.autoHide},getOffsetTop:function(){return b(this.$element.attr("data-offset-top"))||this.options.offsetTop},getOffsetLeft:function(){return b(this.$element.attr("data-offset-left"))||this.options.offsetLeft},getCache:function(){var e=this.$element.attr("data-cache");if("undefined"!=typeof e)switch(e.toLowerCase()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":return!1}return this.options.cache},getTrigger:function(){return this.$element.attr("data-trigger")||this.options.trigger},getDelayShow:function(){var e=this.$element.attr("data-delay-show");return"undefined"!=typeof e?e:0===this.options.delay.show?0:this.options.delay.show||100},getHideDelay:function(){var e=this.$element.attr("data-delay-hide");return"undefined"!=typeof e?e:0===this.options.delay.hide?0:this.options.delay.hide||100},getAnimation:function(){var e=this.$element.attr("data-animation");return e||this.options.animation},getHideAnimation:function(){var e=this.getAnimation();return e?e+"-out":"out"},setTitle:function(e){var t=this.getTitleElement();e?("rtl"!==this.options.direction||t.hasClass(u)||t.addClass(u),t.html(e)):t.remove()},hasContent:function(){return this.getContent()},canEmptyHide:function(){return this.options.hideEmpty&&"html"===this.options.type},getIframe:function(){var e=r("<iframe></iframe>").attr("src",this.getUrl()),t=this;return r.each(this._defaults.iframeOptions,function(n){"undefined"!=typeof t.options.iframeOptions[n]&&e.attr(n,t.options.iframeOptions[n])}),e},getContent:function(){if(this.getUrl())switch(this.options.type){case"iframe":this.content=this.getIframe();break;case"html":try{this.content=r(this.getUrl()),this.content.is(":visible")||this.content.show()}catch(e){throw new Error("Unable to get popover content. Invalid selector specified.")}}else if(!this.content){var t="";if(t=r.isFunction(this.options.content)?this.options.content.apply(this.$element[0],[this]):this.options.content,this.content=this.$element.attr("data-content")||t,!this.content){var n=this.$element.next();n&&n.hasClass(a+"-content")&&(this.content=n)}}return this.content},setContent:function(e){var t=this.getTarget(),n=this.getContentElement();"string"==typeof e?n.html(e):e instanceof r&&(n.html(""),this.options.cache?e.removeClass(a+"-content").appendTo(n):e.clone(!0,!0).removeClass(a+"-content").appendTo(n)),this.$target=t},isAsync:function(){return"async"===this.options.type},setContentASync:function(e){var t=this;this.xhr||(this.xhr=r.ajax({url:this.getUrl(),type:this.options.async.type,cache:this.getCache(),beforeSend:function(e,n){t.options.async.before&&t.options.async.before(t,e,n)},success:function(n){t.bindBodyEvents(),e&&r.isFunction(e)?t.content=e.apply(t.$element[0],[n]):t.content=n,t.setContent(t.content);var i=t.getContentElement();i.removeAttr("style"),t.displayContent(),t.options.async.success&&t.options.async.success(t,n)},complete:function(){t.xhr=null},error:function(e,n){t.options.async.error&&t.options.async.error(t,e,n)}}))},bindBodyEvents:function(){f||(this.options.dismissible&&"click"===this.getTrigger()?v?m.off("touchstart.webui-popover").on("touchstart.webui-popover",r.proxy(this.bodyTouchStartHandler,this)):(m.off("keyup.webui-popover").on("keyup.webui-popover",r.proxy(this.escapeHandler,this)),m.off("click.webui-popover").on("click.webui-popover",r.proxy(this.bodyClickHandler,this))):"hover"===this.getTrigger()&&m.off("touchend.webui-popover").on("touchend.webui-popover",r.proxy(this.bodyClickHandler,this)))},mouseenterHandler:function(e){var t=this;e&&this.options.selector&&(t=this.delegate(e.currentTarget)),t._timeout&&clearTimeout(t._timeout),t._enterTimeout=setTimeout(function(){t.getTarget().is(":visible")||t.show()},this.getDelayShow())},mouseleaveHandler:function(){var e=this;clearTimeout(e._enterTimeout),e._timeout=setTimeout(function(){e.hide()},this.getHideDelay())},escapeHandler:function(e){27===e.keyCode&&this.hideAll()},bodyTouchStartHandler:function(e){var t=this,n=r(e.currentTarget);n.on("touchend",function(e){t.bodyClickHandler(e),n.off("touchend")}),n.on("touchmove",function(){n.off("touchend")})},bodyClickHandler:function(e){f=!0;for(var t=!0,n=0;n<c.length;n++){var r=y(c[n]);if(r&&r._opened){var i=r.getTarget().offset(),o=i.left,a=i.top,s=i.left+r.getTarget().width(),l=i.top+r.getTarget().height(),u=T(e),p=u.x>=o&&u.x<=s&&u.y>=a&&u.y<=l;if(p){t=!1;break}}}t&&g()},initTargetEvents:function(){"hover"===this.getTrigger()&&this.$target.off("mouseenter mouseleave").on("mouseenter",r.proxy(this.mouseenterHandler,this)).on("mouseleave",r.proxy(this.mouseleaveHandler,this)),this.$target.find(".close").off("click").on("click",r.proxy(this.hide,this,!0))},getPlacement:function(e){var t,n=this.options.container,r=n.innerWidth(),i=n.innerHeight(),o=n.scrollTop(),a=n.scrollLeft(),s=Math.max(0,e.left-a),l=Math.max(0,e.top-o);t="function"==typeof this.options.placement?this.options.placement.call(this,this.getTarget()[0],this.$element[0]):this.$element.data("placement")||this.options.placement;var u="horizontal"===t,c="vertical"===t,p="auto"===t||u||c;return p?t=r/3>s?i/3>l?u?"right-bottom":"bottom-right":2*i/3>l?c?i/2>=l?"bottom-right":"top-right":"right":u?"right-top":"top-right":2*r/3>s?i/3>l?u?r/2>=s?"right-bottom":"left-bottom":"bottom":2*i/3>l?u?r/2>=s?"right":"left":i/2>=l?"bottom":"top":u?r/2>=s?"right-top":"left-top":"top":i/3>l?u?"left-bottom":"bottom-left":2*i/3>l?c?i/2>=l?"bottom-left":"top-left":"left":u?"left-top":"top-left":"auto-top"===t?t=r/3>s?"top-right":2*r/3>s?"top":"top-left":"auto-bottom"===t?t=r/3>s?"bottom-right":2*r/3>s?"bottom":"bottom-left":"auto-left"===t?t=i/3>l?"left-top":2*i/3>l?"left":"left-bottom":"auto-right"===t&&(t=i/3>l?"right-bottom":2*i/3>l?"right":"right-top"),t},getElementPosition:function(){var e=this.$element[0].getBoundingClientRect(),n=this.options.container,i=n.css("position");if(n.is(t.body)||"static"===i)return r.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth||e.width,height:this.$element[0].offsetHeight||e.height});if("fixed"===i){var o=n[0].getBoundingClientRect();return{top:e.top-o.top+n.scrollTop(),left:e.left-o.left+n.scrollLeft(),width:e.width,height:e.height}}return"relative"===i?{top:this.$element.offset().top-n.offset().top,left:this.$element.offset().left-n.offset().left,width:this.$element[0].offsetWidth||e.width,height:this.$element[0].offsetHeight||e.height}:void 0},getTargetPositin:function(e,n,r,i){var o=e,a=this.options.container,s=this.$element.outerWidth(),l=this.$element.outerHeight(),u=t.documentElement.scrollTop+a.scrollTop(),c=t.documentElement.scrollLeft+a.scrollLeft(),p={},d=null,f=this.options.arrow?20:0,m=10,b=f+m>s?f:0,y=f+m>l?f:0,g=0,_=t.documentElement.clientHeight+u,v=t.documentElement.clientWidth+c,T=o.left+o.width/2-b>0,E=o.left+o.width/2+b<v,w=o.top+o.height/2-y>0,S=o.top+o.height/2+y<_;switch(n){case"bottom":p={top:o.top+o.height,left:o.left+o.width/2-r/2};break;case"top":p={top:o.top-i,left:o.left+o.width/2-r/2};break;case"left":p={top:o.top+o.height/2-i/2,left:o.left-r};break;case"right":p={top:o.top+o.height/2-i/2,left:o.left+o.width};break;case"top-right":p={top:o.top-i,left:T?o.left-b:m},d={left:T?Math.min(s,r)/2+b:h};break;case"top-left":g=E?b:-m,p={top:o.top-i,left:o.left-r+o.width+g},d={left:E?r-Math.min(s,r)/2-b:h};break;case"bottom-right":p={top:o.top+o.height,left:T?o.left-b:m},d={left:T?Math.min(s,r)/2+b:h};break;case"bottom-left":g=E?b:-m,p={top:o.top+o.height,left:o.left-r+o.width+g},d={left:E?r-Math.min(s,r)/2-b:h};break;case"right-top":g=S?y:-m,p={top:o.top-i+o.height+g,left:o.left+o.width},d={top:S?i-Math.min(l,i)/2-y:h};break;case"right-bottom":p={top:w?o.top-y:m,left:o.left+o.width},d={top:w?Math.min(l,i)/2+y:h};break;case"left-top":g=S?y:-m,p={top:o.top-i+o.height+g,left:o.left-r},d={top:S?i-Math.min(l,i)/2-y:h};break;case"left-bottom":p={top:w?o.top-y:m,left:o.left-r},d={top:w?Math.min(l,i)/2+y:h}}return p.top+=this.getOffsetTop(),p.left+=this.getOffsetLeft(),{position:p,arrowOffset:d}}},r.fn[o]=function(e,t){var n=[],a=this.each(function(){var a=r.data(this,"plugin_"+o);a?"destroy"===e?a.destroy():"string"==typeof e&&n.push(a[e]()):(e?"string"==typeof e?"destroy"!==e&&(t||(a=new i(this,null),n.push(a[e]()))):"object"==typeof e&&(a=new i(this,e)):a=new i(this,null),r.data(this,"plugin_"+o,a))});return n.length?n:a};var E=function(){var e=function(){g()},t=function(e,t){t=t||{},r(e).webuiPopover(t)},i=function(e){var t=!0;return r(e).each(function(e,i){t=t&&r(i).data("plugin_"+o)!==n}),t},a=function(e,t){t?r(e).webuiPopover(t).webuiPopover("show"):r(e).webuiPopover("show")},s=function(e){r(e).webuiPopover("hide")},u=function(e){l=r.extend({},l,e)},c=function(e,t){var n=r(e).data("plugin_"+o);if(n){var i=n.getCache();n.options.cache=!1,n.options.content=t,n._opened?(n._opened=!1,n.show()):n.isAsync()?n.setContentASync(t):n.setContent(t),n.options.cache=i}},p=function(e,t){var n=r(e).data("plugin_"+o);if(n){var i=n.getCache(),a=n.options.type;n.options.cache=!1,n.options.url=t,n._opened?(n._opened=!1,n.show()):(n.options.type="async",n.setContentASync(n.content)),n.options.cache=i,n.options.type=a}};return{show:a,hide:s,create:t,isCreated:i,hideAll:e,updateContent:c,updateContentAsync:p,setDefaultOptions:u}}();e.WebuiPopovers=E})}(window,document);var T_OAuthConfig={clientId:"3MVG9d8..z.hDcPLS_2B1Uk9Uyy5s4W_NQmJe34oG2EYZAbS_gcdpTDobrNEAZtPIqABoixOr2CTa1ZaUep",clientSecret:"256428649058464388",redirectPath:"/services/oauth2/success?source=ehgmhinnhggigkogkbhnbodhbfjgncjf",extensionId:"ehgmhinnhggigkogkbhnbodhbfjgncjf"},T_AppConfig={appName:"Salesforce DevTools",appUrl:"https://www.xgeek.net/salesforce/tesforce-for-google-chrome/"},T_FieldMapping={en_US:{Account:[{field:"ACCOUNT.PHONE2",label:"Fax",apiname:"Fax",apilabel:"Account Fax"},{field:"ACCOUNT.RECORDTYPE",label:"Account Record Type",apiname:"RecordTypeId",apilabel:"Record Type ID"},{field:"DANDB_COMPANY",label:"D&B Company",apiname:"DandbCompanyId",apilabel:"D&B Company ID"},{field:"ACCOUNT.RATING",label:"Rating",apiname:"Rating",apilabel:"Account Rating"},{field:"PARENT_NAME",label:"Parent Account",apiname:"ParentId",apilabel:"Parent Account ID"},{field:"SOCIAL_PERSONA_TWITTER",label:"Twitter"},{field:"SOCIAL_PERSONA_FACEBOOK",label:"Facebook"},{field:"ACCOUNT.PHONE1",label:"Phone",apiname:"Phone",apilabel:"Account Phone"},{field:"ACCOUNT.TYPE",label:"Type",apiname:"Type",apilabel:"Account Type"}],Asset:[{field:"ASSET.PARENT",label:"Parent Asset",apiname:"ParentId",apilabel:"Parent Asset ID"},{field:"ASSET.ROOT_ASSET",label:"Root Asset",apiname:"RootAssetId",apilabel:"Root Asset ID"},{field:"ACCOUNT.SITE",label:"Account Site"},{field:"CONTACT.FIRST_NAME",label:"First Name"},{field:"CONTACT.LAST_NAME",label:"Last Name"},{field:"PRODUCT2.CUSTOMER_PRODUCT_ID",label:"Product Code"},{field:"PRODUCT2.FAMILY_ENUM",label:"Product Family"},{field:"PRODUCT2.STOCK_KEEPING_UNIT",label:"Product SKU"},{field:"ACCOUNT.NAME",label:"Account Name",apiname:"AccountId",apilabel:"Account ID"},{field:"CONTACT.NAME",label:"Contact Name",apiname:"ContactId",apilabel:"Contact ID"},{field:"PRODUCT2.NAME",label:"Product Name",apiname:"Product2Id",apilabel:"Product ID"}],Campaign:[{field:"PARENT_NAME",label:"Parent Campaign",apiname:"ParentId",apilabel:"Parent Campaign ID"},{field:"CAMPAIGN.NAME",label:"Campaign Name",apiname:"Name",apilabel:"Name"}],Case:[{field:"ACCOUNT.NAME",label:"Account Name",apiname:"OwnerId",apilabel:"Owner ID"},{field:"ACCOUNT.SITE",label:"Account Site"},{field:"CONTACT.FIRST_NAME",label:"First Name"},{field:"CONTACT.LAST_NAME",label:"Last Name"},{field:"CONTACT.ACCOUNT",label:"Contact Account Name"},{field:"CASES.TYPE",label:"Type",apiname:"Type",apilabel:"Case Type"},{field:"CASES.NAME",label:"Web Name",apiname:"SuppliedName",apilabel:"Name"},{field:"CASES.EMAIL",label:"Web Email",apiname:"SuppliedEmail",apilabel:"Email Address"},{field:"CASES.COMPANY",label:"Web Company",apiname:"SuppliedCompany",apilabel:"Company"},{field:"PARENT.CASE_NUMBER",label:"Parent Case Number",apiname:"CaseNumber",apilabel:"Case Number"},{field:"CASES.CREATED_DATE_DATE_ONLY",label:"Date Opened"},{field:"CASES.LAST_UPDATE",label:"Last Modified Date/Time"},{field:"CASES.CLOSED_DATE",label:"Date/Time Closed",apiname:"ClosedDate",apilabel:"Closed Date"},{field:"CREATEDBY_USER.ALIAS",label:"Created By Alias"},{field:"UPDATEDBY_USER.ALIAS",label:"Last Modified By Alias"},{field:"ASSET.NAME",label:"Asset Name",apiname:"OwnerId",apilabel:"Owner ID"},{field:"ASSET.SERIAL_NUMBER",label:"Asset Serial Number"},{field:"ASSET.INSTALL_DATE",label:"Asset Install Date"},{field:"NAME",label:"Contact Name",apiname:"ContactId",apilabel:"Contact ID"},{field:"CASES.CREATED_DATE",label:"Date/Time Opened"},{field:"OWNER_NAME",label:"Owner Name",apiname:"OwnerId",apilabel:"Owner ID"}],Contact:[{field:"ACCOUNT.SITE",label:"Account Site"},{field:"PARENT.NAME",label:"Account Parent Account",apiname:"AccountId",apilabel:"Account ID"},{field:"CONTACT.PHONE2",label:"Fax",apiname:"Fax",apilabel:"Business Fax"},{field:"CONTACT.PHONE3",label:"Mobile",apiname:"MobilePhone",apilabel:"Mobile Phone"},{field:"CONTACT.ASSISTANT_NAME",label:"Assistant",apiname:"AssistantName",apilabel:"Assistant's Name"},{field:"CREATEDBY_USER.ALIAS",label:"Created By Alias"},{field:"UPDATEDBY_USER.ALIAS",label:"Last Modified By Alias"},{field:"CAMPAIGN_MEMBER.STATUS",label:"Campaign Member Status"},{field:"SOCIAL_PERSONA_LINKED_IN",label:"LinkedIn "},{field:"SOCIAL_PERSONA_TWITTER",label:"Twitter"},{field:"SOCIAL_PERSONA_FACEBOOK",label:"Facebook"},{field:"FULL_NAME",label:"Name",apiname:"Name",apilabel:"Full Name",createable:"false",updateable:"false"},{field:"ACCOUNT.NAME",label:"Account Name",apiname:"AccountId",apilabel:"Account ID"},{field:"CONTACT.PHONE1",label:"Phone",apiname:"Phone",apilabel:"Business Phone"}],Contract:[{field:"CONTRACT_TERM",label:"Contract Term (months)",apiname:"ContractTerm",apilabel:"Contract Term"},{field:"COMPANY_SIGNED.NAME",label:"Company Signed By",apiname:"CompanySignedId",apilabel:"Company Signed By ID"},{field:"CUSTOMER_SIGNED.NAME",label:"Customer Signed By",apiname:"CustomerSignedId",apilabel:"Customer Signed By ID"},{field:"CONTRACT.ACTIVATED_BY",label:"Activated By",apiname:"ActivatedById",apilabel:"Activated By ID"},{field:"CREATEDBY_USER.ALIAS",label:"Created By Alias"},{field:"UPDATEDBY_USER.ALIAS",label:"Last Modified By Alias"},{field:"PRICEBOOK2.Name",label:"Price Book Name",apiname:"Pricebook2Id",apilabel:"Price Book ID"}],Entitlement:[{field:"ASSET.NAME",label:"Asset Name",apiname:"AssetId",apilabel:"Asset ID"},{field:"SLA.NAME",label:"Entitlement Process Name",apiname:"SlaProcessId",apilabel:"Entitlement Process ID"},{field:"BH.NAME",label:"Business Hours Name",apiname:"BusinessHoursId",apilabel:"Business Hours ID"},{field:"ENTITLEMENT.STATUSINDICATOR",label:"Status Icon"
},{field:"CREATEDBY_USER.NAME",label:"Created By"},{field:"CREATEDBY_USER.ALIAS",label:"Created By Alias"},{field:"UPDATEDBY_USER.NAME",label:"Last Modified By"},{field:"UPDATEDBY_USER.ALIAS",label:"Last Modified By Alias"},{field:"ACCOUNT.NAME",label:"Account Name",apiname:"AccountId",apilabel:"Account ID"}],Event:[{field:"TASK.TYPE",label:"Type"},{field:"TASK.DUE_DATE",label:"Due Date"},{field:"EVENT.START_DATE_TIME",label:"Start",apiname:"StartDateTime",apilabel:"Start Date Time"},{field:"EVENT.END_DATE_TIME",label:"End",apiname:"EndDateTime",apilabel:"End Date Time"},{field:"TASK.CREATED_DATE",label:"Create Date"},{field:"TASK.LAST_UPDATE",label:"Last Modified Date/Time"},{field:"ACTIVITY.TASK",label:"Task"},{field:"OWNER_ROLE",label:"Assigned Role"},{field:"TASK.CLOSED",label:"Closed"},{field:"TASK.PRIORITY",label:"Priority"},{field:"TASK.STATUS",label:"Status"},{field:"TASK.CALLDURATION",label:"Call Duration"},{field:"TASK.CALLTYPE",label:"Call Type"},{field:"TASK.CALLDISPOSITION",label:"Call Result"},{field:"TASK.CALLOBJECT",label:"Call Object Identifier"},{field:"EVENT.ALL_DAY",label:"All-day",apiname:"IsAllDayEvent",apilabel:"All-Day Event"},{field:"ACTIVITY_SUBTYPE",label:"Activity Subtype",apiname:"EventSubtype",apilabel:"Event Subtype"},{field:"CREATEDBY_USER.ALIAS",label:"Created By Alias"},{field:"UPDATEDBY_USER.ALIAS",label:"Last Modified By Alias"},{field:"TASK.WHO_NAME",label:"Name",apiname:"WhoId",apilabel:"Name ID"},{field:"TASK.WHAT_NAME",label:"Related To",apiname:"WhatId",apilabel:"Related To ID"}],Idea:[{field:"IDEA.CREATED_BY_ALIAS",label:"Posted By (Alias)"},{field:"VOTE.HAS_VOTED",label:"Has Voted"},{field:"IDEA.LAST_COMMENT_DATE",label:"Last Comment Date",apiname:"LastCommentDate",apilabel:"Last Comment Date"},{field:"IDEA.CREATED_DATE",label:"Date/Time Created"},{field:"IDEA.CREATED_BY_NICKNAME",label:"Posted By"},{field:"IDEA.NUM_COMMENTS",label:"Comments",apiname:"NumComments",apilabel:"Comments"},{field:"COMMUNITY.NAME",label:"Zone",apiname:"CommunityId",apilabel:"Zone"}],Lead:[{field:"LEAD.MOBILE_PHONE",label:"Mobile",apiname:"MobilePhone",apilabel:"Mobile Phone"},{field:"LEAD.EMPLOYEES",label:"No. of Employees",apiname:"NumberOfEmployees",apilabel:"Employees"},{field:"DANDB_COMPANY",label:"D&B Company",apiname:"DandbCompanyId",apilabel:"D&B Company ID"},{field:"CREATEDBY_USER.ALIAS",label:"Created By Alias"},{field:"UPDATEDBY_USER.ALIAS",label:"Last Modified By Alias"},{field:"CAMPAIGN_MEMBER.STATUS",label:"Campaign Member Status"},{field:"IS_EMAIL_ADDRESS_BOUNCED",label:"Is Email Bounced"},{field:"FULL_NAME",label:"Name",apiname:"Name",apilabel:"Full Name",createable:"false",updateable:"false"},{field:"LEAD.STATUS",label:"Lead Status",apiname:"Status",apilabel:"Status"}],Opportunity:[{field:"ACCOUNT.SITE",label:"Account Site"},{field:"OPPORTUNITY.RECORDTYPE",label:"Opportunity Record Type",apiname:"RecordTypeId",apilabel:"Record Type ID"},{field:"CONTRACT.CONTRACT_NUMBER",label:"Contract Number"},{field:"OPPORTUNITY.EXP_AMOUNT",label:"Expected Revenue",apiname:"ExpectedRevenue",apilabel:"Expected Amount"},{field:"OPPORTUNITY.TYPE",label:"Type",apiname:"Type",apilabel:"Opportunity Type"},{field:"UPDATEDBY_USER.ALIAS",label:"Last Modified By Alias"},{field:"CREATEDBY_USER.ALIAS",label:"Created By Alias"},{field:"SYNCEDQUOTE.NAME",label:"Synced Quote",apiname:"SyncedQuoteId",apilabel:"Quote ID"},{field:"TERR2_NAME",label:"Territory Name",apiname:"Territory2Id",apilabel:"Territory ID"},{field:"TERR2_DESC",label:"Territory Description"},{field:"OPPORTUNITY.NAME",label:"Opportunity Name",apiname:"Name",apilabel:"Name"},{field:"ACCOUNT.NAME",label:"Account Name",apiname:"AccountId",apilabel:"Account ID"}],Order:[{field:"ORIGINAL_ORDER.ORDER_NUMBER",label:"Original Order"},{field:"CONTRACT.OWNERALIAS",label:"Contract Owner Alias"},{field:"ACTIVATEDBY_USER.ALIAS",label:"Activated By"},{field:"CREATEDBY_USER.ALIAS",label:"Created By Alias"},{field:"UPDATEDBY_USER.ALIAS",label:"Last Modified By Alias"},{field:"ORDERS.LAST_UPDATE",label:"Last Modified"},{field:"CONTRACT.STATUS",label:"Contract Status"},{field:"CONTRACT.CONTRACT_TERM",label:"Contract Term (months)"},{field:"CONTRACT.START_DATE",label:"Contract Start Date"},{field:"PRICEBOOK2.NAME",label:"Price Book Name",apiname:"Pricebook2Id",apilabel:"Price Book ID"},{field:"ORDER.BILL_TO_CONTACT",label:"Bill To Contact",apiname:"BillToContactId",apilabel:"Bill To Contact ID"},{field:"ORDER.SHIP_TO_CONTACT",label:"Ship To Contact",apiname:"ShipToContactId",apilabel:"Ship To Contact ID"},{field:"ORDER.CUSTOMER_AUTHORIZED_BY",label:"Customer Authorized By",apiname:"CustomerAuthorizedById",apilabel:"Customer Authorized By ID"},{field:"ORDER.COMPANY_AUTHORIZED_BY",label:"Company Authorized By",apiname:"CompanyAuthorizedById",apilabel:"Company Authorized By ID"},{field:"CONTRACT.CONTRACT_NUMBER",label:"Contract Number"}],PricebookEntry:[{field:"PRICEBOOK.NAME",label:"Price Book Name",apiname:"Name",apilabel:"Product Name"},{field:"PRICEBOOK.ACTIVE",label:"Active (Price Book)",apiname:"IsActive",apilabel:"Active"},{field:"PRODUCT2.FAMILY_ENUM",label:"Product Family"},{field:"PRODUCT2.DESCRIPTION",label:"Product Description"},{field:"CREATEDBY_USER.ALIAS",label:"Created By Alias"},{field:"UPDATEDBY_USER.ALIAS",label:"Last Update By Alias"},{field:"PRODUCT2.ACTIVE",label:"Active (Product)"},{field:"PRODUCT.ACTIVE",label:"Active (Price)"}],Product2:[{field:"CREATEDBY_USER.ALIAS",label:"Created By Alias"},{field:"UPDATEDBY_USER.ALIAS",label:"Last Update By Alias"},{field:"PRODUCT2.ACTIVE",label:"Active (Product)",apiname:"IsActive",apilabel:"Active"},{field:"PRODUCT2.EXTERNAL_DATA_SOURCE",label:"External Data Source"},{field:"PRODUCT2.EXTERNAL_ID",label:"External ID"},{field:"PRODUCT2.DISPLAY_URL",label:"Display URL"},{field:"PRODUCT2.QTY_UNIT_OF_MEASURE",label:"Quantity Unit Of Measure"},{field:"PRODUCT2.SKU",label:"Product SKU"}],Quote:[{field:"CreatedBy",label:"Created By"},{field:"LastModifiedBy",label:"Modified By"},{field:"ACCOUNT.NAME",label:"Account Name",apiname:"AccountId",apilabel:"Account ID",createable:"false",updateable:"false"},{field:"Owner",label:"Quote Owner",apiname:"OwnerId",apilabel:"Owner ID"},{field:"OPPORTUNITY.OWNER",label:"Opportunity Owner"},{field:"CONTACT.FULL_NAME",label:"Contact Name",apiname:"ContactId",apilabel:"Contact ID"},{field:"CONTRACT.CONTRACT_NUMBER",label:"Contract Number"},{field:"OPPORTUNITY.NAME",label:"Opportunity Name",apiname:"OpportunityId",apilabel:"Opportunity ID"}],ServiceContract:[{field:"ACCOUNT.NAME",label:"Account Name",apiname:"AccountId",apilabel:"Account ID"},{field:"CONTACT.NAME",label:"Contact Name",apiname:"ContactId",apilabel:"Contact ID"},{field:"OWNER.FIRST_NAME",label:"Owner First Name"},{field:"OWNER.LAST_NAME",label:"Owner Last Name"},{field:"OWNER.ALIAS",label:"Service Contract Owner Alias"},{field:"OWNER.NAME",label:"Owner Name"},{field:"CONTRACT.STATUSINDICATOR",label:"Status Icon"},{field:"CREATEDBY_USER.NAME",label:"Created By"},{field:"CREATEDBY_USER.ALIAS",label:"Created By Alias"},{field:"UPDATEDBY_USER.NAME",label:"Last Modified By"},{field:"UPDATEDBY_USER.ALIAS",label:"Last Modified By Alias"}],Solution:[{field:"UPDATEBY_USER.ALIAS",label:"Last Modified By Alias"},{field:"SHORT_SOLUTION_NOTE",label:"Solution Details",apiname:"SolutionNote",apilabel:"Description"},{field:"SOLUTION.ISSUE",label:"Solution Title",apiname:"SolutionName",apilabel:"Title"}],Task:[{field:"TASK.TYPE",label:"Type"},{field:"TASK.DUE_DATE",label:"Due Date",apiname:"ActivityDate",apilabel:"Due Date Only"},{field:"EVENT.START_DATE_TIME",label:"Start"},{field:"EVENT.END_DATE_TIME",label:"End"},{field:"TASK.CREATED_DATE",label:"Create Date"},{field:"TASK.LAST_UPDATE",label:"Last Modified Date/Time"},{field:"ACTIVITY.TASK",label:"Task"},{field:"OWNER_ROLE",label:"Assigned Role"},{field:"EVENT.LOCATION",label:"Location"},{field:"EVENT.DURATION",label:"Duration"},{field:"EVENT.ALL_DAY",label:"All-day"},{field:"ACTIVITY_SUBTYPE",label:"Activity Subtype",apiname:"TaskSubtype",apilabel:"Task Subtype"},{field:"CREATEDBY_USER.ALIAS",label:"Created By Alias"},{field:"UPDATEDBY_USER.ALIAS",label:"Last Modified By Alias"},{field:"TASK.WHO_NAME",label:"Name",apiname:"WhoId",apilabel:"Name ID"},{field:"TASK.WHAT_NAME",label:"Related To",apiname:"WhatId",apilabel:"Related To ID"}],User:[{field:"UPDATEDBY_USER.NAME",label:"Last Modified By"},{field:"LAST_UPDATE_BY_ALIAS",label:"Last Modified By Alias"},{field:"SU_ACCESS_EXPIRATION",label:"Login Access Exp. Date"},{field:"SU_ORG_ADMIN_EXPIRATION",label:"Admin Access Exp. Date"},{field:"IS_FROZEN",label:"Is Frozen"},{field:"MOBILE_USER",label:"Salesforce Classic User"},{field:"STORAGE_USED",label:"Storage Used (KB)"},{field:"DELEGATED_APPROVER",label:"Delegated Approver"},{field:"CREATED_BY_NAME",label:"Created By"},{field:"CREATED_BY_ALIAS",label:"Created By Alias"},{field:"START_OF_DAY",label:"Start of Day"},{field:"END_OF_DAY",label:"End of Day"},{field:"PASSWORD_EXPIRES",label:"Password Expiration Date"},{field:"PHONE_VERIFIED",label:"Has Verified Mobile Number"},{field:"HAS_TOTP",label:"Has One-Time Password App"},{field:"HAS_AUTHENTICATOR",label:"Has Salesforce Authenticator"},{field:"HAS_TEMP_CODE",label:"Has Temporary Code"},{field:"HAS_U2F",label:"Has U2F Security Key"},{field:"MANAGER",label:"Manager"}],WorkFeedbackRequest:[{field:"Owner",label:"Owner Name",apiname:"OwnerId",apilabel:"Owner ID"},{field:"CreatedBy",label:"Initiated By"},{field:"LastModifiedBy",label:"Last Modified By"},{field:"QuestionSet",label:"Feedback Question Set",apiname:"QuestionSetId",apilabel:"Feedback Question Set ID"},{field:"RelatedObject",label:"Related Object",apiname:"RelatedObjectId",apilabel:"Related Object ID"},{field:"PerformanceCycle",label:"Performance Cycle",apiname:"PerformanceCycleId",apilabel:"Performance Cycle ID"},{field:"SubmitFeedbackTo",label:"Submit Feedback To",apiname:"SubmitFeedbackToId",apilabel:"Submit Feedback To User ID"},{field:"Subject",label:"Feedback About",apiname:"SubjectId",apilabel:"Subject User ID"},{field:"DueDate",label:"Due Date"},{field:"Recipient",label:"Feedback From",apiname:"RecipientId",apilabel:"Recipient User ID"}],WorkFeedbackTemplate:[{field:"Owner",label:"Owner Name",apiname:"OwnerId",apilabel:"Owner ID"},{field:"CreatedBy",label:"Created By"},{field:"LastModifiedBy",label:"Last Modified By"},{field:"QuestionSet",label:"Feedback Question Set",apiname:"QuestionSetId",apilabel:"Feedback Question Set ID"}],WorkOrder:[{field:"Owner",label:"Owner",apiname:"OwnerId",apilabel:"Owner ID"},{field:"CreatedBy",label:"Created By"},{field:"LastModifiedBy",label:"Last Modified By"},{field:"Contact",label:"Contact",apiname:"ContactId",apilabel:"Contact ID"},{field:"Case",label:"Case",apiname:"CaseId",apilabel:"Case ID"},{field:"Entitlement",label:"Entitlement",apiname:"EntitlementId",apilabel:"Entitlement ID"},{field:"ServiceContract",label:"Service Contract",apiname:"ServiceContractId",apilabel:"Service Contract ID"},{field:"Asset",label:"Asset",apiname:"AssetId",apilabel:"Asset ID"},{field:"Pricebook2",label:"Price Book",apiname:"Pricebook2Id",apilabel:"Price Book ID"},{field:"ParentWorkOrder",label:"Parent Work Order",apiname:"ParentWorkOrderId",apilabel:"Parent Work Order ID"},{field:"RootWorkOrder",label:"Root Work Order"},{field:"IsClosed",label:"Is Closed"},{field:"BusinessHours",label:"Business Hours"},{field:"SlaStartDate",label:"Entitlement Process Start Time",apiname:"StartDate",apilabel:"Start Date"},{field:"SlaExitDate",label:"Entitlement Process End Time",apiname:"EndDate",apilabel:"End Date"},{field:"MilestoneStatus",label:"Milestone Status"},{field:"MilestoneStatusIcon",label:"Milestone Status Icon"},{field:"Account",label:"Account",apiname:"AccountId",apilabel:"Account ID"}]},ja:{Account:[{field:"ACCOUNT.PHONE2",label:"Fax",apiname:"Fax",apilabel:"Account Fax"},{field:"ACCOUNT.RECORDTYPE",label:"",apiname:"RecordTypeId",apilabel:"Record Type ID"},{field:"DANDB_COMPANY",label:"D&B ",apiname:"DandbCompanyId",apilabel:"D&B Company ID"},{field:"ACCOUNT.RATING",label:"",apiname:"Rating",apilabel:"Account Rating"},{field:"PARENT_NAME",label:"",apiname:"ParentId",apilabel:"Parent Account ID"},{field:"SOCIAL_PERSONA_TWITTER",label:"Twitter"},{field:"SOCIAL_PERSONA_FACEBOOK",label:"Facebook"},{field:"ACCOUNT.PHONE1",label:"",apiname:"Phone",apilabel:"Account Phone"},{field:"ACCOUNT.TYPE",label:"",apiname:"Type",apilabel:"Account Type"}],Asset:[{field:"ASSET.PARENT",label:"",apiname:"ParentId",apilabel:"Parent Asset ID"},{field:"ASSET.ROOT_ASSET",label:"",apiname:"RootAssetId",apilabel:"Root Asset ID"},{field:"ACCOUNT.SITE",label:" "},{field:"CONTACT.FIRST_NAME",label:""},{field:"CONTACT.LAST_NAME",label:""},{field:"PRODUCT2.CUSTOMER_PRODUCT_ID",label:""},{field:"PRODUCT2.FAMILY_ENUM",label:""},{field:"PRODUCT2.STOCK_KEEPING_UNIT",label:" SKU"},{field:"ACCOUNT.NAME",label:"",apiname:"AccountId",apilabel:"Account ID"},{field:"CONTACT.NAME",label:"",apiname:"ContactId",apilabel:"Contact ID"},{field:"PRODUCT2.NAME",label:"",apiname:"Product2Id",apilabel:"Product ID"}],Campaign:[{field:"PARENT_NAME",label:"",apiname:"ParentId",apilabel:"Parent Campaign ID"},{field:"CAMPAIGN.NAME",label:"",apiname:"Name",apilabel:"Name"}],Case:[{field:"ACCOUNT.NAME",label:"",apiname:"OwnerId",apilabel:"Owner ID"},{field:"ACCOUNT.SITE",label:" "},{field:"CONTACT.FIRST_NAME",label:""},{field:"CONTACT.LAST_NAME",label:""},{field:"CONTACT.ACCOUNT",label:""},{field:"CASES.TYPE",label:"",apiname:"Type",apilabel:"Case Type"},{field:"CASES.NAME",label:"Web ",apiname:"SuppliedName",apilabel:"Name"},{field:"CASES.EMAIL",label:"Web ",apiname:"SuppliedEmail",apilabel:"Email Address"},{field:"CASES.COMPANY",label:"Web ",apiname:"SuppliedCompany",apilabel:"Company"},{field:"PARENT.CASE_NUMBER",label:"",apiname:"CaseNumber",apilabel:"Case Number"},{field:"CASES.CREATED_DATE_DATE_ONLY",label:""},{field:"CASES.LAST_UPDATE",label:""},{field:"CASES.CLOSED_DATE",label:"",apiname:"ClosedDate",apilabel:"Closed Date"},{field:"CREATEDBY_USER.ALIAS",label:"()"},{field:"UPDATEDBY_USER.ALIAS",label:"()"},{field:"ASSET.NAME",label:"",apiname:"OwnerId",apilabel:"Owner ID"},{field:"ASSET.SERIAL_NUMBER",label:" "},{field:"ASSET.INSTALL_DATE",label:" "},{field:"NAME",label:"",apiname:"ContactId",apilabel:"Contact ID"},{field:"CASES.CREATED_DATE",label:""},{field:"OWNER_NAME",label:" ",apiname:"OwnerId",apilabel:"Owner ID"}],Contact:[{field:"ACCOUNT.SITE",label:" "},{field:"PARENT.NAME",label:"",apiname:"AccountId",apilabel:"Account ID"},{field:"CONTACT.PHONE3",label:"",apiname:"MobilePhone",apilabel:"Mobile Phone"},{field:"CONTACT.ASSISTANT_NAME",label:"",apiname:"AssistantName",apilabel:"Assistant's Name"},{field:"CREATEDBY_USER.ALIAS",label:"()"},{field:"UPDATEDBY_USER.ALIAS",label:"()"},{field:"CAMPAIGN_MEMBER.STATUS",label:""},{field:"SOCIAL_PERSONA_LINKED_IN",label:"LinkedIn "},{field:"SOCIAL_PERSONA_TWITTER",label:"Twitter"},{field:"SOCIAL_PERSONA_FACEBOOK",label:"Facebook"},{field:"FULL_NAME",label:"",apiname:"Name",apilabel:"Full Name"},{field:"ACCOUNT.NAME",label:"",apiname:"AccountId",apilabel:"Account ID"}],Contract:[{field:"CONTRACT_TERM",label:" ()",apiname:"ContractTerm",apilabel:"Contract Term"},{field:"COMPANY_SIGNED.NAME",label:" ",apiname:"CompanySignedId",apilabel:"Company Signed By ID"},{field:"CUSTOMER_SIGNED.NAME",label:" ",apiname:"CustomerSignedId",apilabel:"Customer Signed By ID"},{field:"CONTRACT.ACTIVATED_BY",label:"",apiname:"ActivatedById",apilabel:"Activated By ID"},{field:"CREATEDBY_USER.ALIAS",label:"()"},{field:"UPDATEDBY_USER.ALIAS",label:"()"},{field:"PRICEBOOK2.Name",label:"",apiname:"Pricebook2Id",apilabel:"Price Book ID"}],Entitlement:[{field:"ASSET.NAME",label:"",apiname:"AssetId",apilabel:"Asset ID"},{field:"SLA.NAME",label:"",apiname:"SlaProcessId",apilabel:"Entitlement Process ID"},{field:"BH.NAME",label:"",apiname:"BusinessHoursId",apilabel:"Business Hours ID"},{field:"ENTITLEMENT.STATUSINDICATOR",label:""},{field:"CREATEDBY_USER.NAME",label:""},{field:"CREATEDBY_USER.ALIAS",label:"()"},{field:"UPDATEDBY_USER.NAME",label:""},{field:"UPDATEDBY_USER.ALIAS",label:"()"},{field:"ACCOUNT.NAME",label:"",apiname:"AccountId",apilabel:"Account ID"}],Event:[{field:"TASK.TYPE",label:""},{field:"TASK.DUE_DATE",label:""},{field:"EVENT.START_DATE_TIME",label:"",apiname:"StartDateTime",apilabel:"Start Date Time"},{field:"EVENT.END_DATE_TIME",label:"",apiname:"EndDateTime",apilabel:"End Date Time"},{field:"TASK.LAST_UPDATE",label:""},{field:"ACTIVITY.TASK",label:"ToDo"},{field:"OWNER_ROLE",label:""},{field:"TASK.CLOSED",label:""},{field:"TASK.PRIORITY",label:""},{field:"TASK.STATUS",label:""},{field:"TASK.CALLDURATION",label:""},{field:"TASK.CALLTYPE",label:""},{field:"TASK.CALLDISPOSITION",label:""},{field:"TASK.CALLOBJECT",label:" ID"},{field:"EVENT.ALL_DAY",label:"",apiname:"IsAllDayEvent",apilabel:"All-Day Event"},{field:"ACTIVITY_SUBTYPE",label:"",apiname:"EventSubtype",apilabel:"Event Subtype"},{field:"CREATEDBY_USER.ALIAS",label:"()"},{field:"UPDATEDBY_USER.ALIAS",label:"()"},{field:"TASK.WHO_NAME",label:"",apiname:"WhoId",apilabel:"Name ID"},{field:"TASK.WHAT_NAME",label:"",apiname:"WhatId",apilabel:"Related To ID"}],Idea:[{field:"IDEA.CREATED_BY_ALIAS",label:" ()"},{field:"VOTE.HAS_VOTED",label:""},{field:"IDEA.LAST_COMMENT_DATE",label:"",apiname:"LastCommentDate",apilabel:"Last Comment Date"},{field:"IDEA.CREATED_DATE",label:""},{field:"IDEA.CREATED_BY_NICKNAME",label:""},{field:"IDEA.NUM_COMMENTS",label:"",apiname:"NumComments",apilabel:"Comments"},{field:"COMMUNITY.NAME",label:"",apiname:"CommunityId",apilabel:"Zone"}],Lead:[{field:"LEAD.MOBILE_PHONE",label:"",apiname:"MobilePhone",apilabel:"Mobile Phone"},{field:"DANDB_COMPANY",label:"D&B ",apiname:"DandbCompanyId",apilabel:"D&B Company ID"},{field:"CREATEDBY_USER.ALIAS",label:"()"},{field:"UPDATEDBY_USER.ALIAS",label:"()"},{field:"CAMPAIGN_MEMBER.STATUS",label:""},{field:"IS_EMAIL_ADDRESS_BOUNCED",label:""},{field:"FULL_NAME",label:"",apiname:"Name",apilabel:"Full Name"},{field:"LEAD.STATUS",label:" ",apiname:"Status",apilabel:"Status"}],Opportunity:[{field:"ACCOUNT.SITE",label:" "},{field:"OPPORTUNITY.RECORDTYPE",label:"",apiname:"RecordTypeId",apilabel:"Record Type ID"},{field:"CONTRACT.CONTRACT_NUMBER",label:""},{field:"OPPORTUNITY.TYPE",label:"",apiname:"Type",apilabel:"Opportunity Type"},{field:"UPDATEDBY_USER.ALIAS",label:"()"},{field:"CREATEDBY_USER.ALIAS",label:"()"},{field:"SYNCEDQUOTE.NAME",label:"",apiname:"SyncedQuoteId",apilabel:"Quote ID"},{field:"TERR2_NAME",label:" ",apiname:"Territory2Id",apilabel:"Territory ID"},{field:"TERR2_DESC",label:" "},{field:"ACCOUNT.NAME",label:"",apiname:"AccountId",apilabel:"Account ID"}],Order:[{field:"ORIGINAL_ORDER.ORDER_NUMBER",label:""},{field:"CONTRACT.OWNERALIAS",label:" ()"},{field:"ACTIVATEDBY_USER.ALIAS",label:""},{field:"CREATEDBY_USER.ALIAS",label:"()"},{field:"UPDATEDBY_USER.ALIAS",label:"()"},{field:"ORDERS.LAST_UPDATE",label:""},{field:"CONTRACT.STATUS",label:""},{field:"CONTRACT.CONTRACT_TERM",label:" ()"},{field:"CONTRACT.START_DATE",label:""},{field:"PRICEBOOK2.NAME",label:"",apiname:"Pricebook2Id",apilabel:"Price Book ID"},{field:"ORDER.BILL_TO_CONTACT",label:" ",apiname:"BillToContactId",apilabel:"Bill To Contact ID"},{field:"ORDER.SHIP_TO_CONTACT",label:" ",apiname:"ShipToContactId",apilabel:"Ship To Contact ID"},{field:"ORDER.CUSTOMER_AUTHORIZED_BY",label:" ",apiname:"CustomerAuthorizedById",apilabel:"Customer Authorized By ID"},{field:"ORDER.COMPANY_AUTHORIZED_BY",label:" ",apiname:"CompanyAuthorizedById",apilabel:"Company Authorized By ID"},{field:"CONTRACT.CONTRACT_NUMBER",label:""}],PricebookEntry:[{field:"PRICEBOOK.NAME",label:"",apiname:"Name",apilabel:"Product Name"},{field:"PRICEBOOK.ACTIVE",label:"()",apiname:"IsActive",apilabel:"Active"},{field:"PRODUCT2.FAMILY_ENUM",label:""},{field:"PRODUCT2.DESCRIPTION",label:" "},{field:"CREATEDBY_USER.ALIAS",label:"()"},{field:"UPDATEDBY_USER.ALIAS",label:"()"},{field:"PRODUCT2.ACTIVE",label:" ()"},{field:"PRODUCT.ACTIVE",label:"()"}],Product2:[{field:"CREATEDBY_USER.ALIAS",label:"()"},{field:"UPDATEDBY_USER.ALIAS",label:"()"},{field:"PRODUCT2.ACTIVE",label:" ()",apiname:"IsActive",apilabel:"Active"},{field:"PRODUCT2.EXTERNAL_DATA_SOURCE",label:""},{field:"PRODUCT2.EXTERNAL_ID",label:" ID"},{field:"PRODUCT2.DISPLAY_URL",label:" URL"},{field:"PRODUCT2.QTY_UNIT_OF_MEASURE",label:""},{field:"PRODUCT2.SKU",label:" SKU"}],Quote:[{field:"CreatedBy",label:""},{field:"LastModifiedBy",label:""},{field:"ACCOUNT.NAME",label:"",apiname:"AccountId",apilabel:"Account ID",createable:"false",updateable:"false"},{field:"Owner",label:"",apiname:"OwnerId",apilabel:"Owner ID"},{field:"OPPORTUNITY.OWNER",label:""},{field:"CONTACT.FULL_NAME",label:"",apiname:"ContactId",apilabel:"Contact ID"},{field:"CONTRACT.CONTRACT_NUMBER",label:""},{field:"OPPORTUNITY.NAME",label:"",apiname:"OpportunityId",apilabel:"Opportunity ID"}],ServiceContract:[{field:"ACCOUNT.NAME",label:"",apiname:"AccountId",apilabel:"Account ID"},{field:"CONTACT.NAME",label:"",apiname:"ContactId",apilabel:"Contact ID"},{field:"OWNER.FIRST_NAME",label:" "},{field:"OWNER.LAST_NAME",label:" "},{field:"OWNER.ALIAS",label:""},{field:"OWNER.NAME",label:" "},{field:"CONTRACT.STATUSINDICATOR",label:""},{field:"CREATEDBY_USER.NAME",label:""},{field:"CREATEDBY_USER.ALIAS",label:"()"},{field:"UPDATEDBY_USER.NAME",label:""},{field:"UPDATEDBY_USER.ALIAS",label:"()"}],Solution:[{field:"UPDATEBY_USER.ALIAS",label:"()"},{field:"SHORT_SOLUTION_NOTE",label:"",apiname:"SolutionNote",apilabel:"Description"}],Task:[{field:"TASK.TYPE",label:""},{field:"TASK.DUE_DATE",label:"",apiname:"ActivityDate",apilabel:"Due Date Only"},{field:"EVENT.START_DATE_TIME",label:""},{field:"EVENT.END_DATE_TIME",label:""},{field:"TASK.LAST_UPDATE",label:""},{field:"ACTIVITY.TASK",label:"ToDo"},{field:"OWNER_ROLE",label:""},{field:"EVENT.LOCATION",label:""},{field:"EVENT.DURATION",label:""},{field:"EVENT.ALL_DAY",label:""},{field:"ACTIVITY_SUBTYPE",label:"",apiname:"TaskSubtype",apilabel:"Task Subtype"},{field:"CREATEDBY_USER.ALIAS",label:"()"},{field:"UPDATEDBY_USER.ALIAS",label:"()"},{field:"TASK.WHO_NAME",label:"",apiname:"WhoId",apilabel:"Name ID"},{field:"TASK.WHAT_NAME",label:"",apiname:"WhatId",apilabel:"Related To ID"}],User:[{field:"UPDATEDBY_USER.NAME",label:""},{field:"LAST_UPDATE_BY_ALIAS",label:"()"},{field:"SU_ACCESS_EXPIRATION",label:""},{field:"SU_ORG_ADMIN_EXPIRATION",label:""},{field:"IS_FROZEN",label:""},{field:"MOBILE_USER",label:"Salesforce Classic "},{field:"STORAGE_USED",label:"(KB)"},{field:"DELEGATED_APPROVER",label:""},{field:"CREATED_BY_NAME",label:""},{field:"CREATED_BY_ALIAS",label:"()"},{field:"START_OF_DAY",label:""},{field:"END_OF_DAY",label:""},{field:"PASSWORD_EXPIRES",label:""},{field:"PHONE_VERIFIED",label:""},{field:"HAS_TOTP",label:""},{field:"HAS_AUTHENTICATOR",label:"Salesforce Authenticator "},{field:"HAS_TEMP_CODE",label:""},{field:"HAS_U2F",label:"U2F "},{field:"MANAGER",label:""}],WorkFeedbackRequest:[{field:"Owner",label:" ",apiname:"OwnerId",apilabel:"Owner ID"},{field:"CreatedBy",label:""},{field:"LastModifiedBy",label:""},{field:"QuestionSet",label:"",apiname:"QuestionSetId",apilabel:"Feedback Question Set ID"},{field:"RelatedObject",label:"",apiname:"RelatedObjectId",apilabel:"Related Object ID"},{field:"PerformanceCycle",label:"",apiname:"PerformanceCycleId",apilabel:"Performance Cycle ID"},{field:"SubmitFeedbackTo",label:"",apiname:"SubmitFeedbackToId",apilabel:"Submit Feedback To User ID"},{field:"Subject",label:"",apiname:"SubjectId",apilabel:"Subject User ID"},{field:"DueDate",label:""},{field:"Recipient",label:"",apiname:"RecipientId",apilabel:"Recipient User ID"}],WorkFeedbackTemplate:[{field:"Owner",label:" ",apiname:"OwnerId",apilabel:"Owner ID"},{field:"CreatedBy",label:""},{field:"LastModifiedBy",label:""},{field:"QuestionSet",label:"",apiname:"QuestionSetId",apilabel:"Feedback Question Set ID"}],WorkOrder:[{field:"Owner",label:"",apiname:"OwnerId",apilabel:"Owner ID"},{field:"CreatedBy",label:""},{field:"LastModifiedBy",label:""},{field:"Contact",label:"",apiname:"ContactId",apilabel:"Contact ID"},{field:"Case",label:"",apiname:"CaseId",apilabel:"Case ID"},{field:"Entitlement",label:"",apiname:"EntitlementId",apilabel:"Entitlement ID"},{field:"ServiceContract",label:"",apiname:"ServiceContractId",apilabel:"Service Contract ID"},{field:"Asset",label:"",apiname:"AssetId",apilabel:"Asset ID"},{field:"Pricebook2",label:"",apiname:"Pricebook2Id",apilabel:"Price Book ID"},{field:"ParentWorkOrder",label:"",apiname:"ParentWorkOrderId",apilabel:"Parent Work Order ID"},{field:"RootWorkOrder",label:""},{field:"IsClosed",label:""},{field:"BusinessHours",label:""},{field:"SlaStartDate",label:"",apiname:"StartDate",apilabel:"Start Date"},{field:"SlaExitDate",label:"",apiname:"EndDate",apilabel:"End Date"},{field:"MilestoneStatus",label:""},{field:"MilestoneStatusIcon",label:""},{field:"Account",label:"",apiname:"AccountId",apilabel:"Account ID"}]},zh_TW:{Account:[{field:"ACCOUNT.PHONE2",label:"",apiname:"Fax",apilabel:"Account Fax"},{field:"ACCOUNT.RECORDTYPE",label:"",apiname:"RecordTypeId",apilabel:"Record Type ID"},{field:"DANDB_COMPANY",label:"D&B ",apiname:"DandbCompanyId",apilabel:"D&B Company ID"},{field:"ACCOUNT.RATING",label:"",apiname:"Rating",apilabel:"Account Rating"},{field:"PARENT_NAME",label:"",apiname:"ParentId",apilabel:"Parent Account ID"},{field:"SOCIAL_PERSONA_TWITTER",label:"Twitter"},{field:"SOCIAL_PERSONA_FACEBOOK",label:"Facebook"},{field:"ACCOUNT.PHONE1",label:"",apiname:"Phone",apilabel:"Account Phone"},{field:"ACCOUNT.TYPE",label:"",apiname:"Type",apilabel:"Account Type"}],Asset:[{field:"ASSET.PARENT",label:"",apiname:"ParentId",apilabel:"Parent Asset ID"},{field:"ASSET.ROOT_ASSET",label:"",apiname:"RootAssetId",apilabel:"Root Asset ID"},{field:"ACCOUNT.SITE",label:""},{field:"CONTACT.FIRST_NAME",label:""},{field:"CONTACT.LAST_NAME",label:""},{field:"PRODUCT2.CUSTOMER_PRODUCT_ID",label:""},{field:"PRODUCT2.FAMILY_ENUM",label:""},{field:"PRODUCT2.STOCK_KEEPING_UNIT",label:" SKU"},{field:"ACCOUNT.NAME",label:"",apiname:"AccountId",apilabel:"Account ID"},{field:"CONTACT.NAME",label:"",apiname:"ContactId",apilabel:"Contact ID"},{field:"PRODUCT2.NAME",label:"",apiname:"Product2Id",apilabel:"Product ID"}],Campaign:[{field:"PARENT_NAME",label:"",apiname:"ParentId",apilabel:"Parent Campaign ID"},{field:"CAMPAIGN.NAME",label:"",apiname:"Name",apilabel:"Name"}],Case:[{field:"ACCOUNT.NAME",label:"",apiname:"OwnerId",apilabel:"Owner ID"},{field:"ACCOUNT.SITE",label:""},{field:"CONTACT.FIRST_NAME",label:""},{field:"CONTACT.LAST_NAME",label:""},{field:"CONTACT.ACCOUNT",label:""},{field:"CASES.TYPE",label:"",apiname:"Type",apilabel:"Case Type"},{field:"CASES.NAME",label:"",apiname:"SuppliedName",apilabel:"Name"},{field:"CASES.EMAIL",label:"Web ",apiname:"SuppliedEmail",apilabel:"Email Address"},{field:"CASES.COMPANY",label:"",apiname:"SuppliedCompany",apilabel:"Company"},{field:"PARENT.CASE_NUMBER",label:"",apiname:"CaseNumber",apilabel:"Case Number"},{field:"CASES.CREATED_DATE_DATE_ONLY",label:""},{field:"CASES.LAST_UPDATE",label:"/"},{field:"CASES.CLOSED_DATE",label:"/",apiname:"ClosedDate",apilabel:"Closed Date"},{field:"CREATEDBY_USER.ALIAS",label:""},{field:"UPDATEDBY_USER.ALIAS",label:""},{field:"ASSET.NAME",label:"",apiname:"OwnerId",apilabel:"Owner ID"},{field:"ASSET.SERIAL_NUMBER",label:""},{field:"ASSET.INSTALL_DATE",label:""},{field:"NAME",label:"",apiname:"ContactId",apilabel:"Contact ID"},{field:"CASES.CREATED_DATE",label:"/"},{field:"OWNER_NAME",label:"",apiname:"OwnerId",apilabel:"Owner ID"}],Contact:[{field:"ACCOUNT.SITE",label:""},{field:"PARENT.NAME",label:"",apiname:"AccountId",apilabel:"Account ID"},{field:"CONTACT.PHONE2",label:"",apiname:"Fax",apilabel:"Business Fax"},{field:"CONTACT.ASSISTANT_NAME",label:"",apiname:"AssistantName",apilabel:"Assistant's Name"},{field:"CREATEDBY_USER.ALIAS",label:""},{field:"UPDATEDBY_USER.ALIAS",label:""},{field:"CAMPAIGN_MEMBER.STATUS",label:""},{field:"SOCIAL_PERSONA_LINKED_IN",label:"LinkedIn "},{field:"SOCIAL_PERSONA_TWITTER",label:"Twitter"},{field:"SOCIAL_PERSONA_FACEBOOK",label:"Facebook"},{field:"FULL_NAME",label:"",apiname:"Name",apilabel:"Full Name"},{field:"ACCOUNT.NAME",label:"",apiname:"AccountId",apilabel:"Account ID"},{field:"CONTACT.PHONE1",label:"",apiname:"Phone",apilabel:"Business Phone"}],Contract:[{field:"CONTRACT_TERM",label:" ()",apiname:"ContractTerm",apilabel:"Contract Term"},{field:"COMPANY_SIGNED.NAME",label:"",apiname:"CompanySignedId",apilabel:"Company Signed By ID"},{field:"CUSTOMER_SIGNED.NAME",label:"",apiname:"CustomerSignedId",apilabel:"Customer Signed By ID"},{field:"CONTRACT.ACTIVATED_BY",label:"",apiname:"ActivatedById",apilabel:"Activated By ID"},{field:"CREATEDBY_USER.ALIAS",label:""},{field:"UPDATEDBY_USER.ALIAS",label:""},{field:"PRICEBOOK2.Name",label:"",apiname:"Pricebook2Id",apilabel:"Price Book ID"}],Entitlement:[{field:"ASSET.NAME",label:"",apiname:"AssetId",apilabel:"Asset ID"},{field:"SLA.NAME",label:"",apiname:"SlaProcessId",apilabel:"Entitlement Process ID"},{field:"BH.NAME",label:"",apiname:"BusinessHoursId",apilabel:"Business Hours ID"},{field:"ENTITLEMENT.STATUSINDICATOR",label:""},{field:"CREATEDBY_USER.NAME",label:""},{field:"CREATEDBY_USER.ALIAS",label:""},{field:"UPDATEDBY_USER.NAME",label:""},{field:"UPDATEDBY_USER.ALIAS",label:""},{field:"ACCOUNT.NAME",label:"",apiname:"AccountId",apilabel:"Account ID"}],Event:[{field:"TASK.TYPE",label:""},{field:"TASK.DUE_DATE",label:""},{field:"EVENT.START_DATE_TIME",label:"",apiname:"StartDateTime",apilabel:"Start Date Time"},{field:"EVENT.END_DATE_TIME",label:"",apiname:"EndDateTime",apilabel:"End Date Time"},{field:"TASK.LAST_UPDATE",label:"/"},{field:"ACTIVITY.TASK",label:""},{field:"OWNER_ROLE",label:""},{field:"TASK.CLOSED",label:""},{field:"TASK.PRIORITY",label:""},{field:"TASK.STATUS",label:""},{field:"TASK.CALLDURATION",label:""},{field:"TASK.CALLTYPE",label:""},{field:"TASK.CALLDISPOSITION",label:""},{field:"TASK.CALLOBJECT",label:""},{field:"EVENT.ALL_DAY",label:"",apiname:"IsAllDayEvent",apilabel:"All-Day Event"},{field:"ACTIVITY_SUBTYPE",label:"",apiname:"EventSubtype",apilabel:"Event Subtype"},{field:"CREATEDBY_USER.ALIAS",label:""},{field:"UPDATEDBY_USER.ALIAS",label:""},{field:"TASK.WHO_NAME",label:"",apiname:"WhoId",apilabel:"Name ID"},{field:"TASK.WHAT_NAME",label:"",apiname:"WhatId",apilabel:"Related To ID"
}],Idea:[{field:"IDEA.CREATED_BY_ALIAS",label:" ()"},{field:"VOTE.HAS_VOTED",label:""},{field:"IDEA.LAST_COMMENT_DATE",label:"",apiname:"LastCommentDate",apilabel:"Last Comment Date"},{field:"IDEA.CREATED_DATE",label:"/"},{field:"IDEA.CREATED_BY_NICKNAME",label:""},{field:"IDEA.NUM_COMMENTS",label:"",apiname:"NumComments",apilabel:"Comments"},{field:"COMMUNITY.NAME",label:"",apiname:"CommunityId",apilabel:"Zone"}],Lead:[{field:"DANDB_COMPANY",label:"D&B ",apiname:"DandbCompanyId",apilabel:"D&B Company ID"},{field:"CREATEDBY_USER.ALIAS",label:""},{field:"UPDATEDBY_USER.ALIAS",label:""},{field:"CAMPAIGN_MEMBER.STATUS",label:""},{field:"IS_EMAIL_ADDRESS_BOUNCED",label:""},{field:"FULL_NAME",label:"",apiname:"Name",apilabel:"Full Name"},{field:"LEAD.STATUS",label:"",apiname:"Status",apilabel:"Status"}],Opportunity:[{field:"ACCOUNT.SITE",label:""},{field:"OPPORTUNITY.RECORDTYPE",label:"",apiname:"RecordTypeId",apilabel:"Record Type ID"},{field:"CONTRACT.CONTRACT_NUMBER",label:""},{field:"OPPORTUNITY.EXP_AMOUNT",label:"",apiname:"ExpectedRevenue",apilabel:"Expected Amount"},{field:"OPPORTUNITY.TYPE",label:"",apiname:"Type",apilabel:"Opportunity Type"},{field:"UPDATEDBY_USER.ALIAS",label:""},{field:"CREATEDBY_USER.ALIAS",label:""},{field:"SYNCEDQUOTE.NAME",label:"",apiname:"SyncedQuoteId",apilabel:"Quote ID"},{field:"TERR2_NAME",label:"",apiname:"Territory2Id",apilabel:"Territory ID"},{field:"TERR2_DESC",label:""},{field:"OPPORTUNITY.NAME",label:"",apiname:"Name",apilabel:"Name"},{field:"ACCOUNT.NAME",label:"",apiname:"AccountId",apilabel:"Account ID"}],Order:[{field:"ORIGINAL_ORDER.ORDER_NUMBER",label:""},{field:"CONTRACT.OWNERALIAS",label:""},{field:"ACTIVATEDBY_USER.ALIAS",label:""},{field:"CREATEDBY_USER.ALIAS",label:""},{field:"UPDATEDBY_USER.ALIAS",label:""},{field:"ORDERS.LAST_UPDATE",label:""},{field:"CONTRACT.STATUS",label:""},{field:"CONTRACT.CONTRACT_TERM",label:" ()"},{field:"CONTRACT.START_DATE",label:""},{field:"PRICEBOOK2.NAME",label:"",apiname:"Pricebook2Id",apilabel:"Price Book ID"},{field:"ORDER.BILL_TO_CONTACT",label:"",apiname:"BillToContactId",apilabel:"Bill To Contact ID"},{field:"ORDER.SHIP_TO_CONTACT",label:"",apiname:"ShipToContactId",apilabel:"Ship To Contact ID"},{field:"ORDER.CUSTOMER_AUTHORIZED_BY",label:"",apiname:"CustomerAuthorizedById",apilabel:"Customer Authorized By ID"},{field:"ORDER.COMPANY_AUTHORIZED_BY",label:"",apiname:"CompanyAuthorizedById",apilabel:"Company Authorized By ID"},{field:"CONTRACT.CONTRACT_NUMBER",label:""}],PricebookEntry:[{field:"PRICEBOOK.NAME",label:"",apiname:"Name",apilabel:"Product Name"},{field:"PRICEBOOK.ACTIVE",label:" ()",apiname:"IsActive",apilabel:"Active"},{field:"PRODUCT2.FAMILY_ENUM",label:""},{field:"PRODUCT2.DESCRIPTION",label:""},{field:"CREATEDBY_USER.ALIAS",label:""},{field:"UPDATEDBY_USER.ALIAS",label:""},{field:"PRODUCT2.ACTIVE",label:" ()"},{field:"PRODUCT.ACTIVE",label:" ()"}],Product2:[{field:"CREATEDBY_USER.ALIAS",label:""},{field:"UPDATEDBY_USER.ALIAS",label:""},{field:"PRODUCT2.ACTIVE",label:" ()",apiname:"IsActive",apilabel:"Active"},{field:"PRODUCT2.EXTERNAL_DATA_SOURCE",label:""},{field:"PRODUCT2.EXTERNAL_ID",label:""},{field:"PRODUCT2.DISPLAY_URL",label:" URL"},{field:"PRODUCT2.QTY_UNIT_OF_MEASURE",label:""},{field:"PRODUCT2.SKU",label:" SKU"}],Quote:[{field:"CreatedBy",label:""},{field:"LastModifiedBy",label:""},{field:"ACCOUNT.NAME",label:"",apiname:"AccountId",apilabel:"Account ID",createable:"false",updateable:"false"},{field:"Owner",label:"",apiname:"OwnerId",apilabel:"Owner ID"},{field:"OPPORTUNITY.OWNER",label:""},{field:"CONTACT.FULL_NAME",label:"",apiname:"ContactId",apilabel:"Contact ID"},{field:"CONTRACT.CONTRACT_NUMBER",label:""},{field:"OPPORTUNITY.NAME",label:"",apiname:"OpportunityId",apilabel:"Opportunity ID"}],ServiceContract:[{field:"ACCOUNT.NAME",label:"",apiname:"AccountId",apilabel:"Account ID"},{field:"CONTACT.NAME",label:"",apiname:"ContactId",apilabel:"Contact ID"},{field:"OWNER.FIRST_NAME",label:""},{field:"OWNER.LAST_NAME",label:""},{field:"OWNER.ALIAS",label:""},{field:"OWNER.NAME",label:""},{field:"CONTRACT.STATUSINDICATOR",label:""},{field:"CREATEDBY_USER.NAME",label:""},{field:"CREATEDBY_USER.ALIAS",label:""},{field:"UPDATEDBY_USER.NAME",label:""},{field:"UPDATEDBY_USER.ALIAS",label:""}],Solution:[{field:"UPDATEBY_USER.ALIAS",label:""},{field:"SHORT_SOLUTION_NOTE",label:"",apiname:"SolutionNote",apilabel:"Description"},{field:"SOLUTION.ISSUE",label:"",apiname:"SolutionName",apilabel:"Title"}],Task:[{field:"TASK.TYPE",label:""},{field:"TASK.DUE_DATE",label:"",apiname:"ActivityDate",apilabel:"Due Date Only"},{field:"EVENT.START_DATE_TIME",label:""},{field:"EVENT.END_DATE_TIME",label:""},{field:"TASK.LAST_UPDATE",label:"/"},{field:"ACTIVITY.TASK",label:""},{field:"OWNER_ROLE",label:""},{field:"EVENT.LOCATION",label:""},{field:"EVENT.DURATION",label:""},{field:"EVENT.ALL_DAY",label:""},{field:"ACTIVITY_SUBTYPE",label:"",apiname:"TaskSubtype",apilabel:"Task Subtype"},{field:"CREATEDBY_USER.ALIAS",label:""},{field:"UPDATEDBY_USER.ALIAS",label:""},{field:"TASK.WHO_NAME",label:"",apiname:"WhoId",apilabel:"Name ID"},{field:"TASK.WHAT_NAME",label:"",apiname:"WhatId",apilabel:"Related To ID"}],User:[{field:"UPDATEDBY_USER.NAME",label:""},{field:"LAST_UPDATE_BY_ALIAS",label:""},{field:"SU_ACCESS_EXPIRATION",label:""},{field:"SU_ORG_ADMIN_EXPIRATION",label:""},{field:"IS_FROZEN",label:""},{field:"MOBILE_USER",label:"Salesforce Classic "},{field:"STORAGE_USED",label:" (KB)"},{field:"DELEGATED_APPROVER",label:""},{field:"CREATED_BY_NAME",label:""},{field:"CREATED_BY_ALIAS",label:""},{field:"START_OF_DAY",label:""},{field:"END_OF_DAY",label:""},{field:"PASSWORD_EXPIRES",label:""},{field:"PHONE_VERIFIED",label:""},{field:"HAS_TOTP",label:""},{field:"HAS_AUTHENTICATOR",label:" Salesforce Authenticator"},{field:"HAS_TEMP_CODE",label:""},{field:"HAS_U2F",label:" U2F "},{field:"MANAGER",label:""}],WorkFeedbackRequest:[{field:"Owner",label:"",apiname:"OwnerId",apilabel:"Owner ID"},{field:"CreatedBy",label:""},{field:"LastModifiedBy",label:""},{field:"QuestionSet",label:"",apiname:"QuestionSetId",apilabel:"Feedback Question Set ID"},{field:"RelatedObject",label:"",apiname:"RelatedObjectId",apilabel:"Related Object ID"},{field:"PerformanceCycle",label:"",apiname:"PerformanceCycleId",apilabel:"Performance Cycle ID"},{field:"SubmitFeedbackTo",label:"",apiname:"SubmitFeedbackToId",apilabel:"Submit Feedback To User ID"},{field:"Subject",label:"",apiname:"SubjectId",apilabel:"Subject User ID"},{field:"DueDate",label:""},{field:"Recipient",label:"",apiname:"RecipientId",apilabel:"Recipient User ID"}],WorkFeedbackTemplate:[{field:"Owner",label:"",apiname:"OwnerId",apilabel:"Owner ID"},{field:"CreatedBy",label:""},{field:"LastModifiedBy",label:""},{field:"QuestionSet",label:"",apiname:"QuestionSetId",apilabel:"Feedback Question Set ID"}],WorkOrder:[{field:"Owner",label:"",apiname:"OwnerId",apilabel:"Owner ID"},{field:"CreatedBy",label:""},{field:"LastModifiedBy",label:""},{field:"Contact",label:"",apiname:"ContactId",apilabel:"Contact ID"},{field:"Case",label:"",apiname:"CaseId",apilabel:"Case ID"},{field:"Entitlement",label:"",apiname:"EntitlementId",apilabel:"Entitlement ID"},{field:"ServiceContract",label:"",apiname:"ServiceContractId",apilabel:"Service Contract ID"},{field:"Asset",label:"",apiname:"AssetId",apilabel:"Asset ID"},{field:"Pricebook2",label:"",apiname:"Pricebook2Id",apilabel:"Price Book ID"},{field:"ParentWorkOrder",label:"",apiname:"ParentWorkOrderId",apilabel:"Parent Work Order ID"},{field:"RootWorkOrder",label:""},{field:"IsClosed",label:""},{field:"BusinessHours",label:""},{field:"SlaStartDate",label:"",apiname:"StartDate",apilabel:"Start Date"},{field:"SlaExitDate",label:"",apiname:"EndDate",apilabel:"End Date"},{field:"MilestoneStatus",label:""},{field:"MilestoneStatusIcon",label:""},{field:"Account",label:"",apiname:"AccountId",apilabel:"Account ID"}]},zh_CN:{Account:[{field:"ACCOUNT.PHONE2",label:"",apiname:"Fax",apilabel:"Account Fax"},{field:"ACCOUNT.RECORDTYPE",label:"",apiname:"RecordTypeId",apilabel:"Record Type ID"},{field:"DANDB_COMPANY",label:"D&B ",apiname:"DandbCompanyId",apilabel:"D&B Company ID"},{field:"ACCOUNT.RATING",label:"",apiname:"Rating",apilabel:"Account Rating"},{field:"PARENT_NAME",label:"",apiname:"ParentId",apilabel:"Parent Account ID"},{field:"SOCIAL_PERSONA_TWITTER",label:"Twitter"},{field:"SOCIAL_PERSONA_FACEBOOK",label:"Facebook"},{field:"ACCOUNT.PHONE1",label:"",apiname:"Phone",apilabel:"Account Phone"},{field:"ACCOUNT.TYPE",label:"",apiname:"Type",apilabel:"Account Type"}],Asset:[{field:"ASSET.PARENT",label:"",apiname:"ParentId",apilabel:"Parent Asset ID"},{field:"ASSET.ROOT_ASSET",label:"",apiname:"RootAssetId",apilabel:"Root Asset ID"},{field:"ACCOUNT.SITE",label:""},{field:"CONTACT.FIRST_NAME",label:""},{field:"CONTACT.LAST_NAME",label:""},{field:"PRODUCT2.CUSTOMER_PRODUCT_ID",label:""},{field:"PRODUCT2.FAMILY_ENUM",label:""},{field:"PRODUCT2.STOCK_KEEPING_UNIT",label:""},{field:"ACCOUNT.NAME",label:"",apiname:"AccountId",apilabel:"Account ID"},{field:"CONTACT.NAME",label:"",apiname:"ContactId",apilabel:"Contact ID"},{field:"PRODUCT2.NAME",label:"",apiname:"Product2Id",apilabel:"Product ID"}],Campaign:[{field:"PARENT_NAME",label:"",apiname:"ParentId",apilabel:"Parent Campaign ID"},{field:"CAMPAIGN.NAME",label:"",apiname:"Name",apilabel:"Name"}],Case:[{field:"ACCOUNT.NAME",label:"",apiname:"OwnerId",apilabel:"Owner ID"},{field:"ACCOUNT.SITE",label:""},{field:"CONTACT.FIRST_NAME",label:""},{field:"CONTACT.LAST_NAME",label:""},{field:"CONTACT.ACCOUNT",label:""},{field:"CASES.TYPE",label:"",apiname:"Type",apilabel:"Case Type"},{field:"CASES.NAME",label:"Web ",apiname:"SuppliedName",apilabel:"Name"},{field:"CASES.EMAIL",label:"Web ",apiname:"SuppliedEmail",apilabel:"Email Address"},{field:"CASES.COMPANY",label:"Web ",apiname:"SuppliedCompany",apilabel:"Company"},{field:"PARENT.CASE_NUMBER",label:" ",apiname:"CaseNumber",apilabel:"Case Number"},{field:"CASES.CREATED_DATE_DATE_ONLY",label:""},{field:"CASES.LAST_UPDATE",label:"/"},{field:"CASES.CLOSED_DATE",label:"/",apiname:"ClosedDate",apilabel:"Closed Date"},{field:"CREATEDBY_USER.ALIAS",label:""},{field:"UPDATEDBY_USER.ALIAS",label:""},{field:"ASSET.NAME",label:"",apiname:"OwnerId",apilabel:"Owner ID"},{field:"ASSET.SERIAL_NUMBER",label:""},{field:"ASSET.INSTALL_DATE",label:""},{field:"NAME",label:"",apiname:"ContactId",apilabel:"Contact ID"},{field:"CASES.CREATED_DATE",label:"/"},{field:"OWNER_NAME",label:"",apiname:"OwnerId",apilabel:"Owner ID"}],Contact:[{field:"ACCOUNT.SITE",label:""},{field:"PARENT.NAME",label:"",apiname:"AccountId",apilabel:"Account ID"},{field:"CONTACT.PHONE2",label:"",apiname:"Fax",apilabel:"Business Fax"},{field:"CONTACT.ASSISTANT_NAME",label:"",apiname:"AssistantName",apilabel:"Assistant's Name"},{field:"CREATEDBY_USER.ALIAS",label:""},{field:"UPDATEDBY_USER.ALIAS",label:""},{field:"CAMPAIGN_MEMBER.STATUS",label:""},{field:"SOCIAL_PERSONA_LINKED_IN",label:"LinkedIn "},{field:"SOCIAL_PERSONA_TWITTER",label:"Twitter"},{field:"SOCIAL_PERSONA_FACEBOOK",label:"Facebook"},{field:"FULL_NAME",label:"",apiname:"Name",apilabel:"Full Name"},{field:"ACCOUNT.NAME",label:"",apiname:"AccountId",apilabel:"Account ID"},{field:"CONTACT.PHONE1",label:"",apiname:"Phone",apilabel:"Business Phone"}],Contract:[{field:"CONTRACT_TERM",label:"",apiname:"ContractTerm",apilabel:"Contract Term"},{field:"COMPANY_SIGNED.NAME",label:"",apiname:"CompanySignedId",apilabel:"Company Signed By ID"},{field:"CUSTOMER_SIGNED.NAME",label:"",apiname:"CustomerSignedId",apilabel:"Customer Signed By ID"},{field:"CONTRACT.ACTIVATED_BY",label:"",apiname:"ActivatedById",apilabel:"Activated By ID"},{field:"CREATEDBY_USER.ALIAS",label:""},{field:"UPDATEDBY_USER.ALIAS",label:""},{field:"PRICEBOOK2.Name",label:"",apiname:"Pricebook2Id",apilabel:"Price Book ID"}],Entitlement:[{field:"ASSET.NAME",label:"",apiname:"AssetId",apilabel:"Asset ID"},{field:"SLA.NAME",label:"",apiname:"SlaProcessId",apilabel:"Entitlement Process ID"},{field:"BH.NAME",label:"",apiname:"BusinessHoursId",apilabel:"Business Hours ID"},{field:"ENTITLEMENT.STATUSINDICATOR",label:""},{field:"CREATEDBY_USER.NAME",label:""},{field:"CREATEDBY_USER.ALIAS",label:""},{field:"UPDATEDBY_USER.NAME",label:""},{field:"UPDATEDBY_USER.ALIAS",label:""},{field:"ACCOUNT.NAME",label:"",apiname:"AccountId",apilabel:"Account ID"}],Event:[{field:"TASK.TYPE",label:""},{field:"TASK.DUE_DATE",label:""},{field:"EVENT.START_DATE_TIME",label:"",apiname:"StartDateTime",apilabel:"Start Date Time"},{field:"EVENT.END_DATE_TIME",label:"",apiname:"EndDateTime",apilabel:"End Date Time"},{field:"TASK.LAST_UPDATE",label:"/"},{field:"ACTIVITY.TASK",label:""},{field:"OWNER_ROLE",label:""},{field:"TASK.CLOSED",label:""},{field:"TASK.PRIORITY",label:""},{field:"TASK.STATUS",label:""},{field:"TASK.CALLDURATION",label:""},{field:"TASK.CALLTYPE",label:""},{field:"TASK.CALLDISPOSITION",label:""},{field:"TASK.CALLOBJECT",label:""},{field:"EVENT.ALL_DAY",label:"",apiname:"IsAllDayEvent",apilabel:"All-Day Event"},{field:"ACTIVITY_SUBTYPE",label:"",apiname:"EventSubtype",apilabel:"Event Subtype"},{field:"CREATEDBY_USER.ALIAS",label:""},{field:"UPDATEDBY_USER.ALIAS",label:""},{field:"TASK.WHO_NAME",label:"",apiname:"WhoId",apilabel:"Name ID"},{field:"TASK.WHAT_NAME",label:"",apiname:"WhatId",apilabel:"Related To ID"}],Idea:[{field:"IDEA.CREATED_BY_ALIAS",label:""},{field:"VOTE.HAS_VOTED",label:""},{field:"IDEA.LAST_COMMENT_DATE",label:"",apiname:"LastCommentDate",apilabel:"Last Comment Date"},{field:"IDEA.CREATED_DATE",label:"/"},{field:"IDEA.CREATED_BY_NICKNAME",label:""},{field:"IDEA.NUM_COMMENTS",label:"",apiname:"NumComments",apilabel:"Comments"},{field:"COMMUNITY.NAME",label:"",apiname:"CommunityId",apilabel:"Zone"}],Lead:[{field:"DANDB_COMPANY",label:"D&B ",apiname:"DandbCompanyId",apilabel:"D&B Company ID"},{field:"CREATEDBY_USER.ALIAS",label:""},{field:"UPDATEDBY_USER.ALIAS",label:""},{field:"CAMPAIGN_MEMBER.STATUS",label:""},{field:"IS_EMAIL_ADDRESS_BOUNCED",label:""},{field:"FULL_NAME",label:"",apiname:"Name",apilabel:"Full Name"},{field:"LEAD.STATUS",label:"",apiname:"Status",apilabel:"Status"}],Opportunity:[{field:"ACCOUNT.SITE",label:""},{field:"OPPORTUNITY.RECORDTYPE",label:"",apiname:"RecordTypeId",apilabel:"Record Type ID"},{field:"CONTRACT.CONTRACT_NUMBER",label:""},{field:"OPPORTUNITY.EXP_AMOUNT",label:"",apiname:"ExpectedRevenue",apilabel:"Expected Amount"},{field:"OPPORTUNITY.TYPE",label:"",apiname:"Type",apilabel:"Opportunity Type"},{field:"UPDATEDBY_USER.ALIAS",label:""},{field:"CREATEDBY_USER.ALIAS",label:""},{field:"SYNCEDQUOTE.NAME",label:"",apiname:"SyncedQuoteId",apilabel:"Quote ID"},{field:"TERR2_NAME",label:"",apiname:"Territory2Id",apilabel:"Territory ID"},{field:"TERR2_DESC",label:""},{field:"OPPORTUNITY.NAME",label:"",apiname:"Name",apilabel:"Name"},{field:"ACCOUNT.NAME",label:"",apiname:"AccountId",apilabel:"Account ID"}],Order:[{field:"ORIGINAL_ORDER.ORDER_NUMBER",label:""},{field:"CONTRACT.OWNERALIAS",label:""},{field:"ACTIVATEDBY_USER.ALIAS",label:""},{field:"CREATEDBY_USER.ALIAS",label:""},{field:"UPDATEDBY_USER.ALIAS",label:""},{field:"ORDERS.LAST_UPDATE",label:""},{field:"CONTRACT.STATUS",label:""},{field:"CONTRACT.CONTRACT_TERM",label:""},{field:"CONTRACT.START_DATE",label:""},{field:"PRICEBOOK2.NAME",label:"",apiname:"Pricebook2Id",apilabel:"Price Book ID"},{field:"ORDER.BILL_TO_CONTACT",label:"",apiname:"BillToContactId",apilabel:"Bill To Contact ID"},{field:"ORDER.SHIP_TO_CONTACT",label:"",apiname:"ShipToContactId",apilabel:"Ship To Contact ID"},{field:"ORDER.CUSTOMER_AUTHORIZED_BY",label:"",apiname:"CustomerAuthorizedById",apilabel:"Customer Authorized By ID"},{field:"ORDER.COMPANY_AUTHORIZED_BY",label:"",apiname:"CompanyAuthorizedById",apilabel:"Company Authorized By ID"},{field:"CONTRACT.CONTRACT_NUMBER",label:""}],PricebookEntry:[{field:"PRICEBOOK.NAME",label:"",apiname:"Name",apilabel:"Product Name"},{field:"PRICEBOOK.ACTIVE",label:" ()",apiname:"IsActive",apilabel:"Active"},{field:"PRODUCT2.FAMILY_ENUM",label:""},{field:"PRODUCT2.DESCRIPTION",label:""},{field:"CREATEDBY_USER.ALIAS",label:""},{field:"UPDATEDBY_USER.ALIAS",label:""},{field:"PRODUCT2.ACTIVE",label:" ()"},{field:"PRODUCT.ACTIVE",label:""}],Product2:[{field:"CREATEDBY_USER.ALIAS",label:""},{field:"UPDATEDBY_USER.ALIAS",label:""},{field:"PRODUCT2.ACTIVE",label:" ()",apiname:"IsActive",apilabel:"Active"},{field:"PRODUCT2.EXTERNAL_DATA_SOURCE",label:""},{field:"PRODUCT2.EXTERNAL_ID",label:" ID"},{field:"PRODUCT2.DISPLAY_URL",label:" URL"},{field:"PRODUCT2.QTY_UNIT_OF_MEASURE",label:""},{field:"PRODUCT2.SKU",label:""}],Quote:[{field:"CreatedBy",label:""},{field:"LastModifiedBy",label:""},{field:"ACCOUNT.NAME",label:"",apiname:"AccountId",apilabel:"Account ID",createable:"false",updateable:"false"},{field:"Owner",label:"",apiname:"OwnerId",apilabel:"Owner ID"},{field:"OPPORTUNITY.OWNER",label:""},{field:"CONTACT.FULL_NAME",label:"",apiname:"ContactId",apilabel:"Contact ID"},{field:"CONTRACT.CONTRACT_NUMBER",label:""},{field:"OPPORTUNITY.NAME",label:"",apiname:"OpportunityId",apilabel:"Opportunity ID"}],ServiceContract:[{field:"ACCOUNT.NAME",label:"",apiname:"AccountId",apilabel:"Account ID"},{field:"CONTACT.NAME",label:"",apiname:"ContactId",apilabel:"Contact ID"},{field:"OWNER.FIRST_NAME",label:""},{field:"OWNER.LAST_NAME",label:""},{field:"OWNER.ALIAS",label:""},{field:"OWNER.NAME",label:""},{field:"CONTRACT.STATUSINDICATOR",label:""},{field:"CREATEDBY_USER.NAME",label:""},{field:"CREATEDBY_USER.ALIAS",label:""},{field:"UPDATEDBY_USER.NAME",label:""},{field:"UPDATEDBY_USER.ALIAS",label:""}],Solution:[{field:"UPDATEBY_USER.ALIAS",label:""},{field:"SHORT_SOLUTION_NOTE",label:"",apiname:"SolutionNote",apilabel:"Description"},{field:"SOLUTION.ISSUE",label:"",apiname:"SolutionName",apilabel:"Title"}],Task:[{field:"TASK.TYPE",label:""},{field:"TASK.DUE_DATE",label:"",apiname:"ActivityDate",apilabel:"Due Date Only"},{field:"EVENT.START_DATE_TIME",label:""},{field:"EVENT.END_DATE_TIME",label:""},{field:"TASK.LAST_UPDATE",label:"/"},{field:"ACTIVITY.TASK",label:""},{field:"OWNER_ROLE",label:""},{field:"EVENT.LOCATION",label:""},{field:"EVENT.DURATION",label:""},{field:"EVENT.ALL_DAY",label:""},{field:"ACTIVITY_SUBTYPE",label:"",apiname:"TaskSubtype",apilabel:"Task Subtype"},{field:"CREATEDBY_USER.ALIAS",label:""},{field:"UPDATEDBY_USER.ALIAS",label:""},{field:"TASK.WHO_NAME",label:"",apiname:"WhoId",apilabel:"Name ID"},{field:"TASK.WHAT_NAME",label:"",apiname:"WhatId",apilabel:"Related To ID"}],User:[{field:"UPDATEDBY_USER.NAME",label:""},{field:"LAST_UPDATE_BY_ALIAS",label:""},{field:"SU_ACCESS_EXPIRATION",label:""},{field:"SU_ORG_ADMIN_EXPIRATION",label:""},{field:"IS_FROZEN",label:""},{field:"MOBILE_USER",label:"Salesforce Classic "},{field:"STORAGE_USED",label:" (KB)"},{field:"DELEGATED_APPROVER",label:""},{field:"CREATED_BY_NAME",label:""},{field:"CREATED_BY_ALIAS",label:""},{field:"START_OF_DAY",label:""},{field:"END_OF_DAY",label:""},{field:"PASSWORD_EXPIRES",label:""},{field:"PHONE_VERIFIED",label:""},{field:"HAS_TOTP",label:""},{field:"HAS_AUTHENTICATOR",label:" Salesforce Authenticator"},{field:"HAS_TEMP_CODE",label:""},{field:"HAS_U2F",label:" U2F "},{field:"MANAGER",label:""}],WorkFeedbackRequest:[{field:"Owner",label:"",apiname:"OwnerId",apilabel:"Owner ID"},{field:"CreatedBy",label:""},{field:"LastModifiedBy",label:""},{field:"QuestionSet",label:"",apiname:"QuestionSetId",apilabel:"Feedback Question Set ID"},{field:"RelatedObject",label:"",apiname:"RelatedObjectId",apilabel:"Related Object ID"},{field:"PerformanceCycle",label:"",apiname:"PerformanceCycleId",apilabel:"Performance Cycle ID"},{field:"SubmitFeedbackTo",label:"",apiname:"SubmitFeedbackToId",apilabel:"Submit Feedback To User ID"},{field:"Subject",label:"",apiname:"SubjectId",apilabel:"Subject User ID"},{field:"DueDate",label:""},{field:"Recipient",label:"",apiname:"RecipientId",apilabel:"Recipient User ID"}],WorkFeedbackTemplate:[{field:"Owner",label:"",apiname:"OwnerId",apilabel:"Owner ID"},{field:"CreatedBy",label:""},{field:"LastModifiedBy",label:""},{field:"QuestionSet",label:"",apiname:"QuestionSetId",apilabel:"Feedback Question Set ID"}],WorkOrder:[{field:"Owner",label:"",apiname:"OwnerId",apilabel:"Owner ID"},{field:"CreatedBy",label:""},{field:"LastModifiedBy",label:""},{field:"Contact",label:"",apiname:"ContactId",apilabel:"Contact ID"},{field:"Case",label:"",apiname:"CaseId",apilabel:"Case ID"},{field:"Entitlement",label:"",apiname:"EntitlementId",apilabel:"Entitlement ID"},{field:"ServiceContract",label:"",apiname:"ServiceContractId",apilabel:"Service Contract ID"},{field:"Asset",label:"",apiname:"AssetId",apilabel:"Asset ID"},{field:"Pricebook2",label:"",apiname:"Pricebook2Id",apilabel:"Price Book ID"},{field:"ParentWorkOrder",label:"",apiname:"ParentWorkOrderId",apilabel:"Parent Work Order ID"},{field:"RootWorkOrder",label:""},{field:"IsClosed",label:""},{field:"BusinessHours",label:""},{field:"SlaStartDate",label:"",apiname:"StartDate",apilabel:"Start Date"},{field:"SlaExitDate",label:"",apiname:"EndDate",apilabel:"End Date"},{field:"MilestoneStatus",label:""},{field:"MilestoneStatusIcon",label:""},{field:"Account",label:"",apiname:"AccountId",apilabel:"Account ID"}]}},T_Languages={en_US:{BTN_MASS_EDIT:"Mass Edit",BTN_CLONE:"Clone",BTN_CLONE_TO:"Clone To",BTN_SAVE:"Save",BTN_QUICK_SAVE:"Quick Save",BTN_DELETE:"Delete",BTN_CANCEL:"Close",LOADING:"Loading",DELETE_SURE:"Are you sure?",GOTO_OBJECT_SETTING:"Open {OBJECT} field list page from here.",ERROR_REQUIRE_OBJECT:"Please choose target object.",ERROR_DIFFERENT_OBJECT:"Please choose different object.",DONE:"Done!"},ja:{BTN_MASS_EDIT:"",BTN_CLONE:"Clone",BTN_CLONE_TO:"Clone To",BTN_SAVE:"",BTN_QUICK_SAVE:"",BTN_DELETE:"",BTN_CANCEL:"",LOADING:"",DELETE_SURE:"",GOTO_OBJECT_SETTING:"{OBJECT}",ERROR_REQUIRE_OBJECT:"",ERROR_DIFFERENT_OBJECT:"",DONE:"Done!"}},SD_Util=function(){};SD_Util.prototype.isBlank=function(e){return"undefined"==typeof e||null===e?!0:"string"==typeof e&&("undefined"===e||"null"===e||""===e)},SD_Util.prototype.isNotBlank=function(e){return!this.isBlank(e)},SD_Util.prototype.isNumber=function(e){var t=new RegExp("^[0-9]+$");return t.test(e)},SD_Util.prototype.isTrue=function(e){return"true"==e||1==e},SD_Util.prototype.getNumber=function(e){if(this.isBlank(e))return null;var t=e.match(/([1-9]\d*|0)(\.\d+)?/g);return this.isBlank(t)?null:t[0]},SD_Util.prototype.getColumn=function(e){for(var t,n="";e>0;)t=(e-1)%26,n=String.fromCharCode(65+t)+n,e=parseInt((e-t)/26);return n},SD_Util.prototype.getBytes=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);t+=r>=0&&129>r||63728===r||r>=65377&&65440>r||r>=63729&&63732>r?1:2}return t},SD_Util.prototype.escapeString=function(e){return String(e).replace(/\r?\n/g,"\\n").replace(/\r?\t/g,"\\t").replace(/'/g,"'").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},SD_Util.prototype.punescape=function(e){return String(e).replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#39;/g,"'")},SD_Util.prototype.escHtml=function(e){return e=e||"",e.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")},SD_Util.prototype.getSpaceByNum=function(e){for(var t="",n=0;e>n;n++)t+=" ";return t},SD_Util.prototype.upperProperty=function(e){var t={};if(Array.isArray(e))return e;for(var n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];"object"!=typeof e[i]||this.isBlank(e[i])?t[i.toUpperCase()]=e[i]:t[i.toUpperCase()]=this.upperProperty(e[i])}return t},SD_Util.prototype.getIdPreFixFromUri=function(e){if(this.isBlank(e))return null;var t=this.getParser(e);if(this.isBlank(t.pathname))return null;if(t.pathname.length>8)return null;var n=t.pathname.match(/\/[a-zA-Z0-9]{3}/);if(this.isBlank(n)||0==n.length)return null;var r=n[0].replace(new RegExp("/","g"),"");return r},SD_Util.prototype.getObjectIdFromUri=function(e){if(this.isBlank(e))return null;var t=this.getParser(e);if(this.isBlank(t.pathname))return null;var n=t.pathname.match(/\/[a-zA-Z0-9]{15,18}/);if(this.isBlank(n)||0==n.length)return null;var r=n[0].replace(new RegExp("/","g"),"");return r},SD_Util.prototype.getRelatedObjectName=function(e){var t=/^Related([a-zA-Z0-9]+)List$/g,n=t.exec(e);return this.isBlank(n)||n.length<2?null:n[1]},SD_Util.prototype.getParser=function(e){var t=document.createElement("a");return t.href=e,t},SD_Util.prototype.isValidDate=function(e){var t=e.split("/");if(3!=t.length)return!1;var n=new Date(t[0],t[1]-1,t[2]);return n.getFullYear()==t[0]&&n.getMonth()+1==t[1]&&n.getDate()==Number(t[2])},SD_Util.prototype.isValidDateTime=function(e){var t=Date.parse(e);return!Number.isNaN(t)},SD_Util.prototype.isSfdcDomain=function(e){return this.isBlank(e)?!1:e.indexOf(".salesforce.com")>=0||e.indexOf(".cloudforce.com")>=0||e.indexOf(".force.com")>=0},SD_Util.prototype.isLightningDomain=function(e){return"undefined"==typeof e||"undefined"==typeof e.hostname?!1:e.hostname.indexOf(".lightning.force.com")>=0},SD_Util.prototype.isCommunityDomain=function(e){return this.isBlank(e)?!1:this.isLightningDomain(e)?!1:e.hostname.indexOf(".force.com")>=0},SD_Util.prototype.isCommunityNapili=function(e){return this.isBlank(e)?!1:this.isCommunityDomain(e)&&e.pathname.indexOf("/recordlist/")>=0},SD_Util.prototype.isOAuthCallback=function(e){var t=T_OAuthConfig.extensionId||chrome.runtime.id,n=this.getParam("source");return("login.salesforce.com"==e.hostname||"test.salesforce.com"==e.hostname)&&"/services/oauth2/success"==e.pathname&&t==n},SD_Util.prototype.isProfileViewPage=function(e){var t=e.pathname.match(/\/00e[a-zA-Z0-9]{12}/);return!this.isBlank(t)&&0!=t.length},SD_Util.prototype.isProfileEditPage=function(e){var t=e.pathname.match(/\/00e[a-zA-Z0-9]{12}\/e/);return!this.isBlank(t)&&0!=t.length},SD_Util.prototype.isFieldEditPage=function(e){return!!e.pathname.includes("/setup/layout/flsedit.jsp")},SD_Util.prototype.isDebugLogPage=function(e){return!!e.pathname.includes("/setup/ui/listApexTraces.apexp")},SD_Util.prototype.isDebugLogDetailPage=function(e){return!!e.pathname.includes("/p/setup/layout/ApexDebugLogDetailEdit/d")},SD_Util.prototype.isDebugLogListPage=function(e){return!!e.pathname.includes("/setup/ui/listApexTraces.apexp")},SD_Util.prototype.isFieldListPage=function(e){if(e.pathname.includes("/p/setup/layout/LayoutFieldList"))return!0;var t=e.pathname.match(/\/01I[a-zA-Z0-9]{12}/);return!!(this.isNotBlank(t)&&t.length>0)},SD_Util.prototype.gaTrack=function(e){chrome.runtime.sendMessage({type:"SD_GaTrack",options:e})},SD_Util.prototype.hashCode=function(e){return e.split("").reduce(function(e,t){return e=(e<<5)-e+t.charCodeAt(0),e&e},0)},SD_Util.prototype.openTab=function(e){chrome.runtime.sendMessage({type:"opentab",options:e})},SD_Util.prototype.getParam=function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),r=n.exec(t);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null},SD_Util.prototype.getUUid=function(){var e=1e3;return(new Date).getTime().toString(16)+Math.floor(e*Math.random()).toString(16)},SD_Util.prototype.getRandom=function(e){for(var t=e||8,n="abcdefghijklmnopqrstuvwxyz0123456789",r=n.length,i="",o=0;t>o;o++)i+=n[Math.floor(Math.random()*r)];return i},SD_Util.prototype.replaceLast=function(e,t,n){return String(e).replace(new RegExp(t+"$"),n)},SD_Util.prototype.replaceWordFirst=function(e,t,n){return e.replace(new RegExp(t,"i"),n)},SD_Util.prototype.replaceWordLast=function(e,t,n){var r=e.toLowerCase().lastIndexOf(t.toLowerCase()),i=new RegExp(t,"i");return e.slice(0,r)+e.slice(r).replace(i,n)},SD_Util.prototype.replaceBreakLine=function(e){return e.replace(/\r?\n/g,"")},SD_Util.prototype.concatWithoutDuplicate=function(e,t){for(var n=0;n<t.length;n++)e.indexOf(t[n])>=0||e.push(t[n]);return e},SD_Util.prototype.clearAttributes=function(e){if(!e||!Array.isArray(e))return e;for(var t=0;t<e.length;t++)e[t].hasOwnProperty("attributes")&&delete e[t].attributes;return e},SD_Util.prototype.base64Encode=function(e){var t=JSON.stringify(e);return btoa(encodeURIComponent(t))},SD_Util.prototype.base64Decode=function(e){return decodeURIComponent(atob(e))},SD_Util.prototype.splitQueue=function(e,t){var n=t||10;if(e.length>n){for(var r=[],i=0;i<e.length;i++)i%n==0&&r.push([]),r[r.length-1].push(e[i]);e=r}else e=[e];return e},SD_Util.prototype.columnToLetter=function(e){for(var t,n="";e>0;)t=(e-1)%26,n=String.fromCharCode(t+65)+n,e=(e-t-1)/26;return n},SD_Util.prototype.colorText=function(e,t,n){var r=t+n,i=[e.slice(0,r),"</font>",e.slice(r)].join("");return i=[i.slice(0,t),"<font>",i.slice(t)].join("")},SD_Util.prototype.calcUsage=function(e,t){if(0==t||0==e)return 0;var n=e/t*100;return 1>n?Math.ceil(10*n)/10:Math.floor(n)},String.prototype.rtrim=function(){return this.replace(/((\s*\S+)*)\s*/,"$1")},String.prototype.ltrim=function(){return this.replace(/\s*((\S+\s*)*)/,"$1")},String.prototype.clearSpace=function(){return"string"!=typeof this||"undefined"!==this&&"null"!==this&&""!==this?this.replace(/\n/g,"").replace(/\t/g,"").replace(/ /g,""):this},String.prototype.insertAt=function(e,t){return e>0?this.substring(0,e)+t+this.substring(e,this.length):t+this},$.fn.startLoading=function(e){var t=$(this),n="";t.text().clearSpace().length>0&&(n=" mr5");var r='<i class="fa fa-spinner fa-pulse loading-icon'+n+'"></i>';t.find("i").length>0&&t.find("i").addClass("hide"),t.prepend(r),t.addClass("disabled").attr("disabled","disabled")},$.fn.stopLoading=function(){var e=$(this);e.removeClass("disabled").removeAttr("disabled"),e.find(".loading-icon").remove(),e.find("i").length>0&&e.find("i").removeClass("hide")},$.fn.isLoading=function(){var e=$(this);return e.find(".loading-icon").length>0};var SD_OAuthConnect=function(e){e=e||{},this.authInfo=null,this.authed=!1,this.userInfo=this.getUserInfo(),this.cookieObj=this.getCookieSession(),this.metadata=null,this.metadataNameMap=null,this.metadataPrefixMap=null,this.filedsMetadata=null;var t=T_Util.getParser(window.location.href);return(T_Util.isLightningDomain(t)||T_Util.isCommunityDomain(t))&&T_Util.isNotBlank(this.cookieObj.sessionId)&&(this.cookieObj.sessionId=null),
e.accessToken&&e.refreshToken&&(this.conn=this.getConn(e),this.authInfo=e,e.orgId&&e.userId)?void(this.userInfo=e):void(T_Util.isNotBlank(this.cookieObj.sessionId)&&T_Util.isNotBlank(this.userInfo)&&T_Util.isBlank(this.conn)&&(this.conn=this.getConn(this.userInfo)))};SD_OAuthConnect.prototype.getStoreKey=function(e){var t=this;if(T_Util.isBlank(t.userInfo.sessionId)&&T_Util.isNotBlank(t.cookieObj.clientId)){var n=t.cookieObj.clientId;return n+"_"+e}var r=T_Util.isBlank(t.userInfo.orgId)?null:t.userInfo.orgId,i=T_Util.isBlank(t.userInfo.userId)?null:t.userInfo.userId;if(T_Util.isBlank(r)||T_Util.isBlank(i))return null;r=r.substring(0,15),i=i.substring(0,15);var o=i.substring(4,15)+r.substring(4,15);return o+"_"+e},SD_OAuthConnect.prototype.getConn=function(e){if(e=e||{},e.sessionId&&e.salesforceURL){var t=new jsforce.Connection({version:SF_API_VERSION,serverUrl:e.salesforceURL,sessionId:e.sessionId});return this.authed=!0,t}var n=this.getConnParams(e),r=this.getOAuthClient(n),t=new jsforce.Connection({version:SF_API_VERSION,oauth2:r,instanceUrl:e.instanceUrl,accessToken:e.accessToken,refreshToken:e.refreshToken});return this.authed=!0,t},SD_OAuthConnect.prototype.getOAuthClient=function(e){e=e||{};var t=e.type||"production",n="production"==t?"https://login.salesforce.com":"https://test.salesforce.com",r=e.loginUrl;T_Util.isBlank(r)&&(r=n);var i=n+T_OAuthConfig.redirectPath;e.tabid&&(i+="&tabid="+e.tabid);var o=new jsforce.OAuth2({loginUrl:r,clientId:T_OAuthConfig.clientId+".R",clientSecret:T_OAuthConfig.clientSecret,redirectUri:i});return o},SD_OAuthConnect.prototype.getConnParams=function(e){e=e||{};for(var t="production",n=T_Util.isNotBlank(e.salesforceURL)?e.salesforceURL:e.instanceUrl,r=T_Util.getParser(n),i=r.hostname.split("."),o=0;o<i.length;o++){var a=i[o];if(0==o&&a.indexOf("--")>=0){t="sandbox";break}if(a.startsWith("cs")){var s=a.replace(/cs/,"");if(T_Util.isNumber(s)){t="sandbox";break}}}var l={type:t};return T_Util.isCommunityDomain(r)&&(l.loginUrl="https://"+r.hostname),l},SD_OAuthConnect.prototype.getAuthorizationUrl=function(e){e=e||{};var t=this.getConnParams(this.userInfo);e.tabid&&(t.tabid=e.tabid);var n=this.getOAuthClient(t),r=n.getAuthorizationUrl({scope:"api id refresh_token"});return r},SD_OAuthConnect.prototype.authorize=function(e,t){var n=this;e=e||{};var r=e.code,i=e.sfdc_community_url,o=window.location.href,a=T_Util.getParser(o),s="login.salesforce.com"==a.hostname?"production":"sandbox",l={type:s};T_Util.isNotBlank(i)&&(l.loginUrl=i);var u=this.getOAuthClient(l);n.conn=new jsforce.Connection({oauth2:u}),n.tokenInfo=n.conn,n.conn.authorize(r,function(e,r){if(e)return alert(e.message),t(!1);if(T_Util.isBlank(r)||T_Util.isBlank(r.id))return console.error("Authorize ERROR",e,r),t(!1);var i=r.id.substring(0,15),o=r.organizationId.substring(0,15),a={loginUrl:n.conn.loginUrl,accessToken:n.conn.accessToken,refreshToken:n.conn.refreshToken,instanceUrl:n.conn.instanceUrl,orgId:o,userId:i};return t(a)})},SD_OAuthConnect.prototype.storeLocalOAuthToken=function(e,t){var n=this;n.saveStorageData("oauth",e,function(n){t&&t(e)})},SD_OAuthConnect.prototype.clearLocalAuthToken=function(e,t){var n=this;n.saveStorageData("oauth",{},function(e){return t?t(e):void 0})},SD_OAuthConnect.prototype.checkStoredOAuthToken=function(e){var t=this;return 1==t.authed?e(!0):void t.getStorageData("oauth",function(n){return n&&n.accessToken&&n.refreshToken?(t.authInfo=n,t.conn=t.getConn(n),e(!0)):e(!1)})},SD_OAuthConnect.prototype.checkStoreMetaData=function(e){var t=this;t.getStorageData("describes",function(n){if(0==n)return e(!1);if(T_Util.isBlank(n)||T_Util.isBlank(n.data))return t.restoreMetaData(e);var r=moment().diff(moment(n.createdtime),"days");return T_DEBUG_MODE||r>0?t.restoreMetaData(e):(t.metadata=n.data,t.metadataNameMap=t.converToNameMap(t.metadata),t.metadataPrefixMap=t.converToPrefixMap(t.metadata),e(t.metadata))})},SD_OAuthConnect.prototype.restoreMetaData=function(e){var t=this;if("undefined"==typeof t.conn)return e(!1);t.conn.describeGlobal$.clear();var n=function(n,r){if(n){var i=t.handleOAuthError(n,function(n){return n?t.restoreMetaData(e):e(!1)});if(t.authed=!1,i)return;return e(!1)}if(T_Util.isBlank(r.sobjects))return t.authed=!1,e(!1);t.authed=!0;for(var o=[],a=0;a<r.sobjects.length;a++){var s=r.sobjects[a];T_Util.isBlank(s.keyPrefix)||(s.createable||s.updateable||s.queryable)&&o.push(s)}for(var l={},a=0;a<o.length;a++)if(1==o[a].custom){var u=o[a].name.split("__");if(2==u.length){var c=u[0];l[c]=a}else if(u.length>2){var c=u[u.length-2];l[c]=a}}var p="SELECT Id, DeveloperName FROM CustomObject",d=function(n,r){if(n){var i=t.handleOAuthError(n,function(n){return n?T_App&&T_App.isLEX?T_App.sendCrobRequest({method:"tooling.query",params:p},d):t.conn.tooling.query(p,d):e(!1)});if(t.authed=!1,i)return;return e(!1)}for(var a=0;a<r.records.length;a++){var s=r.records[a];if(l.hasOwnProperty(s.DeveloperName)&&s.Id){var u=l[s.DeveloperName];o[u].objectId=s.Id.substring(0,15)}}var c={data:o,createdtime:moment().format()};t.metadata=o,t.metadataNameMap=t.converToNameMap(t.metadata),t.metadataPrefixMap=t.converToPrefixMap(t.metadata),t.saveStorageData("describes",c,function(n){return e(t.metadata)}),t.saveStorageData("profiles",{},function(e){})};return T_App&&T_App.isLEX?T_App.sendCrobRequest({method:"tooling.query",params:p},d):void t.conn.tooling.query(p,d)};return T_App&&T_App.isLEX?T_App.sendCrobRequest({method:"describeGlobal"},n):void t.conn.describeGlobal(n)},SD_OAuthConnect.prototype.getStorageData=function(e,t){var n=this,r=n.getStoreKey(e);return T_Util.isBlank(r)?t(!1):void chrome.storage.local.get(r,function(e){return t(chrome.runtime.lastError?!1:e[r])})},SD_OAuthConnect.prototype.saveStorageData=function(e,t,n){var r=this,i=r.getStoreKey(e);if(T_Util.isBlank(i))return n(!1);var o={};o[i]=t,chrome.storage.local.set(o,function(){return n(chrome.runtime.lastError?!1:!0)})},SD_OAuthConnect.prototype.converToNameMap=function(e){var t={};for(var n in e){var r=e[n];t[r.name]=r}return t},SD_OAuthConnect.prototype.converToPrefixMap=function(e){var t={};for(var n in e){var r=e[n];t[r.keyPrefix]=r}return t},SD_OAuthConnect.prototype.converToFieldNameMap=function(e){for(var t={},n=0;n<e.length;n++){var r=e[n];t[r.name.toUpperCase()]=r}return t},SD_OAuthConnect.prototype.getFields=function(e){for(var t=[],n=0;n<e.fields.length;n++){var r=e.fields[n];"ID"!=r.name.toUpperCase()?(r.createable||r.updateable)&&t.push(r):t.push(r)}return t},SD_OAuthConnect.prototype.getUserInfo=function(){var e=window.location.href,t=T_Util.getParser(e);if(!T_Util.isSfdcDomain(t.hostname))return null;var n=document.documentElement.innerHTML,r=n.match(/UserContext.initialize\((.*?)\);\s+/i);if(null==r)return{};try{var i=this.getCookieSession(),o=JSON.parse(r[1]);return{orgId:i.orgId,sessionId:i.sessionId,userName:o.userName,userId:o.userId,salesforceURL:o.salesforceURL,language:o.language,dateFormat:o.dateFormat,dateTimeFormat:o.dateTimeFormat}}catch(a){return{}}return r[1]},SD_OAuthConnect.prototype.getCookieSession=function(){var e=document.cookie+";";try{var t=null,n=e.match(/(^|;\s*)oid=(.+?);/);if(T_Util.isNotBlank(n&&n.length>1))var t=n[2];var r=null,i=e.match(/(^|;\s*)sid=(.+?);/);T_Util.isNotBlank(i&&i.length>1)&&(r=i[2]);var o=e.match(/(^|;\s*)sid_Client=(.+?);/)[2];return{orgId:t,sessionId:r,clientId:o}}catch(a){return{}}},SD_OAuthConnect.prototype.describe=function(e,t){return T_App&&T_App.isLEX?T_App.sendCrobRequest({method:"describe",params:e},t):this.conn.describe(e,t)},SD_OAuthConnect.prototype.describeSObjects=function(e,t){var n={"@xmlns":"urn:partner.soap.sforce.com","@xmlns:ns1":"sobject.partner.soap.sforce.com","ns1:describeSObjects":e};return T_App&&T_App.isLEX?T_App.sendCrobRequest({method:"describeSObjects",params:n},t):this.conn.soap._invoke("describeSObjects",n,[{}],t)},SD_OAuthConnect.prototype.getLayouts=function(e,t,n){"function"==typeof t&&(n=t,t="");var r=this.conn.instanceUrl+"/services/data/v"+this.conn.version+"/sobjects/"+e+"/describe/layouts/"+t;return T_App&&T_App.isLEX?T_App.sendCrobRequest({method:"getLayouts",params:{url:r}},n):this.conn.requestGet(r,n)},SD_OAuthConnect.prototype.listLayouts=function(e,t){return T_App&&T_App.isLEX?T_App.sendCrobRequest({method:"listLayouts",params:e},t):this.conn.metadata.list([{type:"Layout"}],this.conn.version,t)},SD_OAuthConnect.prototype.listProfiles=function(e){return T_App&&T_App.isLEX?T_App.sendCrobRequest({method:"listProfiles"},e):this.conn.metadata.list([{type:"Profile"}],this.conn.version,e)},SD_OAuthConnect.prototype.getProfiles=function(e,t){return T_App&&T_App.isLEX?T_App.sendCrobRequest({method:"getProfiles",params:e},t):this.conn.metadata.read("Profile",e,t)},SD_OAuthConnect.prototype.getObjects=function(e,t){return T_App&&T_App.isLEX?T_App.sendCrobRequest({method:"getObjects",params:e},t):this.conn.metadata.read("CustomObject",e,t)},SD_OAuthConnect.prototype.getCustomFieldId=function(e,t,n){var r="SELECT Id FROM CustomField WHERE TableEnumOrId = '"+e+"' AND DeveloperName = '"+t+"' LIMIT 1";return T_App&&T_App.isLEX?T_App.sendCrobRequest({method:"tooling.query",params:r},n):this.conn.tooling.query(r,n)},SD_OAuthConnect.prototype.getListViews=function(e,t){var n=this.conn.instanceUrl+"/services/data/v"+this.conn.version+"/sobjects/"+e+"/listviews";return T_App&&T_App.isLEX?T_App.sendCrobRequest({method:"getListViews",params:{url:n}},t):this.conn.requestGet(n,t)},SD_OAuthConnect.prototype.getWorkflows=function(e,t){return T_App&&T_App.isLEX?T_App.sendCrobRequest({method:"getWorkflows",params:e},t):this.conn.metadata.read("Workflow",e,t)},SD_OAuthConnect.prototype.describeListView=function(e,t,n){var r=this.conn.instanceUrl+"/services/data/v"+this.conn.version+"/sobjects/"+e+"/listviews/"+t+"/describe";return T_App&&T_App.isLEX?T_App.sendCrobRequest({method:"describeListView",params:{url:r}},n):this.conn.requestGet(r,n)},SD_OAuthConnect.prototype.queryCount=function(e,t){var n="SELECT COUNT() FROM "+e;return T_App&&T_App.isLEX?T_App.sendCrobRequest({method:"query",params:n},t):this.conn.query(n,t)},SD_OAuthConnect.prototype.queryNotNullCount=function(e,t,n){var r="SELECT COUNT() FROM "+e+" WHERE "+t+" != null";return T_App&&T_App.isLEX?T_App.sendCrobRequest({method:"query",params:r},n):this.conn.query(r,n)},SD_OAuthConnect.prototype.queryTop10Summary=function(e,t,n){var r="SELECT COUNT(Id), "+t+" FROM "+e+" GROUP BY "+t+" ORDER BY COUNT(Id) DESC LIMIT 10";return T_App&&T_App.isLEX?T_App.sendCrobRequest({method:"query",params:r},n):this.conn.query(r,n)},SD_OAuthConnect.prototype.query=function(e,t){return T_App&&T_App.isLEX?T_App.sendCrobRequest({method:"query",params:e},t):this.conn.query(e,t)},SD_OAuthConnect.prototype.requestGet=function(e,t){var n=this.conn.instanceUrl+e;return T_App&&T_App.isLEX?T_App.sendCrobRequest({method:"requestGet",params:{url:n}},t):this.conn.requestGet(n,t)},SD_OAuthConnect.prototype.searchRecent=function(e,t){var n="";"string"==typeof e?n="'"+e+"'":Array.isArray(e)&&(n="'"+e.join("', '")+"'");var r="SELECT Id, Name, Type FROM RecentlyViewed WHERE Type IN ("+n+") ORDER BY LastViewedDate DESC LIMIT 5";return this.conn.query(r,t)},SD_OAuthConnect.prototype.globalSearch=function(e,t,n){var r=[];if("string"==typeof e)r.push(e+"(Id, Name ORDER BY LastViewedDate DESC LIMIT 5)");else if(Array.isArray(e))for(var i=0;i<e.length;i++)r.push(e[i]+"(Id, Name ORDER BY LastViewedDate DESC LIMIT 5)");var o="FIND {"+t+"*} IN ALL FIELDS RETURNING "+r.join(", ");return this.conn.search(o,n)},SD_OAuthConnect.prototype.insert=function(e,t){var n={success:"boolean",errors:[],id:"string"},r={"@xmlns":"urn:partner.soap.sforce.com","@xmlns:ns1":"sobject.partner.soap.sforce.com","ns1:sObjects":e};return this.conn.soap._invoke("create",r,n,t)},SD_OAuthConnect.prototype.update=function(e,t){var n={success:"boolean",errors:[],id:"string"},r={"@xmlns":"urn:partner.soap.sforce.com","@xmlns:ns1":"sobject.partner.soap.sforce.com","ns1:sObjects":e};return this.conn.soap._invoke("update",r,n,t)},SD_OAuthConnect.prototype.upsert=function(e,t,n){var r={success:"boolean",errors:[],id:"string"},i={"@xmlns":"urn:partner.soap.sforce.com","@xmlns:ns1":"sobject.partner.soap.sforce.com","ns1:externalIDFieldName":e,"ns1:sObjects":t};return this.conn.soap._invoke("upsert",i,r,n)},SD_OAuthConnect.prototype["delete"]=function(e,t){var n={success:"boolean",errors:[],id:"string"},r={"@xmlns":"urn:partner.soap.sforce.com","@xmlns:ns1":"sobject.partner.soap.sforce.com","ns1:ids":e};return this.conn.soap._invoke("delete",r,n,t)},SD_OAuthConnect.prototype.deleteMetadata=function(e,t,n){return T_App&&T_App.isLEX?T_App.sendCrobRequest({method:"deleteMetadata",params:{metaType:e,fullNames:t}},n):this.conn.metadata["delete"](e,t,n)},SD_OAuthConnect.prototype.readMetadata=function(e,t,n){return T_App&&T_App.isLEX?T_App.sendCrobRequest({method:"readMetadata",params:{metaType:e,fullNames:t}},n):this.conn.metadata.read(e,t,n)},SD_OAuthConnect.prototype.createMetadata=function(e,t,n){return T_App&&T_App.isLEX?T_App.sendCrobRequest({method:"createMetadata",params:{metaType:e,metadata:t}},n):this.conn.metadata.create(e,t,n)},SD_OAuthConnect.prototype.updateMetadata=function(e,t,n){return T_App&&T_App.isLEX?T_App.sendCrobRequest({method:"updateMetadata",params:{metaType:e,metadata:t}},n):this.conn.metadata.update(e,t,n)},SD_OAuthConnect.prototype.renameMetadata=function(e,t,n,r){return T_App&&T_App.isLEX?T_App.sendCrobRequest({method:"renameMetadata",params:{metaType:e,oldFullName:t,newFullName:n}},r):this.conn.metadata.rename(e,t,n,r)},SD_OAuthConnect.prototype.handleOAuthError=function(e,t){var n=this;if("INVALID_SESSION_ID"==e.errorCode||"sf:INVALID_SESSION_ID"==e.errorCode||"INVALID_LOGIN"==e.errorCode||"sf:INVALID_LOGIN"==e.errorCode||"INVALID_OPERATION_WITH_EXPIRED_PASSWORD"==e.errorCode||"invalid_grant"==e.name){if(n.authed=!1,n.authInfo.refreshToken){var r=n.conn.refreshToken,i=function(e,r){if(e)return n.clearLocalAuthToken(n.userInfo),t(!1);if(T_Util.isBlank(n.userInfo)||T_Util.isBlank(n.userInfo.userId)){if(T_Util.isBlank(r)||T_Util.isBlank(r.id))return n.clearLocalAuthToken(n.userInfo),t(!1);var i=r.id.match(/[a-zA-Z0-9]{15,18}/g);T_Util.isNotBlank(i)&&2==i.length&&(n.userInfo={userId:i[1],orgId:i[0]})}var o=n.userInfo.userId.substring(0,15),a=n.userInfo.orgId.substring(0,15),s={loginUrl:n.conn.loginUrl,accessToken:r.access_token||r.accessToken,refreshToken:n.conn.refreshToken,instanceUrl:n.conn.instanceUrl,orgId:a,userId:o},l=new SD_OAuthConnect(s);T_App.setConn(l);var u=function(e,r){if(e)return n.clearLocalAuthToken(n.userInfo),t(!1);var i=r.records[0];return s.language=i.LanguageLocaleKey,T_App.userInfo=s,n.storeLocalOAuthToken(s,t)},c="SELECT Id, Name, LanguageLocaleKey FROM User WHERE Id = '"+o+"' LIMIT 1";return n.query(c,u),!0};if(T_App&&T_App.isLEX){var o={loginUrl:n.conn.oauth2.loginUrl,clientId:n.conn.oauth2.clientId,clientSecret:n.conn.oauth2.clientSecret,redirectUri:n.conn.oauth2.redirectUri,refreshToken:r};return T_App.sendCrobRequest({method:"oauth2.refreshToken",params:o},i),!0}n.conn.oauth2.refreshToken(r,i)}return!0}return!1};var SD_AllChecker=function(e){e=e||{}};SD_AllChecker.prototype.getDescrpeLink=function(e){var t='<span class="SD_All_Check_small">(';return t+='<a href="'+T_AppConfig.appUrl+'" target="_blank">'+T_AppConfig.appName+"</a>)</span>"},SD_AllChecker.prototype.activeOnProfileView=function(){jQuery("#bodyTable");jQuery("#bodyTable").find(".detailList .dataCol a").each(function(){var e=jQuery(this);if("/setup/layout/flsdetail.jsp"==e.get(0).pathname){var t="Edit";""==e.text()&&(t="");var n=e.attr("href").replace("/setup/layout/flsdetail.jsp","/setup/layout/flsedit.jsp");e.after(' | <a href="'+n+'">'+t+"</a>")}})},SD_AllChecker.prototype.activeOnProfile=function(){var e=this,t=".SD_All_Checker { margin-left: 25px; font-size:85%; font-weight: bold; }";t+="body .pbSubheader .SD_All_Check_small{ font-size: 11px; color: grey; font-weight: 400;}",t+="body .pbSubheader .SD_All_Check_small a{ color: grey; }",jQuery("<style>").prop("type","text/css").html(t).appendTo("head"),jQuery("#editPage .pbBody .pbSubheader").each(function(){var t=jQuery(this),n=t.nextUntil(".pbSubheader",".pbSubsection"),r=e.scanCheckOptions(n),i='<span class="SD_All_Checker">';if(r.checkbox){var o=r.checkbox_default?' checked="checked"':"";i+='<label class="all_check_label"><input type="checkbox" value="1" '+o+' class="SD_All_Check" />&nbsp;Check All&nbsp;&nbsp;</label>'}if(r.select){var a='<select class="SD_All_Select">';a+='<option value="">--None--</option>';for(var s=0;s<r.options.length;s++){var l=r.options[s],u=l.value==r.select_default?' selected="selected"':"";a+='<option value="'+l.value+'"'+u+">"+l.text+"</option>"}a+="</select>",i+='<label class="all_select_label">'+a+"&nbsp;Select All&nbsp;&nbsp;</label>"}i+="</span>",(r.checkbox||r.select)&&(i+=e.getDescrpeLink(),t.find("h3").append(i),t.find(".SD_All_Check").click(function(){var e=jQuery(this).is(":checked");n.find(":checkbox:enabled:visible").prop("checked",e)}),t.find(".SD_All_Select").change(function(){var e=jQuery(this).val();T_Util.isBlank(e)||n.find("select:enabled:visible").val(e)}))})},SD_AllChecker.prototype.activeOnFieldPer=function(){var e=this,t=".SD_All_Checker { margin-left: 10px; font-size:85%; font-weight: bold; }";t+=".SD_All_Check_small{ display: block; font-size: 11px; color: grey; font-weight: 400;}",t+=".SD_All_Check_small a{ color: grey; }",t+=".SD_All_Checker a.SD_ALL_Check_multi-check{ color: #015ba7; font-size: 11px;  }",t+=".bPageBlock .dataRow .SD_All_Checker_checked-col{ background-color: #e3f3ff;  }",t+="body .bPageBlock .message{ padding : 5px; margin : 0 7px; border:1px solid #390; border-radius: 4px; background-color: #ffc; font-weight: 500; }",t+="body .bPageBlock .message.error{ border-color: #c00; color: #cc0000; }",t+="body .bPageBlock .message.warning{ border-color: #f90; font-weight: 400; color: #000; }",t+=".webui-popover-inner ul { padding: 0; margin: 0; background-color: #fff; }",t+=".webui-popover-inner li { list-style: none; border-bottom: 1px solid #f0f0f0; padding: 6px; margin: 0; }",t+=".webui-popover-inner .panel-header{ padding: 6px; margin: 0; font-weight: 500; }",t+=".webui-popover-inner .panel-header.open{ border-bottom: 1px solid #f0f0f0; }",t+=".webui-popover-inner li:last-child { border-bottom: none; }",t+=".webui-popover-inner .collapse { padding: 0 6px; }",t+=".webui-popover-inner .down { display: inline-block; }",t+=".webui-popover-inner .open .down { display: none; }",t+=".webui-popover-inner .up { display: none; }",t+=".webui-popover-inner .open .up { display: inline-block; }",t+='.webui-popover-content{display:none}.webui-popover-rtl{direction:rtl;text-align:right}.webui-popover{position:absolute;top:0;left:0;z-index:9999;display:none;min-width:50px;min-height:32px;padding:1px;text-align:left;white-space:normal;background-color:#fff;background-clip:padding-box;border:1px solid #ccc;border:1px solid rgba(0,0,0,.2);border-radius:6px;-webkit-box-shadow:0 5px 10px rgba(0,0,0,.2);box-shadow:0 5px 10px rgba(0,0,0,.2)}.webui-popover.top,.webui-popover.top-left,.webui-popover.top-right{margin-top:-10px}.webui-popover.right,.webui-popover.right-top,.webui-popover.right-bottom{margin-left:10px}.webui-popover.bottom,.webui-popover.bottom-left,.webui-popover.bottom-right{margin-top:10px}.webui-popover.left,.webui-popover.left-top,.webui-popover.left-bottom{margin-left:-10px}.webui-popover.pop{-webkit-transform:scale(0.8);-o-transform:scale(0.8);transform:scale(0.8);-webkit-transition:transform .15s cubic-bezier(0.3,0,0,1.5);-o-transition:transform .15s cubic-bezier(0.3,0,0,1.5);transition:transform .15s cubic-bezier(0.3,0,0,1.5);opacity:0;filter:alpha(opacity=0)}.webui-popover.pop-out{-webkit-transition-property:"opacity,transform";-o-transition-property:"opacity,transform";transition-property:"opacity,transform";-webkit-transition:.15s linear;-o-transition:.15s linear;transition:.15s linear;opacity:0;filter:alpha(opacity=0)}.webui-popover.fade,.webui-popover.fade-out{-webkit-transition:opacity .15s linear;-o-transition:opacity .15s linear;transition:opacity .15s linear;opacity:0;filter:alpha(opacity=0)}.webui-popover.out{opacity:0;filter:alpha(opacity=0)}.webui-popover.in{-webkit-transform:none;-o-transform:none;transform:none;opacity:1;filter:alpha(opacity=100)}.webui-popover .webui-popover-content{padding:0px;overflow:auto;display:block}.webui-popover .webui-popover-content>div:first-child{width:99%}.webui-popover-inner .close{font-family:arial;font-size:16px;font-weight:700;line-height:16px;color:#000;text-shadow:0 1px 0 #fff;opacity:.2;filter:alpha(opacity=20);text-decoration:none}.webui-popover-inner .close:hover,.webui-popover-inner .close:focus{opacity:.5;filter:alpha(opacity=50)}.webui-popover-inner .close:after{content:"\x00D7";width:.8em;height:.8em;padding:4px;position:relative}.webui-popover-title{background-color: #d9edf7;padding:0 14px;width:100%;display:inline-block;height:36px;line-height:36px;box-sizing:border-box; margin:0px;font-size:14px;font-weight:700;background-color:#fff;border-bottom:1px solid #f2f2f2;border-radius:5px 5px 0 0}.webui-popover-content{padding:9px 14px;overflow:auto;display:none}.webui-popover-inverse{background-color:#333;color:#eee}.webui-popover-inverse .webui-popover-title{background:#333;border-bottom:1px solid #3b3b3b;color:#eee}.webui-no-padding .webui-popover-content{padding:0}.webui-no-padding .list-group-item{border-right:none;border-left:none}.webui-no-padding .list-group-item:first-child{border-top:0}.webui-no-padding .list-group-item:last-child{border-bottom:0}.webui-popover>.webui-arrow,.webui-popover>.webui-arrow:after{position:absolute;display:block;width:0;height:0;border-color:transparent;border-style:solid}.webui-popover>.webui-arrow{border-width:11px}.webui-popover>.webui-arrow:after{border-width:10px;content:""}.webui-popover.top>.webui-arrow,.webui-popover.top-right>.webui-arrow,.webui-popover.top-left>.webui-arrow{bottom:-11px;left:50%;margin-left:-11px;border-top-color:#999;border-top-color:rgba(0,0,0,.25);border-bottom-width:0}.webui-popover.top>.webui-arrow:after,.webui-popover.top-right>.webui-arrow:after,.webui-popover.top-left>.webui-arrow:after{content:" ";bottom:1px;margin-left:-10px;border-top-color:#fff;border-bottom-width:0}.webui-popover.right>.webui-arrow,.webui-popover.right-top>.webui-arrow,.webui-popover.right-bottom>.webui-arrow{top:50%;left:-11px;margin-top:-11px;border-left-width:0;border-right-color:#999;border-right-color:rgba(0,0,0,.25)}.webui-popover.right>.webui-arrow:after,.webui-popover.right-top>.webui-arrow:after,.webui-popover.right-bottom>.webui-arrow:after{content:" ";left:1px;bottom:-10px;border-left-width:0;border-right-color:#fff}.webui-popover.bottom>.webui-arrow,.webui-popover.bottom-right>.webui-arrow,.webui-popover.bottom-left>.webui-arrow{top:-11px;left:50%;margin-left:-11px;border-bottom-color:#999;border-bottom-color:rgba(0,0,0,.25);border-top-width:0}.webui-popover.bottom>.webui-arrow:after,.webui-popover.bottom-right>.webui-arrow:after,.webui-popover.bottom-left>.webui-arrow:after{content:" ";top:1px;margin-left:-10px;border-bottom-color:#fff;border-top-width:0}.webui-popover.left>.webui-arrow,.webui-popover.left-top>.webui-arrow,.webui-popover.left-bottom>.webui-arrow{top:50%;right:-11px;margin-top:-11px;border-right-width:0;border-left-color:#999;border-left-color:rgba(0,0,0,.25)}.webui-popover.left>.webui-arrow:after,.webui-popover.left-top>.webui-arrow:after,.webui-popover.left-bottom>.webui-arrow:after{content:" ";right:1px;border-right-width:0;border-left-color:#fff;bottom:-10px}.webui-popover-inverse.top>.webui-arrow,.webui-popover-inverse.top-left>.webui-arrow,.webui-popover-inverse.top-right>.webui-arrow,.webui-popover-inverse.top>.webui-arrow:after,.webui-popover-inverse.top-left>.webui-arrow:after,.webui-popover-inverse.top-right>.webui-arrow:after{border-top-color:#333}.webui-popover-inverse.right>.webui-arrow,.webui-popover-inverse.right-top>.webui-arrow,.webui-popover-inverse.right-bottom>.webui-arrow,.webui-popover-inverse.right>.webui-arrow:after,.webui-popover-inverse.right-top>.webui-arrow:after,.webui-popover-inverse.right-bottom>.webui-arrow:after{border-right-color:#333}.webui-popover-inverse.bottom>.webui-arrow,.webui-popover-inverse.bottom-left>.webui-arrow,.webui-popover-inverse.bottom-right>.webui-arrow,.webui-popover-inverse.bottom>.webui-arrow:after,.webui-popover-inverse.bottom-left>.webui-arrow:after,.webui-popover-inverse.bottom-right>.webui-arrow:after{border-bottom-color:#333}.webui-popover-inverse.left>.webui-arrow,.webui-popover-inverse.left-top>.webui-arrow,.webui-popover-inverse.left-bottom>.webui-arrow,.webui-popover-inverse.left>.webui-arrow:after,.webui-popover-inverse.left-top>.webui-arrow:after,.webui-popover-inverse.left-bottom>.webui-arrow:after{border-left-color:#333}.webui-popover i.icon-refresh:before{content:""}.webui-popover i.icon-refresh{display:block;width:30px;height:30px;font-size:20px;top:50%;left:50%;position:absolute;margin-left:-15px;margin-right:-15px;background:url(../img/loading.gif) no-repeat}@-webkit-keyframes rotate{100%{-webkit-transform:rotate(360deg)}}@keyframes rotate{100%{transform:rotate(360deg)}}.webui-popover-backdrop{background-color:rgba(0,0,0,.65);width:100%;height:100%;position:fixed;top:0;left:0;z-index:9998}.webui-popover .dropdown-menu{display:block;position:relative;top:0;border:none;box-shadow:none;float:none}',t+=".webui-popover-inner a{ text-decoration: none; }",t+=".webui-popover-inner .collapse, .webui-popover-inner .collapse:hover{ font-weight:600; text-decoration:none; }",t+='.webui-popover-inner .close:after{ content:"\\f00d"; font-family: FontAwesome;}',t+=".webui-popover-inner .close:after{ position:absolute; right: 6px; top: 6px;}",t+=".webui-popover-inner .webui-popover-title { text-align: center; }",t+=".webui-popover-inner .multi-checker-body {padding: 15px;}",t+=".webui-popover-inner .multi-checker-footer { border-top:1px solid #f2f2f2; padding: 10px; text-align: center; }",t+=".webui-popover-inner .hint-inner { width: 400px; margin-bottom: 0; margin-top: 10px; }",jQuery("<style>").prop("type","text/css").html(t).appendTo("head");for(var n=["readonlyCol","displayedCol"],r=jQuery("#mainTable"),i=0;i<n.length;i++){var o="."+n[i],a=r.find(".headerRow "+o).first(),s=r.find(".dataRow "+o),l=e.scanCheckOptions(s);if(!l.checkbox)return;var u='<span class="SD_All_Checker">',c=l.checkbox_default?' checked="checked"':"";u+='<label class="all_check_label"><input type="checkbox" value="1" '+c+' data-target="'+o+'" class="SD_All_Check_'+n[i]+'" />&nbsp;All</label>',u+='&nbsp;&nbsp;|&nbsp;&nbsp;<a href="javascript:void(0);" data-target="'+n[i]+'" class="SD_ALL_Check_multi-check">Multi-Checker</a>',u+="</span>",u+=e.getDescrpeLink(),a.append(u),a.find(".SD_All_Check_"+n[i]).click(function(){var e=jQuery(this).is(":checked"),t=jQuery(this).data("target"),n=r.find(".dataRow "+t);n.find(":checkbox:enabled:visible").prop("checked",e)})}e.setMultiCheckerListener()},SD_AllChecker.prototype.scanCheckOptions=function(e){var t=0,n=e.find(":checkbox:enabled:visible");n.each(function(){jQuery(this).is(":checked")&&t++});var r=n.length,i=t==r,o=e.find("select:enabled:visible"),a=o.length,s=[],l=[],u=0,c=!0,p=null;return e.find("select:enabled:visible").each(function(){var e=jQuery(this).val();return 0==u&&(p=e),p!=e&&(p=null),jQuery(this).find("option").each(function(){var e=jQuery(this).text(),t=jQuery(this).val();return 0==u&&(s.push(e),l.push({value:t,text:e})),s.indexOf(e)<0?(c=!1,!1):void 0}),0==c?!1:void u++}),{checkbox:r>1,checkbox_default:i,select:a>1&&c,select_default:p,options:l}},SD_AllChecker.prototype.setMultiCheckerListener=function(){var e=this,t=jQuery("#mainTable"),n=function(e,n,r){var i=n.split("\n");1==i.length&&(i=n.split(","));for(var o=[],a=[],s=[],l=0;l<i.length;l++){var u=i[l].trim();0!=u.length&&(o.push(u),a.push(u))}var c=t.find(".dataRow ."+e);c.each(function(){var e=jQuery(this),t=e.closest(".dataRow"),n=t.find(".dataCell").first().text();if(n=n.trim(),o.indexOf(n)>=0){e.find(":checkbox:enabled:visible").prop("checked",r),e.addClass("SD_All_Checker_checked-col");var i=a.indexOf(n);i>=0?a.splice(i,1):s.push(n)}});var p="",d="Done!",f="",h=r?"Checked":"Unchecked",m=o.length-a.length;a.length>0&&(p=" error",d="Error!",f=" Not found fields: <strong>"+a.join(", ")+"</strong>."),s.length>0&&(p=" warning",d="Warning!",f=" Dunplicate fields: <strong>"+s.join(", ")+"</strong>.");var b=jQuery('<tr><td colspan="2"><div class="message'+p+'" id="SD_All_Checker_message">'+d+" "+h+" <strong>"+m+"</strong> fields."+f+"</div></td><tr>");b.appendTo(t.closest(".bPageBlock").find(".pbHeader > table").first());var y=""==p?5e3:1e4;setTimeout(function(){b.remove()},y)};t.find(".SD_ALL_Check_multi-check").each(function(){var t=jQuery(this),r=t.data("target");t.webuiPopover({title:"Multi Checker",content:function(){var t=e._getMultiCheckerPopoverHtml();return t},onShow:function(e){console.log("$element",e);var i=e.find('textarea[name="fields"]').first();i.val(""),e.find(".apply-btn").off().click(function(e){var o=jQuery(this),a="check"==o.data("target"),s=i.val();n(r,s,a),t.webuiPopover("hide"),e.stopPropagation()})},onHide:function(e){},placement:"left-bottom",multi:!1,closeable:!0,trigger:"click"})})},SD_AllChecker.prototype._getMultiCheckerPopoverHtml=function(){var e="Input fields with comma-separated or newline-separated.\ne.g. \nField A,Field B\nOR\nField A\nField B",t='<div class="multi-checker-body">';return t+='<textarea name="fields" rows="10" cols="64" placeholder="'+e+'"></textarea>',t+='<p class="hint-inner"><b>Tips:</b> Copy and Paste fields from Excel to avoid mistake and save time.</p>',t+='</div><div class="multi-checker-footer">',t+='<button class="btn btnSpacerRight apply-btn" data-target="uncheck"><input type="checkbox" value="1" /> Uncheck</button>&nbsp;&nbsp;',t+='<button class="btn apply-btn" data-target="check"><input type="checkbox" value="1" checked="checked" /> Check</button>',t+="</div>"},String.prototype.insertAt=function(e,t){return e>0?this.substring(0,e)+t+this.substring(e,this.length):t+this};var SD_DebugLogger=function(e){e=e||{},this.conn=e.conn,this.nameMeta=e.conn.metadataNameMap||{},this.lineTags={};var t=e.conn.metadata||[];this.prefixMeta={};for(var n=0;n<t.length;n++){var r=t[n];this.prefixMeta[r.keyPrefix]=r}};SD_DebugLogger.prototype.active=function(e){e=e||{};var t=this;t.lineTags={},t.initDebugPanelHtml(),e.callback&&e.callback()},SD_DebugLogger.prototype.getEventCategories=function(e){for(var t=this.getEventMaster(),n=Object.keys(t),r={},i=0;i<n.length;i++)for(var o=n[i],a=t[o],s=a.events,l=0;l<s.length;l++)r[s[l]]=o;return r},SD_DebugLogger.prototype.initDebugPanelHtml=function(e){var t=this,n=t.getEventCategories(),r=t.getErrorEvents(),i=jQuery("pre.codeBlock").first(),o=i.text().split("\n");t.lineTags=t.formatLineTags({eventCategories:n,lines:o});for(var a='<pre class="codeBlock" id="SD_Debug_Lines">',s=0;s<o.length;s++){var l=o[s],u=t.analyticLineInfo({eventCategories:n,line:l}),c=t.parseJsonLine({line:u.content});0!=c?u.content=c:u.content=t.replaceLookupIds({line:u.content,metadata:t.prefixMeta}),"USER_DEBUG"==u.tag&&(u.content=t.styleDebugLevel({line:u.content,level:u.level})),r.indexOf(u.tag)>=0&&(u.content='<span class="code-inner-content-error">'+u.content+"</span>"),u.content='<span class="code-inner-content">'+u.content+"</span>";var p='<span class="line-number">'+(s+1)+"</span>",d='<span class="code-inner" data-tag="'+u.tag+'" data-category="'+u.category+'">'+u.preline+u.content+"</span>";a+='<span id="SD_Debug_Log_Line_'+s+'">'+p+d+"</span>"}a+="</pre>",i.hide().after(a);var f=t.getStylesheet();jQuery("<style>").prop("type","text/css").prop("href","//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css").appendTo("head"),jQuery("<style>").prop("type","text/css").html(f).appendTo("head"),t.setEventListener();var h=T_Util.getParser(window.location.href);if(T_Util.isNotBlank(h.hash)){
var m=h.hash.replace("#","");if(!T_Util.isNumber(m))return;var b=jQuery("#SD_Debug_Log_Line_"+(parseInt(m)-1));b.find(".code-inner").addClass("highlight"),t.scrollTo(b)}},SD_DebugLogger.prototype.getStylesheet=function(e){e=e||{};var t=".webui-popover-inner ul { padding: 0; margin: 0; background-color: #fff; }";return t+=".webui-popover-inner li { list-style: none; border-bottom: 1px solid #f0f0f0; padding: 6px; margin: 0; }",t+=".webui-popover-inner .panel-header{ padding: 6px; margin: 0; font-weight: 500; }",t+=".webui-popover-inner .panel-header.open{ border-bottom: 1px solid #f0f0f0; }",t+=".webui-popover-inner li:last-child { border-bottom: none; }",t+=".webui-popover-inner .collapse { padding: 0 6px; }",t+=".webui-popover-inner .down { display: inline-block; }",t+=".webui-popover-inner .open .down { display: none; }",t+=".webui-popover-inner .up { display: none; }",t+=".webui-popover-inner .open .up { display: inline-block; }",t+="#SD_Debug_Lines > span{ display: block; }",t+="#SD_Debug_Lines .hide{ display: none !important; }",t+="#SD_Debug_Lines span.line-number{ padding-right: 10px; color: rgba(0,0,0,0.3); min-width: 40px; display: inline-block; text-align:right; }",t+="#SD_Debug_Lines span.highlight{ background-color: #f8eec7; }",t+="#SD_Debug_Lines span.debug-level-info, #SD_Debug_Lines span.debug-level-info a, #SD_Debug_Lines span.debug-level-fine, #SD_Debug_Lines span.debug-level-fine a,",t+="#SD_Debug_Lines span.debug-level-finer, #SD_Debug_Lines span.debug-level-finer a, #SD_Debug_Lines span.debug-level-finest, #SD_Debug_Lines span.debug-level-finest a{ color: #00a65a; }",t+="#SD_Debug_Lines span.debug-level-debug, #SD_Debug_Lines span.debug-level-debug a{ color: blue; }",t+="#SD_Debug_Lines span.debug-level-warn, #SD_Debug_Lines span.debug-level-warn a{ color: #f39c12; }",t+="#SD_Debug_Lines span.debug-level-error,#SD_Debug_Lines span.debug-level-error a, #SD_Debug_Lines span.code-inner-content-error, #SD_Debug_Lines span.code-inner-content-error a{ color: #dd4b39; }",t+="#SD_Debug_Lines .debug-sobject-viewer-btn { padding: 0 5px; }",t+="#SD_Debug_Lines .debug-sobject-viewer-btn .fa { color : blue; }",t+='.webui-popover-content{display:none}.webui-popover-rtl{direction:rtl;text-align:right}.webui-popover{position:absolute;top:0;left:0;z-index:9999;display:none;min-width:50px;min-height:32px;padding:1px;text-align:left;white-space:normal;background-color:#fff;background-clip:padding-box;border:1px solid #ccc;border:1px solid rgba(0,0,0,.2);border-radius:6px;-webkit-box-shadow:0 5px 10px rgba(0,0,0,.2);box-shadow:0 5px 10px rgba(0,0,0,.2)}.webui-popover.top,.webui-popover.top-left,.webui-popover.top-right{margin-top:-10px}.webui-popover.right,.webui-popover.right-top,.webui-popover.right-bottom{margin-left:10px}.webui-popover.bottom,.webui-popover.bottom-left,.webui-popover.bottom-right{margin-top:10px}.webui-popover.left,.webui-popover.left-top,.webui-popover.left-bottom{margin-left:-10px}.webui-popover.pop{-webkit-transform:scale(0.8);-o-transform:scale(0.8);transform:scale(0.8);-webkit-transition:transform .15s cubic-bezier(0.3,0,0,1.5);-o-transition:transform .15s cubic-bezier(0.3,0,0,1.5);transition:transform .15s cubic-bezier(0.3,0,0,1.5);opacity:0;filter:alpha(opacity=0)}.webui-popover.pop-out{-webkit-transition-property:"opacity,transform";-o-transition-property:"opacity,transform";transition-property:"opacity,transform";-webkit-transition:.15s linear;-o-transition:.15s linear;transition:.15s linear;opacity:0;filter:alpha(opacity=0)}.webui-popover.fade,.webui-popover.fade-out{-webkit-transition:opacity .15s linear;-o-transition:opacity .15s linear;transition:opacity .15s linear;opacity:0;filter:alpha(opacity=0)}.webui-popover.out{opacity:0;filter:alpha(opacity=0)}.webui-popover.in{-webkit-transform:none;-o-transform:none;transform:none;opacity:1;filter:alpha(opacity=100)}.webui-popover .webui-popover-content{padding:0px;overflow:auto;display:block}.webui-popover .webui-popover-content>div:first-child{width:99%}.webui-popover-inner .close{font-family:arial;font-size:16px;font-weight:700;line-height:16px;color:#000;text-shadow:0 1px 0 #fff;opacity:.2;filter:alpha(opacity=20);text-decoration:none}.webui-popover-inner .close:hover,.webui-popover-inner .close:focus{opacity:.5;filter:alpha(opacity=50)}.webui-popover-inner .close:after{content:"\x00D7";width:.8em;height:.8em;padding:4px;position:relative}.webui-popover-title{background-color: #d9edf7;padding:0 14px;width:100%;display:inline-block;height:36px;line-height:36px;box-sizing:border-box; margin:0px;font-size:14px;font-weight:700;background-color:#fff;border-bottom:1px solid #f2f2f2;border-radius:5px 5px 0 0}.webui-popover-content{padding:9px 14px;overflow:auto;display:none}.webui-popover-inverse{background-color:#333;color:#eee}.webui-popover-inverse .webui-popover-title{background:#333;border-bottom:1px solid #3b3b3b;color:#eee}.webui-no-padding .webui-popover-content{padding:0}.webui-no-padding .list-group-item{border-right:none;border-left:none}.webui-no-padding .list-group-item:first-child{border-top:0}.webui-no-padding .list-group-item:last-child{border-bottom:0}.webui-popover>.webui-arrow,.webui-popover>.webui-arrow:after{position:absolute;display:block;width:0;height:0;border-color:transparent;border-style:solid}.webui-popover>.webui-arrow{border-width:11px}.webui-popover>.webui-arrow:after{border-width:10px;content:""}.webui-popover.top>.webui-arrow,.webui-popover.top-right>.webui-arrow,.webui-popover.top-left>.webui-arrow{bottom:-11px;left:50%;margin-left:-11px;border-top-color:#999;border-top-color:rgba(0,0,0,.25);border-bottom-width:0}.webui-popover.top>.webui-arrow:after,.webui-popover.top-right>.webui-arrow:after,.webui-popover.top-left>.webui-arrow:after{content:" ";bottom:1px;margin-left:-10px;border-top-color:#fff;border-bottom-width:0}.webui-popover.right>.webui-arrow,.webui-popover.right-top>.webui-arrow,.webui-popover.right-bottom>.webui-arrow{top:50%;left:-11px;margin-top:-11px;border-left-width:0;border-right-color:#999;border-right-color:rgba(0,0,0,.25)}.webui-popover.right>.webui-arrow:after,.webui-popover.right-top>.webui-arrow:after,.webui-popover.right-bottom>.webui-arrow:after{content:" ";left:1px;bottom:-10px;border-left-width:0;border-right-color:#fff}.webui-popover.bottom>.webui-arrow,.webui-popover.bottom-right>.webui-arrow,.webui-popover.bottom-left>.webui-arrow{top:-11px;left:50%;margin-left:-11px;border-bottom-color:#999;border-bottom-color:rgba(0,0,0,.25);border-top-width:0}.webui-popover.bottom>.webui-arrow:after,.webui-popover.bottom-right>.webui-arrow:after,.webui-popover.bottom-left>.webui-arrow:after{content:" ";top:1px;margin-left:-10px;border-bottom-color:#fff;border-top-width:0}.webui-popover.left>.webui-arrow,.webui-popover.left-top>.webui-arrow,.webui-popover.left-bottom>.webui-arrow{top:50%;right:-11px;margin-top:-11px;border-right-width:0;border-left-color:#999;border-left-color:rgba(0,0,0,.25)}.webui-popover.left>.webui-arrow:after,.webui-popover.left-top>.webui-arrow:after,.webui-popover.left-bottom>.webui-arrow:after{content:" ";right:1px;border-right-width:0;border-left-color:#fff;bottom:-10px}.webui-popover-inverse.top>.webui-arrow,.webui-popover-inverse.top-left>.webui-arrow,.webui-popover-inverse.top-right>.webui-arrow,.webui-popover-inverse.top>.webui-arrow:after,.webui-popover-inverse.top-left>.webui-arrow:after,.webui-popover-inverse.top-right>.webui-arrow:after{border-top-color:#333}.webui-popover-inverse.right>.webui-arrow,.webui-popover-inverse.right-top>.webui-arrow,.webui-popover-inverse.right-bottom>.webui-arrow,.webui-popover-inverse.right>.webui-arrow:after,.webui-popover-inverse.right-top>.webui-arrow:after,.webui-popover-inverse.right-bottom>.webui-arrow:after{border-right-color:#333}.webui-popover-inverse.bottom>.webui-arrow,.webui-popover-inverse.bottom-left>.webui-arrow,.webui-popover-inverse.bottom-right>.webui-arrow,.webui-popover-inverse.bottom>.webui-arrow:after,.webui-popover-inverse.bottom-left>.webui-arrow:after,.webui-popover-inverse.bottom-right>.webui-arrow:after{border-bottom-color:#333}.webui-popover-inverse.left>.webui-arrow,.webui-popover-inverse.left-top>.webui-arrow,.webui-popover-inverse.left-bottom>.webui-arrow,.webui-popover-inverse.left>.webui-arrow:after,.webui-popover-inverse.left-top>.webui-arrow:after,.webui-popover-inverse.left-bottom>.webui-arrow:after{border-left-color:#333}.webui-popover i.icon-refresh:before{content:""}.webui-popover i.icon-refresh{display:block;width:30px;height:30px;font-size:20px;top:50%;left:50%;position:absolute;margin-left:-15px;margin-right:-15px;background:url(../img/loading.gif) no-repeat}@-webkit-keyframes rotate{100%{-webkit-transform:rotate(360deg)}}@keyframes rotate{100%{transform:rotate(360deg)}}.webui-popover-backdrop{background-color:rgba(0,0,0,.65);width:100%;height:100%;position:fixed;top:0;left:0;z-index:9998}.webui-popover .dropdown-menu{display:block;position:relative;top:0;border:none;box-shadow:none;float:none}',t+=".webui-popover-inner a{ text-decoration: none; }",t+=".webui-popover-inner .panel-category { overflow-y: auto; background: rgba(255, 255, 255, 0.85); }",t+=".webui-popover-inner .panel-fields{ padding-left: 5px; display: none; }",t+=".webui-popover-inner .collapse, .webui-popover-inner .collapse:hover{ font-weight:600; text-decoration:none; }",t+=".webui-popover-inner .open .panel-fields{ display: block; }",t+='.webui-popover-inner .close:after{ content:"\\f00d"; font-family: FontAwesome;}',t+=".webui-popover-inner .close:after{ position:absolute; right: 6px; top: 6px;}",t+=".webui-popover-inner .table{ width: 100%;max-width: 100%; background-color: transparent; border-spacing: 0; border-collapse: collapse;}",t+=".webui-popover-inner .table>tbody>tr>td, .webui-popover-inner .table>tbody>tr>th{padding: 8px; line-height: 1.42857143; vertical-align: top; border-top: 1px solid #ddd;}",t+=".webui-popover-inner .table>tbody>tr>th, .webui-popover-inner .table>tbody>tr>td{border-top: 1px solid #f4f4f4;}",t+=".webui-popover-inner .table>tbody>tr>td .small{ font-size: 90%; opacity: 0.7; }",t+=".webui-popover-inner .table>tbody>tr>td a{ text-decoration: underline; }"},SD_DebugLogger.prototype.getPanelHtml=function(e){e=e||{};var t=this,n='<div id="SD_Debug_Panel" class="close">';n+='<div class="panel-title"><h2><a href="https://www.xgeek.net/salesforce/tesforce-for-google-chrome/" target="_blank">Debug Log Viewer</a></h2>',n+='<a href="javascript:void(0);" class="close pull-right"><i class="fa fa-expand"></i></a></div>',n+='<div class="panel-head"><label><input type="checkbox" class="checkbox checkbox-all" checked><span class="check-icon"><i class="fa fa-check"></i></span>&nbsp;All</label>',n+='&nbsp;&nbsp;&nbsp;&nbsp;<label><input type="checkbox" class="checkbox checkbox-debug-only" data-tag="USER_DEBUG" data-category="apexcode"><span class="check-icon"><i class="fa fa-check"></i></span>&nbsp;Debug Only</label>',n+='&nbsp;&nbsp;&nbsp;&nbsp;<label><input type="checkbox" class="checkbox checkbox-query-only" data-tag="SOQL_EXECUTE_BEGIN" data-category="db"><span class="check-icon"><i class="fa fa-check"></i></span>&nbsp;Query Only</label>',n+='</div><ul class="panel-category">';for(var r=t.getEventMaster(),i=Object.keys(r),o=Object.keys(t.lineTags),a=0;a<i.length;a++){var s=i[a],l=r[s],u=l.events,c=0==a?"open":"",p=0==a?"display: block;":"";cHtml='<li><div class="panel-header '+c+'"><label><input type="checkbox" class="checkbox checkbox-category" data-category="'+s+'" checked><span class="check-icon"><i class="fa fa-check"></i></span>&nbsp;</label>',cHtml+='<a href="javascript:void(0);" class="category-menu" data-category="'+s+'">'+l.label+'</a><a href="javascript:void(0);" class="collapse pull-right"><i class="fa fa-angle-down"></i></a></div><ul class="panel-event" style="'+p+'">';for(var d=!1,f=0;f<u.length;f++)o.indexOf(u[f])<0||(cHtml+='<li><label><input type="checkbox" class="checkbox checkbox-event" data-tag="'+u[f]+'" checked><span class="check-icon"><i class="fa fa-check"></i></span>&nbsp;</label>',cHtml+='<a href="javascript:void(0);" class="event-menu" data-tag="'+u[f]+'">'+u[f]+"</a></li>",d=!0);cHtml+="</ul></li>",n+=d?cHtml:""}return n+='<li><div class="panel-header"><label><input type="checkbox" class="checkbox checkbox-category" data-category="other" checked><span class="check-icon"><i class="fa fa-check"></i></span>&nbsp;</label>',n+='<a href="javascript:void(0);" class="category-menu" data-category="other">Other</a></div></li>',n+="</ul></div>"},SD_DebugLogger.prototype.highlight=function(e){var t=this;t.clearHighlight();var n=jQuery("#SD_Debug_Lines"),r=T_Util.isBlank(e.tag)?"category":"tag",i=T_Util.isBlank(e.tag)?e.category:e.tag,o=T_Util.isBlank(e.line)?1:parseInt(e.line),a=n.find(".code-inner[data-"+r+'="'+i+'"]');if(a.length>0){var s=o%a.length;s=0===s?a.length:s,a.addClass("highlight"),t.scrollTo(a.children().eq(s-1))}},SD_DebugLogger.prototype.taggle=function(e){for(var t=jQuery("#SD_Debug_Lines"),n=T_Util.isBlank(e.tags)?"category":"tag",r=T_Util.isBlank(e.tags)?e.categories:e.tags,i=0;i<r.length;i++){var o=r[i],a=t.find(".code-inner[data-"+n+'="'+o+'"]');e.checked?a.parent().removeClass("hide"):a.parent().addClass("hide")}},SD_DebugLogger.prototype.setEventListener=function(e){e=e||{};var t=this,n=jQuery("#SD_Debug_Lines");n.find(".debug-sobject-viewer-btn").webuiPopover({title:"SObjects",content:function(){var e=jQuery(this).data("json");"string"==typeof e&&(e=JSON.parse(e));var n=t.getSObjectViewerHtml({json:e});return n},onShow:function(e){var n=e.find('input[name="title"]').first().val();e.find("h3.webui-popover-title").html(n),e.find(".collapse").click(function(e){var t=jQuery(this).closest(".panel-header"),n=jQuery(this).closest(".panel-header").siblings(".panel-fields").first();t.hasClass("open")?(t.removeClass("open"),n.hide()):(t.addClass("open"),n.show()),e.stopPropagation()});var r=e.width(),i=e.offset().left,o=e.find('input[name="sobject"]').first().val();t.nameMeta.hasOwnProperty(o)&&t.conn.describe(o,function(t,n){if(!t){for(var o={},a=0;a<n.fields.length;a++){var s=n.fields[a];o[s.name.toUpperCase()]=s.label}e.find("td.field").each(function(){var e=jQuery(this),t=e.attr("data-field");if(o.hasOwnProperty(t.toUpperCase())){var n=o[t.toUpperCase()];e.html(n+'&nbsp;<span class="small">('+t+")</span>")}});var l=e.width();e.css("left",i-l+r+10+"px")}})},onHide:function(e){e.find(".collapse").off()},placement:"left-bottom",multi:!1,closeable:!0,trigger:"click"})},SD_DebugLogger.prototype.getSObjectViewerHtml=function(e){e=e||{};var t=this,n=e.json,r=t.nameMeta,i="chrome-extension://"+chrome.runtime.id+"/",o="";o+='<ul class="panel-category">';for(var a,s,l=!0,u=0;u<n.length;u++){var c=n[u],p=c.fields,d=r[c.sobject];c.hasOwnProperty("NAME")?title=c.NAME:c.hasOwnProperty("ID")?title=c.ID:title=d.label+" (#"+(u+1)+")";var f=0==u?"open":"",h=0==u?"display: block;":"";cHtml='<li><div class="panel-header '+f+'">',cHtml+='<a href="javascript:void(0);" class="collapse">'+title+'</a><a href="javascript:void(0);" class="collapse pull-right">',cHtml+='<img src="'+i+'dist/image/fa-angle-down.png" width="11" class="down" /><img src="'+i+'dist/image/fa-angle-up.png" class="up" width="11" /></a></div><div class="panel-fields" style="'+h+'">',cHtml+='<table class="table table-striped">';for(var m in p){var b=p[m],y=t.isObjectId({value:b,metadata:t.prefixMeta});y&&(b='<a href="/'+b+'" target="_blank">'+b+"</a>"),cHtml+='<tr><td class="field" data-field="'+m+'">'+m+"</td><td>"+b+"</td></tr>"}cHtml+="</table></div></li>",o+=cHtml;var g=d.label+" ("+d.name+")";s=d.name,0==u&&(a=g),a!=g&&(l=!1)}a=l?a:"SObjects";var s=l?s:"";return o+='<input type="hidden" name="title" value="'+a+'" />',o+='<input type="hidden" name="sobject" value="'+s+'" />',o+="</ul>"},SD_DebugLogger.prototype.clearHighlight=function(e){e=e||{};jQuery("#SD_Debug_Lines").find(".code-inner.highlight").removeClass("highlight")},SD_DebugLogger.prototype.formatLineTags=function(e){e=e||{};for(var t=e.eventCategories,n={},r=0;r<e.lines.length;r++){var i=this.findDebugTag({eventCategories:t,line:e.lines[r]});T_Util.isBlank(i)||(n.hasOwnProperty(i)||(n[i]={lines:[]}),n[i].lines.push(r),n[i].category=t[i])}return n},SD_DebugLogger.prototype.findDebugTag=function(e){e=e||{};var t=e.line.match(/\)\|[A-Z_]+/);if(T_Util.isBlank(t)||t.length<1)return null;var n=t[0];return n=n.replace(/\)\|/g,""),e.eventCategories.hasOwnProperty(n)?n:null},SD_DebugLogger.prototype.analyticLineInfo=function(e){e=e||{};var t=this,n={line:e.line,preline:e.line,content:"",tag:"other",category:"other",level:""},r=e.line.match(/\)\|[A-Z_]+|(\|\[[A-Z|\d]\])/);if(T_Util.isBlank(r)||r.length<1)return n;var i=r[0],o=e.line.split(i);n.preline=o[0]+i,n.content=o[1],o.length>2&&(o.splice(0,1),n.content=o.join(i)),n.content=T_Util.escHtml(n.content);var a=i.match(/\)\|[A-Z_]+/);if(T_Util.isBlank(a)||a.length<1)return n;var s=a[0];if(s=s.replace(/\)\|/g,""),!e.eventCategories.hasOwnProperty(s))return n;if(n.category=e.eventCategories[s],n.tag=s,"USER_DEBUG"==s){var l=t.findDebugLevel({line:n.line});n.level=T_Util.isBlank(l)?"":l}return n},SD_DebugLogger.prototype.findDebugLevel=function(e){e=e||{};var t=["INFO","WARN","ERROR","DEBUG","FINE","FINER","FINEST"],n=e.line.match(/\)\|USER_DEBUG\|\[\d+\]\|[A-Z]+\|/);if(T_Util.isBlank(n)||n.length<1)return null;var r=n[0];if(n=r.match(/\|[A-Z]+\|/),T_Util.isBlank(n)||n.length<1)return null;var i=n[0].replace(/\|/g,"");return t.indexOf(i)<0?null:i},SD_DebugLogger.prototype.styleDebugLevel=function(e){e=e||{};var t="|"+e.level+"|",n=e.line.split(t),r=n[0]+t;return 1==n.length?r:(n.length>1&&(n.splice(0,1),r+='<span class="debug-level-'+e.level.toLowerCase()+'">'+n.join(t)+"</span>"),r)},SD_DebugLogger.prototype.formatSObjectToJson=function(e){var t=this.getSObjectName(e);if(T_Util.isBlank(t))return null;var n=e.replace(t+":","");n=n.split(", ...").join(""),n=n.replace(/}$/,"").replace(/^{/,"");for(var r=n.split(", "),i=[],o=0;o<r.length;o++){var a=r[o].match(/^[a-zA-Z_]+\=/g);if(!T_Util.isBlank(a)&&a.length>0)i.push(r[o]);else{var s=i.length-1;i[s]=i[s]+", "+r[o]}}for(var l={sobject:t,fields:{}},o=0;o<i.length;o++){var u=i[o],a=u.match(/^[a-zA-Z_]+\=/g),c=a[0].replace("=",""),p=u.replace(a[0],"");"ID"==c.toUpperCase()?l.ID=p:"NAME"==c.toUpperCase()&&(l.NAME=p),l.fields[c]=p}return l},SD_DebugLogger.prototype.getSObjectName=function(e){var t=e.match(/[a-zA-Z_]+:/g);if(T_Util.isBlank(t)||t.length<1)return null;var n=t[0].replace(":","");return this.nameMeta.hasOwnProperty(n)?n:null},SD_DebugLogger.prototype.parseJsonLine=function(e){e=e||{};var t=e.line,n="chrome-extension://"+chrome.runtime.id+"/",r=t.match(/[a-zA-Z_]+:\{([^\}]*)\}/g);if(!T_Util.isBlank(r)&&r.length>0){var i=t.indexOf(r[0]),o=t.match(/\(([^\)]*)\)/g);if(i>0&&"("==t.substr(i-1,1)&&!T_Util.isBlank(o)&&o.length>0){for(var a=[],s=0;s<r.length;s++){var l=this.formatSObjectToJson(r[s]);null!=l&&a.push(l)}t=t.insertAt(i-2,'<a href="javascript:void(0)" class="debug-sobject-viewer-btn" data-json=\''+JSON.stringify(a)+"'><img src=\""+n+'dist/image/fa-plus-square.png" width="11" /></a>')}else for(var a=[],s=0;s<r.length;s++){var u=t.indexOf(r[s]),l=this.formatSObjectToJson(r[s]);null!=l&&(a.push(l),t=t.insertAt(u-1,'<a href="javascript:void(0)" class="debug-sobject-viewer-btn" data-json=\''+JSON.stringify(a)+"'><img src=\""+n+'dist/image/fa-plus-square.png" width="11" /></a>'))}return t}return!1},SD_DebugLogger.prototype.isObjectId=function(e){e=e||{};var t=e.value,n=e.metadata;if(15!=t.length&&18!=t.length)return!1;var r=t.match(/[a-zA-Z0-9]{15,18}/g);if(T_Util.isBlank(r)||0==r.length)return!1;var i=r[0],o=i.substring(0,3);return!!n.hasOwnProperty(o)},SD_DebugLogger.prototype.replaceLookupIds=function(e){e=e||{};var t=e.line,n=e.metadata,r=t.match(/[a-zA-Z0-9]{15,18}/g);if(T_Util.isBlank(r)||0==r.length)return t;for(var i=[],o=0;o<r.length;o++){var a=r[o];if(!(i.indexOf(a)>=0)){var s=a.substring(0,3);if(n.hasOwnProperty(s)){i.push(a);var l=this.generateLookupLink({id:a});t=t.replace(new RegExp(a,"g"),l)}}}return t},SD_DebugLogger.prototype.generateLookupLink=function(e){e=e||{};var t=e.id,n="lookup_"+t+"_"+this.random(6),r='<a href="/'+t+'" id="'+n+'" target="_blank" onblur="LookupHoverDetail.getHover(\''+n+"').hide();\"";return r+="onfocus=\"LookupHoverDetail.getHover('"+n+"', '/"+t+"/m?isAjaxRequest=1').show();\"",r+="onmouseout=\"LookupHoverDetail.getHover('"+n+"').hide();\"",r+="onmouseover=\"LookupHoverDetail.getHover('"+n+"', '/"+t+"/m?isAjaxRequest=1').show();\">"+t+"</a>"},SD_DebugLogger.prototype.random=function(e){for(var t="abcdefghijklmnopqrstuvwxyz0123456789",n=t.length,r="",i=0;e>i;i++)r+=t[Math.floor(Math.random()*n)];return r},SD_DebugLogger.prototype.scrollTo=function(e){jQuery("html, body").animate({scrollTop:e.offset().top},"fast")},SD_DebugLogger.prototype.removePanel=function(e){jQuery("#SD_Debug_Lines").remove(),jQuery("pre.codeBlock").show()},SD_DebugLogger.prototype.getEventMaster=function(e){return{apexcode:{label:"Apex Code",events:["BULK_HEAP_ALLOCATE","CODE_UNIT_STARTED","CODE_UNIT_FINISHED","CONSTRUCTOR_ENTRY","CONSTRUCTOR_EXIT","EMAIL_QUEUE","ENTERING_MANAGED_PKG","EXCEPTION_THROWN","EXECUTION_STARTED","EXECUTION_FINISHED","FATAL_ERROR","HEAP_ALLOCATE","HEAP_DEALLOCATE","METHOD_ENTRY","METHOD_EXIT","PUSH_NOTIFICATION_INVALID_APP","PUSH_NOTIFICATION_INVALID_CERTIFICATE","PUSH_NOTIFICATION_INVALID_NOTIFICATION","PUSH_NOTIFICATION_NO_DEVICES","PUSH_NOTIFICATION_NOT_ENABLED","PUSH_NOTIFICATION_SENT","STATEMENT_EXECUTE","USER_DEBUG","VARIABLE_ASSIGNMENT","VARIABLE_SCOPE_BEGIN","VARIABLE_SCOPE_END","VF_APEX_CALL","VF_PAGE_MESSAGE"]},apexprofiling:{label:"Apex Profiling",events:["CUMULATIVE_LIMIT_USAGE","CUMULATIVE_LIMIT_USAGE_END","CUMULATIVE_PROFILING","CUMULATIVE_PROFILING_BEGIN","CUMULATIVE_PROFILING_END","LIMIT_USAGE_FOR_NS","STACK_FRAME_VARIABLE_LIST","STATIC_VARIABLE_LIST","TESTING_LIMITS","TOTAL_EMAIL_RECIPIENTS_QUEUED"]},callout:{label:"Callout",events:["CUMULATIVE_LIMIT_USAGE","CUMULATIVE_LIMIT_USAGE_END","CUMULATIVE_PROFILING","CUMULATIVE_PROFILING_BEGIN","CUMULATIVE_PROFILING_END","LIMIT_USAGE_FOR_NS","STACK_FRAME_VARIABLE_LIST","STATIC_VARIABLE_LIST","TESTING_LIMITS","TOTAL_EMAIL_RECIPIENTS_QUEUED"]},db:{label:"DB",events:["DML_BEGIN","DML_END","IDEAS_QUERY_EXECUTE","QUERY_MORE_BEGIN","QUERY_MORE_END","QUERY_MORE_ITERATIONS","SAVEPOINT_ROLLBACK","SAVEPOINT_SET","SOQL_EXECUTE_BEGIN","SOQL_EXECUTE_END","SOSL_EXECUTE_BEGIN","SOSL_EXECUTE_END"]},system:{label:"System",events:["POP_TRACE_FLAGS","PUSH_TRACE_FLAGS","SYSTEM_CONSTRUCTOR_ENTRY","SYSTEM_CONSTRUCTOR_EXIT","SYSTEM_METHOD_ENTRY","SYSTEM_METHOD_EXIT","SYSTEM_MODE_ENTER","SYSTEM_MODE_EXIT"]},validation:{label:"Validation",events:["VALIDATION_ERROR","VALIDATION_FAIL","VALIDATION_FORMULA","VALIDATION_PASS","VALIDATION_RULE"]},visualforce:{label:"Visualforce",events:["VF_DESERIALIZE_VIEWSTATE_BEGIN","VF_DESERIALIZE_VIEWSTATE_END","VF_EVALUATE_FORMULA_BEGIN","VF_EVALUATE_FORMULA_END","VF_SERIALIZE_VIEWSTATE_BEGIN","VF_SERIALIZE_VIEWSTATE_END"]},workflow:{label:"Workflow",events:["FLOW_ACTIONCALL_DETAIL","FLOW_ASSIGNMENT_DETAIL","FLOW_BULK_ELEMENT_BEGIN","FLOW_BULK_ELEMENT_DETAIL","FLOW_BULK_ELEMENT_END","FLOW_CREATE_INTERVIEW_BEGIN","FLOW_CREATE_INTERVIEW_END","FLOW_CREATE_INTERVIEW_ERROR","FLOW_ELEMENT_BEGIN","FLOW_ELEMENT_DEFERRED","FLOW_ELEMENT_END","FLOW_ELEMENT_ERROR","FLOW_ELEMENT_FAULT","FLOW_INTERVIEW_PAUSED","FLOW_INTERVIEW_RESUMED","FLOW_LOOP_DETAIL","FLOW_RULE_DETAIL","FLOW_START_INTERVIEW_BEGIN","FLOW_START_INTERVIEW_END","FLOW_START_INTERVIEWS_BEGIN","FLOW_START_INTERVIEWS_END","FLOW_START_INTERVIEWS_ERROR","FLOW_SUBFLOW_DETAIL","FLOW_VALUE_ASSIGNMENT","FLOW_WAIT_EVENT_RESUMING_DETAIL","FLOW_WAIT_EVENT_WAITING_DETAIL","FLOW_WAIT_RESUMING_DETAIL","FLOW_WAIT_WAITING_DETAIL","SLA_END","SLA_EVAL_MILESTONE","SLA_NULL_START_DATE","SLA_PROCESS_CASE","WF_ACTION","WF_ACTION_TASK","WF_ACTIONS_END","WF_APPROVAL","WF_APPROVAL_REMOVE","WF_APPROVAL_SUBMIT","WF_ASSIGN","WF_CRITERIA_BEGIN","WF_CRITERIA_END","WF_EMAIL_ALERT","WF_EMAIL_SENT","WF_ENQUEUE_ACTIONS","WF_ESCALATION_ACTION","WF_ESCALATION_RULE","WF_EVAL_ENTRY_CRITERIA","WF_FIELD_UPDATE","WF_FLOW_ACTION_BEGIN","WF_FLOW_ACTION_DETAIL","WF_FLOW_ACTION_END","WF_FLOW_ACTION_ERROR","WF_FLOW_ACTION_ERROR_DETAIL","WF_FORMULA","WF_HARD_REJECT","WF_NEXT_APPROVER","WF_NO_PROCESS_FOUND","WF_OUTBOUND_MSG","WF_PROCESS_NODE","WF_REASSIGN_RECORD","WF_RESPONSE_NOTIFY","WF_RULE_ENTRY_ORDER","WF_RULE_EVAL_BEGIN","WF_RULE_EVAL_END","WF_RULE_EVAL_VALUE","WF_RULE_FILTER","WF_RULE_INVOCATION","WF_RULE_NOT_EVALUATED","WF_SOFT_REJECT","WF_SPOOL_ACTION_BEGIN","WF_TIME_TRIGGER","WF_TIME_TRIGGERS_BEGIN"]}}},SD_DebugLogger.prototype.getErrorEvents=function(e){return["EXCEPTION_THROWN","FATAL_ERROR","VALIDATION_ERROR","VALIDATION_FAIL","FLOW_CREATE_INTERVIEW_ERROR","FLOW_ELEMENT_ERROR","FLOW_START_INTERVIEWS_ERROR","WF_FLOW_ACTION_ERROR","WF_FLOW_ACTION_ERROR_DETAIL","WF_SOFT_REJECT"]};var SD_FieldMassEdit=function(e){e=e||{},this.conn=e.conn,this.isLEX=!1,this.sObj=null;var t=this.conn.userInfo&&this.conn.userInfo.language?this.conn.userInfo.language:"en_US";T_Languages.hasOwnProperty(t)||(t="en_US"),this.langs=T_Languages[t]};SD_FieldMassEdit.prototype.activeOnClassic=function(){var e=this;if(e.sObj=e.checkSetting(window.location.href),e.sObj){var t=jQuery("#CustomFieldRelatedList");if(e.sObj.custom&&e.sObj.objectId&&(t=jQuery("#"+e.sObj.objectId.substring(0,15)+"_CustomFieldRelatedList")),0!=t.length){var n="#SD_MassEdit_Edit_Button { color: #015ba7; }";n+="body .bPageBlock .SD_MassEdit_Button_Col{ position: relative; }",n+="body .bPageBlock .SD_MassEdit_Button_Col .badge{ position: absolute; top: -9px; font-size: 75%; font-weight: bold; color: red; right: -14px; }",n+="body .bPageBlock .SD_MassEdit_small{ font-size: 90%; color: grey; font-weight: 400;}",n+="body .bPageBlock .SD_MassEdit_hide{ display: none; }",n+="body .bPageBlock .btn.disabled{ cursor: default; color: rgb(204, 204, 204); border-color: rgb(204, 204, 204); }",n+="body .bPageBlock #SD_MassEdit_THeader .text-right{ text-align: right; font-weight: 400; }",n+="body .bPageBlock #SD_MassEdit_THeader .btn{ padding: 4px 3px; }",n+="body .bPageBlock #SD_MassEdit_ObjectSel{ width: 200px; height: 20px; margin-left : 5px; }",n+="body .bPageBlock .message{ padding : 5px; margin : 0 7px; border:1px solid #390; border-radius: 4px; background-color: #ffc; font-weight: 500; }",n+="body .bPageBlock .message.error{ border-color: #c00; color: #cc0000; }",n+="body .bPageBlock .message.warning{ border-color: #f90; font-weight: 400; color: #000; }",n+="body .bPageBlock .cloned-row > th, body .bPageBlock .cloned-row > td { background-color: #e3f3ff; }",n+="body .bPageBlock .renamed-row > th, body .bPageBlock .renamed-row > td { background-color: #e3f3ff; }",n+="body .bPageBlock .updated-row > th, body .bPageBlock .updated-row > td { background-color: #e3f3ff; }",n+="body .bPageBlock .error-row > th, body .bPageBlock .error-row > td{ background-color: #ffc !important; }",jQuery("<style>").prop("type","text/css").html(n).appendTo("head");var r=t.find(".bPageBlock").first(),i='&nbsp;<span class="SD_MassEdit_Button_Col"><input type="button" class="btn" id="SD_MassEdit_Edit_Button" value="'+e.langs.BTN_MASS_EDIT+'" href="javascript:void(0)" /></span>';i+='<span class="SD_MassEdit_small">&nbsp;(<a href="'+T_AppConfig.appUrl+'" target="_blank">'+T_AppConfig.appName+"</a>)</span>",r.find(".pbButton").append(i),this.initListener({target:t})}}},SD_FieldMassEdit.prototype.initListener=function(e){var t=this,n=e.target;n.find("#SD_MassEdit_Edit_Button").off().click(function(e){t.activeEditModeClassic(n),t.setRowListenerClassic(n)})},SD_FieldMassEdit.prototype.activeEditModeClassic=function(e){var t=this,n=this.getObjectPicklist(),r=e.find(".pbHeader").first(),i='<tr id="SD_MassEdit_THeader"><td class="pbButton">';i+='<input type="button" class="btn disabled" disabled="disabled" id="SD_MassEdit_Delete_Button" value="'+t.langs.BTN_DELETE+'" href="javascript:void(0)" /> | ',i+='<input type="button" class="btn disabled" disabled="disabled" id="SD_MassEdit_Clone_Button" value="'+t.langs.BTN_CLONE+'" href="javascript:void(0)" /> | ',i+='<input type="button" class="btn disabled" disabled="disabled" id="SD_MassEdit_CloneTo_Button" value="'+t.langs.BTN_CLONE_TO+'" href="javascript:void(0)" />'+n+"</td>",i+='<td class="pbButton">&nbsp;</td>',i+='<td class="pbButton" style="text-align:right;"><input type="button" class="btn SD_MassEdit_hide" id="SD_MassEdit_Save_Button" value="'+t.langs.BTN_SAVE+'" href="javascript:void(0)" />&nbsp;',i+='<input type="button" class="btn SD_MassEdit_hide" id="SD_MassEdit_Quick_Save_Button" value="'+t.langs.BTN_QUICK_SAVE+'" href="javascript:void(0)" />&nbsp;',i+='<input type="button" class="btn" id="SD_MassEdit_Cancel_Button" value="'+t.langs.BTN_CANCEL+'" href="javascript:void(0)" /></td></tr>',i+='<tr class="SD_MassEdit_hide"><th colspan="3"><div class="message" id="SD_MassEdit_message"></div></th></tr>',r.find("tbody tr").addClass("SD_MassEdit_hide"),r.find("tbody").append(i);var o=e.find(".pbBody").first();o.addClass("SD_MassEditMode");var a='<th class="chkColumn"><input type="checkbox" id="SD_MassEdit_allBox" class="head-checkbox" value="1"></th>',s='<td class="chkColumn"><input type="checkbox" class="row-checkbox" value="1"><input type="hidden" name="hasChanged" value="0" /></td>';o.find("tr.headerRow").prepend(a),o.find("tr.dataRow").prepend(s),o.find(".actionColumn, .iconColumn").addClass("SD_MassEdit_hide");var l=o.find("tr.totalRow");l.length>0&&l.prepend('<td class="chkColumn">&nbsp;</td>'),o.find(".dataRow").each(function(){var e=jQuery(this),t=e.find(".CfLabelCol").first(),n=t.text(),r='<input type="text" value="'+n+'" class="SD_MassEdit_fLabel" data-value="'+n+'" />';t.addClass("SD_MassEdit_hide").after(r);var i=e.find(".dataCell").eq(1),o=i.text(),a='<input type="text" value="'+o.replace("__c","")+'" class="SD_MassEdit_fValue" data-value="'+o+'" />';i.empty().append(a)})},SD_FieldMassEdit.prototype.setRowListenerClassic=function(e){var t=this,n=jQuery("#SD_MassEdit_Delete_Button,#SD_MassEdit_Clone_Button,#SD_MassEdit_CloneTo_Button,#SD_MassEdit_ObjectSel"),r=jQuery("#SD_MassEdit_Save_Button,#SD_MassEdit_Quick_Save_Button");t.setRowInputListener(e),jQuery("#SD_MassEdit_allBox").click(function(){var t=jQuery(this).is(":checked");e.find("tr.dataRow .row-checkbox").prop("checked",t),t?n.removeClass("disabled").removeAttr("disabled"):n.addClass("disabled").attr("disabled","disabled")});var i=e.find(".row-checkbox");i.click(function(){var r=t.isAllChecked(e);jQuery("#SD_MassEdit_allBox").prop("checked",r);var i=r?!0:t.hasChecked(e);i?n.removeClass("disabled").removeAttr("disabled"):n.addClass("disabled").attr("disabled","disabled")}),jQuery("#SD_MassEdit_Delete_Button").click(function(){if(window.confirm(t.langs.DELETE_SURE)){var n=jQuery(this);t.startBtnLoading(n),t.clearErrorMessage();try{t.deleteFields(e,function(e){t.stopBtnLoading(n)})}catch(r){return t.handleError(r)}T_Util.gaTrack({category:"Classic",action:"massDelete",label:"Mass Delete Fields"})}}),jQuery("#SD_MassEdit_Clone_Button").click(function(){t.cloneFields(e),r.hasClass("SD_MassEdit_hide")&&r.removeClass("SD_MassEdit_hide"),T_Util.gaTrack({category:"Classic",action:"massClone",label:"Mass Clone Fields"})}),jQuery("#SD_MassEdit_CloneTo_Button").click(function(){var n=jQuery(this);t.startBtnLoading(n),t.clearErrorMessage(),t.cloneToFields(e,function(e){t.stopBtnLoading(n)}),T_Util.gaTrack({category:"Classic",action:"massCloneTo",label:"Mass Clone Fields To Object"})}),jQuery("#SD_MassEdit_Cancel_Button").click(function(){window.location.reload(!0)}),r.click(function(){var n=jQuery(this);t.startBtnLoading(n),t.clearErrorMessage();try{t.saveFields(e,function(e){t.stopBtnLoading(n),e&&"SD_MassEdit_Save_Button"==n.attr("id")&&window.location.reload(!0)})}catch(r){return t.handleError(r)}T_Util.gaTrack({category:"Classic",action:"massSave",label:"Mass Edit Save"})})},SD_FieldMassEdit.prototype.setRowInputListener=function(e){
var t=jQuery("#SD_MassEdit_Save_Button,#SD_MassEdit_Quick_Save_Button");e.find('input[type="text"].SD_MassEdit_fLabel').change(function(){jQuery(this).attr("value",jQuery(this).val());var e=jQuery(this).closest("tr.dataRow");e.find('input[name="hasChanged"]').val("1"),e.hasClass("updated-row")||e.addClass("updated-row"),t.hasClass("SD_MassEdit_hide")&&t.removeClass("SD_MassEdit_hide")}),e.find('input[type="text"].SD_MassEdit_fValue').change(function(){jQuery(this).attr("value",jQuery(this).val());var e=jQuery(this).closest("tr.dataRow");e.find('input[name="hasChanged"]').val("1"),e.hasClass("renamed-row")||e.addClass("renamed-row"),t.hasClass("SD_MassEdit_hide")&&t.removeClass("SD_MassEdit_hide")})},SD_FieldMassEdit.prototype.isAllChecked=function(e){var t=!0;return e.find(".row-checkbox").each(function(){return jQuery(this).is(":checked")?void 0:t=!1}),t},SD_FieldMassEdit.prototype.hasChecked=function(e){var t=!1;return e.find(".row-checkbox").each(function(){return jQuery(this).is(":checked")?t=!0:void 0}),t},SD_FieldMassEdit.prototype.deleteFields=function(e,t){var n=this,r=n.sObj.name,i={};e.find(".dataRow").each(function(){var e=jQuery(this),t=e.find(".row-checkbox").first();if(t.is(":checked")){var n=e.find(".SD_MassEdit_fValue").first().data("value");i[r+"."+n]={row:e}}});var o=Object.keys(i);0!=o.length&&n.bulkMetadataRequest("delete","CustomField",o,function(e,r){e&&console.error(e);var o=n.handleApiResponse(i,r,function(e){e.remove()});return o?(n.showPanelMessage({type:"ERROR",message:o.join("<br />")}),t(!1)):(n.showPanelMessage({message:"Done!"}),setTimeout(function(){n.hidePanelMessage()},4e3),t(!0))})},SD_FieldMassEdit.prototype.cloneFields=function(e,t){var n=this,r=[];e.find(".SD_MassEdit_fLabel").each(function(){r.push(jQuery(this).val())});var i=[];e.find(".SD_MassEdit_fValue").each(function(){i.push(jQuery(this).val())});var o=e.find(".headerRow").first();e.find(".dataRow").each(function(){var e=jQuery(this),t=e.find(".row-checkbox").first();if(t.is(":checked")){var a=e.find(".SD_MassEdit_fValue").first().val(),s=e.find(".SD_MassEdit_fLabel").first().val(),l=e.find(".SD_MassEdit_fValue").first().data("value"),u=e.find(".SD_MassEdit_fLabel").first().data("value"),c=n.getCloneName(r,s),p=n.getCloneName(i,a),d=e.find(".dataCell").eq(2).text(),f='<tr class="dataRow cloned-row"><td class="chkColumn"><input type="checkbox" class="checkbox" disabled="disabled" value="1">';f+='<input type="hidden" name="hasChanged" value="1"></td>',f+='<th class="dataCell"><input type="text" value="'+c+'" class="SD_MassEdit_fLabel" data-source="'+u+'"></th>',f+='<td class="dataCell"><input type="text" value="'+p+'" class="SD_MassEdit_fValue" data-source="'+l+'"></td>',f+='<td class="dataCell">'+d+"</td>",f+='<td class="dataCell">&nbsp;</td>',f+='<td class="dataCell">&nbsp;</td>',f+='<td class="dataCell">&nbsp;</td></tr>';var h=jQuery(f);o.after(h),n.setRowInputListener(h)}})},SD_FieldMassEdit.prototype.cloneToFields=function(e,t){var n=this,r=n.sObj.name,o=jQuery("#SD_MassEdit_ObjectSel").val();if(T_Util.isBlank(o))return alert(n.langs.ERROR_REQUIRE_OBJECT),t(!1);if(o==r)return alert(n.langs.ERROR_DIFFERENT_OBJECT),t(!1);var a=n.conn.metadataNameMap[o],s={},l={};e.find(".dataRow").each(function(){var e=jQuery(this),t=e.find(".row-checkbox").first();if(t.is(":checked")){var n=e.find(".SD_MassEdit_fValue").first().val(),i=r+"."+n+"__c";s[i]={name:n+"__c",row:e};var a=o+"."+n+"__c";l[a]={name:n+"__c",row:e}}});var u=Object.keys(s);return 0==u.length?resolve(!0):void n.bulkMetadataRequest("read","CustomField",u,function(e,r){if(e)return console.error(e),t(!1);Array.isArray(r)||(r=[r]);var c=[];for(i=0;i<u.length;i++){var p=s[u[i]];for(ri=0;ri<r.length;ri++)if(r[ri].fullName==u[i]){var d=r[ri];d.fullName=o+"."+p.name,("Lookup"==d.type||"MasterDetail"==d.type&&d.relationshipName)&&(d.relationshipName=d.relationshipName+"_"+T_Util.getRandom(3)),c.push(d)}}n.bulkMetadataRequest("create","CustomField",c,function(e,r){if(e)return console.error(e),t(!1);var i=n.handleApiResponse(l,r,function(e){});if(i)return n.showPanelMessage({type:"ERROR",message:i.join("<br />")}),t(!1);var o="/p/setup/layout/LayoutFieldList?type="+a.name+"&setupid="+a.name+"Fields";a.custom&&"undefined"!=typeof a.objectId&&(o="/"+a.objectId);var s=n.langs.GOTO_OBJECT_SETTING.replace("{OBJECT}",'<a href="'+o+'" target="_blank">'+a.label+"</a>");return n.showPanelMessage({message:"Done! "+s}),setTimeout(function(){n.hidePanelMessage()},1e4),t(!0)})})},SD_FieldMassEdit.prototype.saveFields=function(e,t){var n=this,r=(n.sObj.name,[]),i=!1;return e.find(".SD_MassEdit_fValue").each(function(){var e=jQuery(this).val();if(r.indexOf(e)>=0){var t=jQuery(this).closest(".dataRow");return t.addClass("error-row"),n.showPanelMessage({type:"ERROR",message:"Duplicate field name. Field : "+e}),i=!0,!1}r.push(e)}),i?t(!1):void n.saveClonedFields(e).then(function(t){return n.saveUpdateFields(e)}).then(function(t){return n.saveRenameFields(e)}).then(function(e){return n.showPanelMessage({message:"Done!"}),setTimeout(function(){n.hidePanelMessage()},4e3),t(!0)})["catch"](function(e){return Array.isArray(e)?n.showPanelMessage({type:"ERROR",message:e.join("<br />")}):n.handleError(e),t(!1)})},SD_FieldMassEdit.prototype.saveClonedFields=function(e){var t=this,n=t.sObj.name;return new Promise(function(r,o){var a={},s=[];return e.find(".dataRow.cloned-row").each(function(){var e=jQuery(this),t=e.find(".SD_MassEdit_fValue").first().val(),r=e.find(".SD_MassEdit_fLabel").first().val(),i=n+"."+t+"__c",o=e.find(".SD_MassEdit_fValue").first().data("source"),l=n+"."+o;s.push(l),a[i]={label:r,source:l,row:e}}),0==s.length?r(!0):void t.bulkMetadataRequest("read","CustomField",s,function(e,n){if(e)return o(e);Array.isArray(n)||(n=[n]);var s=[],l=Object.keys(a);for(i=0;i<l.length;i++){var u=a[l[i]];for(ri=0;ri<n.length;ri++)if(n[ri].fullName==u.source){var c=n[ri];c.fullName=l[i],c.label=u.label,("Lookup"==c.type||"MasterDetail"==c.type&&c.relationshipName)&&(c.relationshipName=c.relationshipName+"_"+T_Util.getRandom(3)),s.push(c)}}t.bulkMetadataRequest("create","CustomField",s,function(e,n){if(e)return o(e);var i=t.handleApiResponse(a,n,function(e){e.find('input[name="hasChanged"]').val("0"),e.removeClass("cloned-row")});return i?o(i):r(!0)})})})},SD_FieldMassEdit.prototype.saveRenameFields=function(e){var t=this,n=t.sObj.name;return new Promise(function(r,i){var o={};return e.find(".dataRow.renamed-row").each(function(){var e=jQuery(this),t=e.find('input[name="hasChanged"]').first();if("0"!=t.val()){var r=e.find(".SD_MassEdit_fValue").first(),i=r.val()+"__c";if(i!=r.data("value")){var a=n+"."+i,s=n+"."+r.data("value");o[s]={to:a,row:e}}}}),0==Object.keys(o).length?r(!0):void async.eachLimit(Object.keys(o),5,function(e,n){var i=o[e].to;t.conn.renameMetadata("CustomField",e,i,function(e,i){if(e)return n(e);var a=t.handleApiResponse(o,i,function(e){e.find('input[name="hasChanged"]').val("0"),e.removeClass("renamed-row");var t=e.find(".SD_MassEdit_fValue").first();t.data("value",t.val()+"__c")});return a?r(a):void n()})},function(e){return e?i(e):r(!0)})})},SD_FieldMassEdit.prototype.saveUpdateFields=function(e){var t=this,n=t.sObj.name;return new Promise(function(r,o){var a={};e.find(".dataRow.updated-row").each(function(){var e=jQuery(this),t=e.find('input[name="hasChanged"]').first();if("0"!=t.val()){var r=e.find(".SD_MassEdit_fLabel").first(),i=r.val();if(i!=r.data("value")){var o=e.find(".SD_MassEdit_fValue").first(),s=n+"."+o.data("value");a[s]={label:i,row:e}}}});var s=Object.keys(a);return 0==s.length?r(!0):void t.bulkMetadataRequest("read","CustomField",s,function(e,n){if(e)return o(e);Array.isArray(n)||(n=[n]);var s=[];for(i=0;i<n.length;i++){var l=a[n[i].fullName],u=n[i];u.label=l.label,n[i].length&&(u.length=n[i].length),s.push(u)}t.bulkMetadataRequest("update","CustomField",s,function(e,n){if(e)return o(e);var i=t.handleApiResponse(a,n,function(e){e.hasClass("renamed-row")||e.find('input[name="hasChanged"]').val("0"),e.removeClass("updated-row")});return i?o(i):r(!0)})})})},SD_FieldMassEdit.prototype.bulkMetadataRequest=function(e,t,n,r){var i=this;if(n.length<=10)return i.handleMetadataRequest(e,t,n,r);for(var o=[],a=0;a<n.length;a++){var s=Math.floor(a/10);o[s]||o.push([]),o[s].push(n[a])}var l=[];async.each(o,function(n,r){i.handleMetadataRequest(e,t,n,function(e,t){if(e)return r(e);t=Array.isArray(t)?t:[t];for(var n=0;n<t.length;n++)l.push(t[n]);r()})},function(e){return r(e,l)})},SD_FieldMassEdit.prototype.handleMetadataRequest=function(e,t,n,r){var i=this;return"read"==e?i.conn.readMetadata(t,n,r):"update"==e?i.conn.updateMetadata(t,n,r):"create"==e?i.conn.createMetadata(t,n,r):"delete"==e?i.conn.deleteMetadata(t,n,r):void 0},SD_FieldMassEdit.prototype.handleApiResponse=function(e,t,n){Array.isArray(t)||(t=[t]);for(var r=[],i=0;i<t.length;i++){var o=t[i],a=e[o.fullName]?e[o.fullName].row:null;if(!T_Util.isBlank(a)){var s=a.find(".SD_MassEdit_fLabel").first().data("value");if(s||(s=a.find(".SD_MassEdit_fLabel").first().val()),!o.success&&o.errors){for(var l=s+" : ",u=Array.isArray(o.errors)?o.errors:[o.errors],c=0;c<u.length;c++)l+=u[c].message;r.push(l),a.addClass("error-row")}else n&&n(a)}}var o=r.length>0?r:null;return o},SD_FieldMassEdit.prototype.checkSetting=function(e){var t=this,n=T_Util.getObjectIdFromUri(e);if(!T_Util.isBlank(n))for(var r in t.conn.metadata){var i=t.conn.metadata[r];if(i.objectId==n)return i}var o=T_Util.getParser(e);if(t.isLEX){var a=o.pathname.split("/");if(a.length<6)return null;if("lightning"==a[1]&&"setup"==a[2]&&"ObjectManager"==a[3]){var s=a[4];if(t.conn.metadataNameMap.hasOwnProperty(s))return t.conn.metadataNameMap[s]}return!1}var s=T_Util.getParam("type",e),l=T_Util.getParam("setupid",e);return T_Util.isBlank(s)||T_Util.isBlank(l)?!1:t.conn.metadataNameMap.hasOwnProperty(s)?t.conn.metadataNameMap[s]:!1},SD_FieldMassEdit.prototype.getObjectPicklist=function(e){for(var t=this,n=[],r=[],i=Object.keys(t.conn.metadataNameMap),o=0;o<i.length;o++){var a=t.conn.metadataNameMap[i[o]];if(a.createable&&a.updateable&&a.layoutable&&a.queryable&&a.triggerable){var s=a.label+" ("+a.name+")";if(a.custom){var l='<option label="'+s+'" value="'+a.name+'">'+s+"</option>";n.push(l)}else{var l='<option label="'+s+'" value="'+a.name+'">'+s+"</option>";r.push(l)}}}var u='<select name="object" id="SD_MassEdit_ObjectSel" class="disabled" disabled="disabled">';return u+='<option label="--None--" value="">--None--</option>',n.length>0&&(u+='<optgroup label="Custom Objects">'+n.join("")+"</optgroup>"),r.length>0&&(u+='<optgroup label="Standard Objects">'+r.join("")+"</optgroup>"),u+="</select>"},SD_FieldMassEdit.prototype.showPanelMessage=function(e){e=e||{};var t=jQuery("#SD_MassEdit_message");t.removeClass("error").removeClass("warning").show(),"VALIDATE_ERROR"==e.type?t.addClass("error").html(e.message):"ERROR"==e.type?t.addClass("error").html("<strong>Error: </strong>"+e.message):"WARNING"==e.type?t.addClass("warning").html("<strong>Warning: </strong>"+e.message):t.html(e.message),t.closest("tr").removeClass("SD_MassEdit_hide")},SD_FieldMassEdit.prototype.hidePanelMessage=function(){var e=jQuery("#SD_MassEdit_message");e.closest("tr").addClass("SD_MassEdit_hide")},SD_FieldMassEdit.prototype.clearErrorMessage=function(e){jQuery("#SD_MassEdit_message").closest("tr").addClass("SD_MassEdit_hide");var t=jQuery(".SD_MassEditMode");t.find(".dataRow .error").removeClass("error"),t.find(".dataRow .errorMsg").remove(),t.find(".dataRow.error-row").removeClass("error-row")},SD_FieldMassEdit.prototype.startBtnLoading=function(e){var t='<span class="SD_MassEdit_loading" style="margin-top: 6px;"><img src="/img/loading.gif" width="14" class="waitingImage" title="Please Wait..."></span>';e.before(t),e.closest("tr").find(".btn").addClass("disabled").attr("disabled","disabled")},SD_FieldMassEdit.prototype.stopBtnLoading=function(e){e.siblings(".SD_MassEdit_loading").remove(),e.closest("tr").find(".btn").removeClass("disabled").removeAttr("disabled")},SD_FieldMassEdit.prototype.handleError=function(e){console.error(e)},SD_FieldMassEdit.prototype.getCloneName=function(e,t){for(i=2;i<100;i++){var n=t+i;if(e.indexOf(n)<0)return n}return t};var SD_SoqlEditor=function(e){e=e||{},this.metadata=e.metadata,this.upperKeyMetaMap=this.getUpperKeyMap(e.metadata),this.client=e.client,this.sObjectName,this.editor=null,this.objLabelMap={},this.cacheWordCompleter={},this.filedMetaMap={},this.fieldNameMap=e.fieldNameMap||{},this.refShipNameMap=e.refShipNameMap||{},this.refToPairMap=e.refToPairMap||{},this.childRelShipMap=e.childRelShipMap||{}};SD_SoqlEditor.prototype.init=function(e){var t=this,n=e.fields,r=e.values,i=e.sobject,o=e.id||null;t.sObjectName=i.name;var a=e.childRelationships||[];t.childRelShipMap={};for(var s=0;s<a.length;s++){var l=a[s];if(!T_Util.isBlank(l.relationshipName)&&!T_Util.isBlank(l.childSObject)){var u=l.childSObject.toUpperCase();if(t.upperKeyMetaMap.hasOwnProperty(u)){var c=t.upperKeyMetaMap[u];t.childRelShipMap[l.relationshipName.toUpperCase()]={sobject:l.childSObject,label:c.label}}}}for(var p in t.metadata){var d=t.metadata[p];T_Util.isBlank(d.name)||T_Util.isBlank(d.label)||(t.objLabelMap[d.name.toUpperCase()]=d.label)}for(var f={},s=0;s<r.length;s++){var h=r[s];T_Util.isBlank(h.value)||"string"!=typeof h.value||T_Util.isBlank(h.value.trim())||(f[h.name]=h.value)}var m='<div class="nav-button-panel" id="quick-soql-buttons"><span class="query-result"></span>';m+='<span class="pull-right btn-group"><a href="#" id="btn-quick-soql-query" class="btn btn-primary btn-xs flat">Query</a>',m+='&nbsp;&nbsp;<a href="#" id="btn-quick-soql-export" title="Export query results (~2000) to Excel" class="btn btn-primary btn-xs flat" data-container="body" data-toggle="tooltip" data-placement="top">',m+='Export</a><a id="btn-quick-soql-export-dropdown" class="btn btn-primary btn-xs flat dropdown-toggle dropdown-toggle-split" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span class="sr-only">Dropdown</span></a>',m+='<div class="dropdown-menu"><a href="#" id="btn-quick-soql-export-all" class="dropdown-item" href="#" title="Export all results to Excel, with splitting into multiple files of maximum 2000 rows."  data-container="body" data-toggle="tooltip" data-placement="top">Export All</a></div></span>',m+="</div>";var b='<div class="nav-field-panel" id="nav-field-panel"><table class="table table-striped">';b+='<tr class="header"><th class="chk">',b+='<div class="checkbox checkbox-primary"><input type="checkbox" id="chk-all-fields"><label for="chk-all-fields">&nbsp;</label>Field Name</div></th>',b+="<th>Data Type</th></tr>",t.cacheWordCompleter[i.name]=[{name:i.name,label:"sObject"}];var y=i.name.toUpperCase();t.filedMetaMap[y]=n,t.fieldNameMap={},t.fieldNameMap[y]={},t.refShipNameMap={},t.refShipNameMap[y]={};var g=0,_=null;b+=t.getFieldRowsHTML(i,n,g,_,f),b+="</table></div>";var v='<div id="quick-soql-editor-wrap"><pre id="quick-soql-editor" class="editor" readOnly="true"></pre></div>';v+=m+b,$("#container-quick-soql").empty().append(v);var T=t.initEditor("quick-soql-editor","sql");t.editor=T,t.setEditorWordCompleter(T);var E=i.name,w=T_Util.isBlank(o)?"":"Id = '"+o+"'";t.refreshSoql(T,E,w),$("#btn-quick-soql-export,#btn-quick-soql-export-all").tooltip(),$("#container-quick-soql").find("#chk-all-fields").first().click(function(){$("#nav-field-panel").find('.field-row.step0:not(.ref-row) input[type="checkbox"]').prop("checked",$(this).is(":checked")),t.refreshSoql(T,E)}),$("#container-quick-soql").find('.field-row.step0:not(.ref-row) input[type="checkbox"]').click(function(){var e=$(this).is(":checked"),n=!0;$("#nav-field-panel").find('.field-row.step0:not(.ref-row) input[type="checkbox"]').each(function(){e!=$(this).is(":checked")&&(n=!1)}),$("#container-quick-soql").find("#chk-all-fields").first().prop("checked",n),t.refreshSoql(T,t.sObjectName)}),e.callback&&e.callback()},SD_SoqlEditor.prototype.setEditorWordCompleter=function(e){for(var t=this,n=["AND","ASC","DESC","EXCLUDES","FIRST","FROM","GROUP BY","HAVING","IN","INCLUDES","LAST","LIKE","LIMIT","NOT","NULL","NULLS","OR","SELECT","WHERE","WITH","OFFSET","ORDER BY","FOR VIEW","FOR REFERENCE","FOR UPDATE","USING SCOPE","TYPEOF","WHEN","THEN","ELSE","END","convertCurrency()","COUNT()","FORMAT()","COUNT_DISTINCT()","MIN()","MAX()","SUM()","CALENDAR_MONTH","CALENDAR_QUARTER()","CALENDAR_YEAR()","DAY_IN_MONTH()","DAY_IN_WEEK()","DAY_IN_YEAR()","DAY_ONLY()","FISCAL_MONTH()","FISCAL_QUARTER()","FISCAL_YEAR()","HOUR_IN_DAY()","WEEK_IN_MONTH()","WEEK_IN_YEAR()"],r={getCompletions:function(e,t,r,i,o){o(null,n.map(function(e){return{caption:e,value:e,meta:"Keyword"}}))}},i=[],o=Object.keys(t.cacheWordCompleter),a=0;a<o.length;a++)i=i.concat(t.cacheWordCompleter[o[a]]);var s={getCompletions:function(e,t,n,r,o){o(null,i.map(function(e){return{caption:e.name,value:e.name,meta:e.label}}))}};e.completers=[s,r]},SD_SoqlEditor.prototype.getFieldRowsHTML=function(e,t,n,r,i){for(var o=this,a="",s=new SD_DocGenerator({metadata:o.metadata,language:o.client.pageInfo.userInfo.language}),l=s.getFieldTypesMap(),u=0;u<t.length;u++){var c=t[u],p="Id"==c.name&&0==n?' checked="checked"':"";i=i||{},i.hasOwnProperty(c.name)&&(p=' checked="checked"');var d=s.getFieldType(c,l);if("reference"==c.type&&!T_Util.isBlank(c.referenceTo)){var f=s.getFieldReferenceProp(c,o.objLabelMap);d+=" ("+f.refLabels.join(",")+")"}r=r||"";var h=0==n?c.name:r+"."+c.name,m=h.replace(/\./g,"_");if(a+='<tr class="field-row step'+n+(0==u&&0==n?" first":"")+'" data-rootrelationship="'+r+'"><td class="chk">',a+='<div class="checkbox checkbox-primary"><input type="checkbox" '+p+' value="'+h+'" id="'+m+'">',a+='<label for="'+m+'">&nbsp;'+c.label+"&nbsp;<br /><small>&nbsp;"+c.name+"</small></label></div>",a+='</td><td class="type">'+d+"</td></tr>","reference"==c.type&&!T_Util.isBlank(c.referenceTo)&&!T_Util.isBlank(c.relationshipName)&&4>n){h=0==n?c.relationshipName:r+"."+c.relationshipName,m=h.replace(/\./g,"_");var b=!T_Util.isTrue(c.custom)&&c.label.endsWith(" ID")?T_Util.replaceLast(c.label," ID",""):c.label,y=Array.isArray(c.referenceTo)?c.referenceTo[0]:c.referenceTo;a+='<tr class="field-row step'+n+" ref-row uncomplete"+(0==u?" first":"")+'" data-sobject="'+y+'" data-rootrelationship="'+r+'" data-relationship="'+c.relationshipName+'" data-step="'+n+'"><td class="chk">',a+='<div class="checkbox checkbox-primary"><input type="checkbox" '+p+' value="'+c.relationshipName+'" id="'+m+'" disabled="true">',a+='<label for="'+m+'">&nbsp;'+b+"&nbsp;<br /><small>&nbsp;"+c.relationshipName+"</small></label></div>",a+='</td><td class="type"><a href="#" class="ref-fields-expand-link">'+d+"</a>",a+='<a href="#" class="ref-fields-expand-button"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-left" viewBox="0 0 16 16">',a+='<path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>',a+="</svg></a>",a+='<a href="#" class="ref-fields-close-button"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-down" viewBox="0 0 16 16">',a+='<path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>',a+="</svg></a></td></tr>"}var g=e.name.toUpperCase();o.fieldNameMap.hasOwnProperty(g)||(o.fieldNameMap[g]={}),o.fieldNameMap[g][c.name.toUpperCase()]=c,"reference"==c.type&&c.relationshipName&&(o.refShipNameMap.hasOwnProperty(g)||(o.refShipNameMap[g]={}),o.refShipNameMap[g][c.relationshipName.toUpperCase()]=c),o.filedMetaMap.hasOwnProperty(g)||(o.filedMetaMap[g]={}),o.filedMetaMap[g]=t,o.cacheWordCompleter.hasOwnProperty(e.name)||(o.cacheWordCompleter[e.name]=[]),o.cacheWordCompleter[e.name].push({name:c.name,label:"Field"})}return a},SD_SoqlEditor.prototype.requestChildFields=function(e,t){var n=this,r=jQuery("#nav-field-panel");e=e||r.find("tr.ref-row.uncomplete");var i=[],o=function(e){var i=e.toUpperCase(),o=n.filedMetaMap[i];r.find("tr.ref-row.processing").each(function(){var e=jQuery(this),r=e.data("sobject"),a=e.data("rootrelationship");if(r.toUpperCase()===i){var s=[];T_Util.isBlank(a)||s.push(a),s.push(e.data("relationship"));var l=n.getFieldRowsHTML({name:r},o,t,s.join("."));e.removeClass("processing").addClass("completed"),e.find('.checkbox input[type="checkbox"]').removeAttr("disabled"),e.after(l),n.resetRefFieldEvent(e)}})};e.each(function(){var e=jQuery(this);e.removeClass("uncomplete").addClass("processing");var t=e.data("sobject"),r=t.toUpperCase();return n.filedMetaMap.hasOwnProperty(r)?void o(t,e):void(i.indexOf(t)<0&&i.push(t))}),0!=i.length&&n.client.sendRequest({mode:"getMultiObjectFieldValues",sobjects:i},function(e){for(var t=e.metadata||{},r=Object.keys(t),i=0;i<r.length;i++){var a=t[r[i]],s=r[i].toUpperCase();n.filedMetaMap[s]=a.fields,o(r[i])}})},SD_SoqlEditor.prototype.resetRefFieldEvent=function(e){var t=this;e=e||jQuery("#nav-field-panel"),e.find(".ref-fields-expand-link").off().click(function(){$td=jQuery(this).closest("td"),$expandBtn=$td.find(".ref-fields-expand-button").first(),$expandBtn.is(":visible")?$expandBtn.trigger("click"):$td.find(".ref-fields-close-button").first().trigger("click")}),e.find(".ref-fields-expand-button").off().click(function(){var e=jQuery(this),n=e.closest("tr.ref-row"),r=n.data("step"),i=[];if(n.hasClass("completed")&&(n.nextAll(".field-row").each(function(){return jQuery(this).is(".step"+r)?!1:void(jQuery(this).hasClass("step"+(r+1))&&(jQuery(this).addClass("on"),i.push(this)))}),n.addClass("open"),!e.hasClass("done"))){var o=r+2;t.requestChildFields(jQuery(i).filter("tr.ref-row.uncomplete"),o),e.addClass("done")}}),e.find(".ref-fields-close-button").off().click(function(){var e=jQuery(this),t=e.closest("tr.ref-row"),n=t.data("step");t.hasClass("completed")&&(t.nextAll(".field-row").each(function(){return jQuery(this).is(".step"+n)?!1:(jQuery(this).hasClass("step"+(n+1))&&jQuery(this).removeClass("on"),void(jQuery(this).hasClass("open")&&jQuery(this).find(".ref-fields-close-button").trigger("click")))}),t.removeClass("open"))});var n=t.getChildrenTr(e);e.find('input[type="checkbox"]').off().click(function(){var e=$(this).is(":checked");n.each(function(){var t=jQuery(this);t.hasClass("ref-row")||t.find('input[type="checkbox"]').prop("checked",e)}),t.refreshSoql(t.editor,t.sObjectName)}),e.nextAll(".field-row").each(function(){var r=jQuery(this),i=e.data("step");return r.is(".step"+i)?!1:void(r.hasClass("step"+(i+1))&&r.find('input[type="checkbox"]').off().click(function(){var r=jQuery(this).is(":checked");if(r){var i=!0;n.each(function(){var e=jQuery(this);if(!e.hasClass("ref-row"))return e.find('input[type="checkbox"]').is(":checked")?void 0:(i=!1,!1)}),e.find('input[type="checkbox"]').prop("checked",i)}else e.find('input[type="checkbox"]').prop("checked",r);t.refreshSoql(t.editor,t.sObjectName)}))})},SD_SoqlEditor.prototype.getChildrenTr=function(e){var t=[],n=e.data("step"),r=n>0?n-1:0;return e.nextAll(".field-row").each(function(){return jQuery(this).is(".step"+n)?!1:jQuery(this).is(".step"+r)?!1:void(jQuery(this).hasClass("step"+(n+1))&&t.push(this))}),jQuery(t)},SD_SoqlEditor.prototype.refreshSoql=function(e,t,n){var r=e.session.getValue(),i=r.split(/ WHERE /i),o=T_Util.isBlank(n)?"":" WHERE "+n;i.length>1&&(i.shift(),o=" WHERE "+i.join(" WHERE "));var a=[];$("#nav-field-panel").find('.field-row:not(.ref-row) input[type="checkbox"]').each(function(){$(this).is(":checked")&&a.push($(this).val())}),0==a.length&&a.push("Id");var s="SELECT "+a.join(", ")+" FROM "+t+o;e.session.setValue(s)},SD_SoqlEditor.prototype.handleQuery=function(e,t){var n=this,r=e||{},i=e.target,o=r.currentIndex||0,a=n.editor.session.getValue(),s=$("#quick-soql-buttons .query-result").first(),l="success";if(T_Util.isBlank(r.done)&&T_Util.isBlank(r.totalSize)){l="error";var u="object"==typeof r.error?r.error.name||r.error.errorCode:r.error;s.html(u),t&&t()}else{if(s.html("Query Results - Total Rows : <b>"+r.totalSize+"</b>"),0==r.totalSize&&(l="warning",t))return t();var c=n.getQueryMapFromSoql(a),p=c.sobject;if(T_Util.isBlank(p))return alert("sObject Name is not found.");var d=o>1||"btn-quick-soql-export"==i.attr("id")||"btn-quick-soql-export-all"==i.attr("id");p.toUpperCase()!=n.sObjectName.toUpperCase()?n.loadObjectDescribe(p).then(function(){return n.assetRelateMeta(c)}).then(function(){d&&n.exportToExcel(p,c.fields,r.records,o,t),!d&&t&&t({sObjectName:p,fields:c.fields,records:r.records,childRelShipMap:n.childRelShipMap,fieldNameMap:n.fieldNameMap,refShipNameMap:n.refShipNameMap,refToPairMap:n.refToPairMap,metadata:n.metadata})}):n.assetRelateMeta(c).then(function(){d&&n.exportToExcel(n.sObjectName,c.fields,r.records,o,t),!d&&t&&t({sObjectName:n.sObjectName,fields:c.fields,records:r.records,childRelShipMap:n.childRelShipMap,fieldNameMap:n.fieldNameMap,refShipNameMap:n.refShipNameMap,refToPairMap:n.refToPairMap,metadata:n.metadata})})}s.addClass(l)},SD_SoqlEditor.prototype.getQueryMapFromSoql=function(e,t){var n=this,r=T_Util.replaceWordFirst(e,"select","__SELECT__"),r=T_Util.replaceWordLast(r,"from","__FROM__"),r=T_Util.replaceBreakLine(r),i=n.getObjectFromSoql(r),o={fields:[]};t?o.relationshipName=i:o.sobject=i;var a=r.match(/\_\_SELECT\_\_.+?\_\_FROM\_\_/gi),s=a[0];s=T_Util.replaceWordFirst(s,"__SELECT__",""),s=T_Util.replaceWordLast(s,"__FROM__","");var l=s.match(/\(.+?\)/gi);if(l&&l.length>0)for(var u=0;u<l.length;u++)s=s.replace(l[u],"__SUBQUERY__");for(var c=s.split(","),p=0,u=0;u<c.length;u++){var d=c[u].trim();if("__SUBQUERY__"!==d){var f=d.split(".");1==f.length?o.fields.push({name:d}):o.fields.push({name:f})}else{var h=l[p];h=h.replace("(",""),h=h.replace(")","");var m=n.getQueryMapFromSoql(h,!0);o.fields.push(m),p++}}return o},SD_SoqlEditor.prototype.getObjectFromSoql=function(e){var t=e.match(/\_\_FROM\_\_\s+([a-zA-Z]+\S*)/gi),n=t[0];return n=n.replace(/\_\_FROM\_\_.+?/gi,""),n.trim()},SD_SoqlEditor.prototype.loadObjectDescribe=function(e){var t=this;return new Promise(function(n,r){t.client.sendRequest({mode:"describeSObjects",sObjects:[e]},function(r){if(!r.describes&&!Array.isArray(r.describes))return n();var i=r.describes[0].fields,o=e.toUpperCase();t.fieldNameMap[o]={},t.refShipNameMap[o]={};for(var a=0;a<i.length;a++){var s=i[a];t.fieldNameMap[o][s.name.toUpperCase()]=s,"reference"==s.type&&s.relationshipName&&(t.refShipNameMap[o][s.relationshipName.toUpperCase()]=s)}var l=r.describes[0].childRelationships||[];t.childRelShipMap={};for(var a=0;a<l.length;a++){var u=l[a],c=u.childSObject.toUpperCase();if(t.upperKeyMetaMap.hasOwnProperty(c)){var p=t.upperKeyMetaMap[c];t.childRelShipMap[u.relationshipName.toUpperCase()]={sobject:u.childSObject,label:p.label}}}return n()})})},SD_SoqlEditor.prototype.assetRelateMeta=function(e){var t=this;t.refToPairMap={};for(var n=e.fields,r=[],i=0;i<n.length;i++){var o=n[i];if(!T_Util.isBlank(o.relationshipName)&&t.childRelShipMap.hasOwnProperty(o.relationshipName.toUpperCase())){var a=t.childRelShipMap[o.relationshipName.toUpperCase()];if(T_Util.isBlank(a))continue;r.push(a.sobject),e.fields[i].sobject=a.sobject}}var s=function(e,n){var r=e.toUpperCase();t.refToPairMap[r]={};for(var i=t.refShipNameMap[r]||{},o=t.fieldNameMap[r]||{},a=[],s=0;s<n.length;s++){var l=n[s],u=l.name;if(u&&Array.isArray(u))for(var c=0;c<u.length-1;c++){var p=u[c];p.endsWith("__r")&&p.replace("__r","__c");var d=p.toUpperCase();if(i.hasOwnProperty(d)){var f=i[d].referenceTo;f=Array.isArray(f)?f[0]:f;var h=f.toUpperCase();t.refToPairMap[r][p.toUpperCase()]=h,o.hasOwnProperty(h)||a.indexOf(f)>=0||a.push(f)}}}return a};return new Promise(function(i,o){Promise.resolve().then(function(){return 0==r.length?!0:t.describeSObjects(r)}).then(function(){var o=0==r.length?50:500;setTimeout(function(){for(var r=[],o=0;o<n.length;o++){var a=n[o],l=a.name;if(T_Util.isBlank(l)&&T_Util.isNotBlank(a.sobject)){var u=s(a.sobject,a.fields);r=T_Util.concatWithoutDuplicate(r,u)}else;}var c=s(e.sobject,n);r=T_Util.concatWithoutDuplicate(r,c);for(var o=0;o<r.length;o++){var p=r[o];t.fieldNameMap.hasOwnProperty(p.toUpperCase())&&r.splice(o,1)}return r.length>0?void t.describeSObjects(r).then(function(){return i()}):i()},o)})})},SD_SoqlEditor.prototype.exportToExcel=function(e,t,n,r,i){var o=this,a={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},s=12;XlsxPopulate.fromBlankAsync().then(function(r){var i=r.sheet(0);Array.isArray(n)||(n=[n]);for(var l={border:a,fontSize:s,verticalAlignment:"center",fill:"3367d6",fontColor:"ffffff"},u=0;u<t.length;u++){var c=t[u],p=c.name,d="",f="";if(null==p&&c.relationshipName){var h=o.childRelShipMap[c.relationshipName.toUpperCase()];h&&(d=h.label,f=c.relationshipName)}else{f=Array.isArray(p)?p.join("."):p;var m=o.getFieldMeta(e,p);d=m?m.label:""}var b=d,y=T_Util.getColumn(u+1),g=i.row(1);g.height(22.5);var _=i.cell(y+"1");_.value(b).style(l);var v=i.row(2);v.height(22.5);var T=i.cell(y+"2");T.value(f).style(l).style("fill","8ea9db")}for(var E={border:a,fontSize:s,verticalAlignment:"center"},u=0;u<n.length;u++){var w=u+2,S=n[u],A=T_Util.upperProperty(S);T_Util.isBlank(e)&&(e=S.attributes.type);for(var D=0;D<t.length;D++){var y=T_Util.getColumn(D+1),C=i.cell(y+(w+1)),c=t[D],p=c.name;if(null==p&&c.relationshipName){var I=A.hasOwnProperty(c.relationshipName.toUpperCase())?A[c.relationshipName.toUpperCase()]:{},O=I?I.RECORDS:null;O=T_Util.clearAttributes(O),C.value(JSON.stringify(O)).style(E)}else{var I=o.getObjectValue(p,A),N="object"!=typeof I||T_Util.isBlank(I)?I:I.value;C.value(N).style(E)}}}for(var x=0;x<t.length;x++){var R=T_Util.getColumn(x+1),k=i.range(R+"1:"+R+(n.length+2)).reduce(function(e,t){var n=t.value();if(void 0===n)return e;if(T_Util.isBlank(n))return e;var r=T_Util.getBytes(n.toString());return Math.min(Math.max(e,r),100)},0);i.column(R).width(k+5)}return r.outputAsync()}).then(function(t){var o=document.createElement("A");o.href=window.URL.createObjectURL(t);var a=e+"-";a+=0==r?n.length+".xlsx":r+1+"_"+(r+n.length)+".xlsx",o.download=a,o.target="_blank",document.body.appendChild(o),o.click(),document.body.removeChild(o),i&&i()})},SD_SoqlEditor.prototype.getObjectValue=function(e,t){var n=this;if(T_Util.isBlank(t))return null;"string"==typeof e&&(e=[e]);var r=Array.from(e),i=r[0].toUpperCase();if(!t.hasOwnProperty(i))return null;if("object"!=typeof t[i]||T_Util.isBlank(t[i]))return{value:t[i],attributes:t.ATTRIBUTES};if(!t[i].hasOwnProperty("ATTRIBUTES"))return JSON.stringify(t[i]).replace(/"/g,"'");r.splice(0,1);var o=T_Util.upperProperty(t[i]);return n.getObjectValue(r,o)},SD_SoqlEditor.prototype.initEditor=function(e,t){if("undefined"!=typeof ace){t=t||"java";var n=ace.edit(e);return n.setTheme("ace/theme/chrome"),n.getSession().setMode("ace/mode/"+t),n.setOptions({maxLines:1/0,enableBasicAutocompletion:!0,enableLiveAutocompletion:!0}),"sql"==t?n.getSession().setUseWrapMode(!0):n.setReadOnly(!0),n.renderer.setShowGutter(!1),n.$blockScrolling=1/0,n}},SD_SoqlEditor.prototype.getUpperKeyMap=function(e){var t={};if(!Array.isArray(e))return t;for(var n=0;n<e.length;n++){var r=e[n];t[r.name.toUpperCase()]=r}return t},SD_SoqlEditor.prototype.describeSObjects=function(e){var t=this;return new Promise(function(n,r){for(var i=[],o=0;o<e.length;o++){var a=e[o].toUpperCase();t.fieldNameMap.hasOwnProperty(a)||i.push(e[o])}return 0==i.length?n():void t.client.sendRequest({mode:"describeSObjects",sObjects:e},function(e){if(!e.describes&&!Array.isArray(e.describes))return n();for(var r=0;r<e.describes.length;r++){var i=e.describes[r],o=i.name.toUpperCase();t.fieldNameMap[o]={},t.refShipNameMap[o]={};for(var a=0;a<i.fields.length;a++){var s=i.fields[a];t.fieldNameMap[o][s.name.toUpperCase()]=s,"reference"==s.type&&s.relationshipName&&(t.refShipNameMap[o][s.relationshipName.toUpperCase()]=s)}}return n()})})},SD_SoqlEditor.prototype.getFieldMeta=function(e,t){var n=this,r=n.fieldNameMap[e.toUpperCase()],i=n.refToPairMap[e.toUpperCase()];
if(Array.isArray(t)){var o=Array.from(t),a=t.join("."),s=o.pop();s=s.toUpperCase();for(var l,u,c=[],p=0;p<o.length;p++){if(l=o[p].toUpperCase(),!i.hasOwnProperty(l))return{label:a};u=i[l];var d=l.endsWith("__R")?l.replace("__R","__C"):l+"ID";if(r.hasOwnProperty(l))c.push(r[l].label),r=n.fieldNameMap[u.toUpperCase()]||{};else if(r.hasOwnProperty(d)){var f=r[d].label;f.endsWith(" ID")&&(f=T_Util.replaceLast(f," ID","")),c.push(f),r=n.fieldNameMap[u.toUpperCase]||{}}}var h="",m=u.toUpperCase();if(!n.fieldNameMap.hasOwnProperty(m))return{label:a};var b=n.fieldNameMap[m];return b.hasOwnProperty(s.toUpperCase())&&(h=b[s.toUpperCase()].label),c.length>0&&""!=h?{label:c.join(".")+"."+h,describe:b[s.toUpperCase()]}:{label:a}}var y=t.toUpperCase();if(r.hasOwnProperty(y)){var g=r[y];return{label:g.label,describe:g}}return{label:t}},SD_SoqlEditor.prototype.clearAttributes=function(e){if(!e||0==e.length)return e;for(var t=[],n=Object.keys(e[0]),r=0;r<e.length;r++){for(var i={},o=e[r],a=0;a<n.length;a++){var s=n[a];"attributes"!=s&&"ATTRIBUTES"!=s&&(i[s]=o[s])}t.push(i)}return t};var SD_Logger=function(e){e=e||{},this.lines=[],this.debugmode=e.debugmode||!1};SD_Logger.prototype.setUserInfo=function(e){var t=Object.assign({},e);return T_Util.isBlank(t)?this.log("SESSION",t):(t.orgId=T_Util.isBlank(t.orgId)?t.orgId:"ENCRYPTED",t.sessionId=T_Util.isBlank(t.sessionId)?t.sessionId:"ENCRYPTED",t.userName=T_Util.isBlank(t.userName)?t.userName:"ENCRYPTED",t.userId=T_Util.isBlank(t.userId)?t.userId:"ENCRYPTED",T_Util.isNotBlank(t.accessToken)&&(t.accessToken="ENCRYPTED"),T_Util.isNotBlank(t.refreshToken)&&(t.refreshToken="ENCRYPTED"),void this.log("SESSION",t))},SD_Logger.prototype.log=function(e){var t=[];t.push("["+moment().format("YYYY-MM-DD HH:mm")+"]"),this.debugmode&&console.log(t,arguments),this._pushLog(t,arguments)},SD_Logger.prototype.error=function(e){var t=[];t.push("["+moment().format("YYYY-MM-DD HH:mm")+"]"),t.push("[ERROR]");for(var n=0;n<arguments.length;n++){var r=arguments[n];if("string"==typeof r)r=0==n?r:", "+r,t.push(r);else{var i=r.hasOwnProperty("stack")?r.stack:r+"";i=0==n?i:", "+i,t.push(i)}}this.debugmode&&console.error(t),this.lines.push(t.join(" "))},SD_Logger.prototype.getAllLog=function(){return this.lines.join("\n")},SD_Logger.prototype.isGithubIssue=function(e){return"github.com"==e.hostname&&"/xgeek-net/salesforce-mass-editor/issues/new"==e.pathname},SD_Logger.prototype.prefillIssue=function(){var e=this._getParam("code");T_Util.isBlank(e)||chrome.storage.local.get(e,function(t){if(!chrome.runtime.lastError&&!T_Util.isBlank(t)&&t.hasOwnProperty(e)){var n="`You can also send the following log data to admin@xgeek.net, if you don't wanna public any information on Github`";n+="\n\n"+t[e],jQuery("#issue_body").val(n),chrome.storage.local.remove(e)}})},SD_Logger.prototype._pushLog=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];"string"==typeof r?(r=0==n?r:", "+r,e.push(r)):(r=0==n?JSON.stringify(r):", "+JSON.stringify(r),e.push(r))}this.lines.push(e.join(" "))},SD_Logger.prototype._getParam=function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),r=n.exec(t);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null};var SD_AppView=function(){this.cacheFieldsMap={}};SD_AppView.prototype.showPanel=function(e){var t=this,n=jQuery("#SD_iframe-container");if(n.length>0)return n.show(),jQuery("#SD_iframe-container-mask").show(),n.animate({right:0},100,"linear",function(){}),void jQuery(document).keyup(function(e){27==e.keyCode&&t.hidePanel()});var r=chrome.runtime.id,i='<div class="SD_iframe-container" id="SD_iframe-container">';i+='<iframe src="chrome-extension://'+r+'/popup.html" style="width: 450px; height: 192px;"></iframe></div>',i+='<div class="SD_iframe-container-mask" id="SD_iframe-container-mask"></div>',jQuery("body").append(i);var o=jQuery("#SD_iframe-container-mask");jQuery("body").height()>o.height()&&o.height(jQuery("body").height()),o.click(function(){t.hidePanel()}),jQuery(document).keyup(function(e){27==e.keyCode&&t.hidePanel()})},SD_AppView.prototype.hidePanel=function(e){if(jQuery("#SD_query-viewer-container").length>0&&jQuery("#SD_query-viewer-container").remove(),0!=jQuery("#SD_iframe-container").length){var t=jQuery("#SD_iframe-container"),n="-"+t.width()/2+"px";t.animate({right:n},100,"linear",function(){t.hide(),jQuery("#SD_iframe-container-mask").hide()}),jQuery(document).off("keyup")}},SD_AppView.prototype.resizePanel=function(e){e=e||{};var t=jQuery("#SD_iframe-container");"MAX"==e.height?t.find("iframe").first().css("height","calc(100vh - 41px)"):e.height&&e.height>0&&t.find("iframe").first().height(e.height),e.width&&e.width>0&&t.find("iframe").first().width(e.width)},SD_AppView.prototype.showFieldApiName=function(e,t,n){for(var r=this,i={},o=0;o<e.length;o++){var a=e[o];if(i[a.label]=a.name,0==a.custom&&"reference"==a.type&&a.label.indexOf(" ID")>=0){var s=a.label.replace(" ID","");i[s]=a.name}}var l={root:"#bodyCell",section:".detailList",column:"td.labelCol",htmlTag:"p",style:"color: #999; font-size: 75%; margin: 5px 0; font-weight: normal;"};n&&(l={root:".viewport .record-layout-container",section:".slds-section",column:".slds-form-element__label",htmlTag:"span",style:"color: #706e6b; margin-left: 0.5rem;"}),jQuery(l.root).first().find(l.section).each(function(){jQuery(this).find(l.column).each(function(){var e=jQuery(this),o=r.getColLable(this);if(!T_Util.isBlank(o)){for(var a=null,s=0;s<t.length;s++){var u=t[s];if(u.label==o){a=u.apiname;break}}null==a&&i.hasOwnProperty(o)&&(a=i[o]),T_Util.isBlank(a)||(n&&(a="("+a+")"),e.append("<"+l.htmlTag+' class="SD_Field_Api_Name" style="padding: 0; '+l.style+'">'+a+"</"+l.htmlTag+">"))}})})},SD_AppView.prototype.hideFieldApiName=function(e){return e=e||{},e.isLEX?void jQuery(".viewport").find("span.SD_Field_Api_Name").remove():void jQuery("#bodyCell").find("p.SD_Field_Api_Name").remove()},SD_AppView.prototype.getObjectValues=function(e,t,n){for(var r=this,i={},o=0;o<e.length;o++){var a=e[o];if(i[a.label]=a.name,0==a.custom&&"reference"==a.type&&a.label.indexOf(" ID")>=0){var s=a.label.replace(" ID","");i[s]=a.name}}var l={root:"#bodyCell",section:".detailList",column:"td.labelCol"};n&&(l={root:".viewport .record-layout-container",section:".slds-section",column:".slds-form-element__label"});var u=[];return jQuery(l.root).first().find(l.section).each(function(){jQuery(this).find(l.column).each(function(){var e=r.getColLable(this);if(!T_Util.isBlank(e)&&!T_Util.isBlank(e.replace(/((\s*\S+)*)\s*/,"$1"))){var o=jQuery(this).next("td").first();n&&(o=jQuery(this).closest(".slds-form-element").find("[class*=field-value]").first());var a=o.text();a=T_Util.escapeString(a);for(var s={label:e,value:a},l=null,c=0;c<t.length;c++){var p=t[c];if(p.label==e){l=p.apiname;break}}if(null==l&&i.hasOwnProperty(e)&&(l=i[e]),T_Util.isNotBlank(l)&&(s.name=l),o.find("a").length>0){var d=o.find("a").first(),f=d.attr("href"),h=d.attr("id");if(!T_Util.isBlank(f)&&!T_Util.isBlank(h)&&h.indexOf("lookup")>=0){var m=d.get(0).pathname.replace(/\//g,"");s.reference=m}if(n){var m=d.data("recordid");T_Util.isNotBlank(m)&&(s.reference=m)}}if(o.find(".checkImg").length>0){var b=o.find(".checkImg").first().attr("src");s.value=!(b.indexOf("unchecked")>=0)}n&&o.find(".uiOutputCheckbox").length>0&&(s.value=!!o.find(".uiOutputCheckbox > img").first().hasClass("checked")),u.push(s)}})}),u},SD_AppView.prototype.getColLable=function(e){var t=jQuery(e).clone().children().remove().end().text();return T_Util.isBlank(t)&&(t=jQuery(e).children(":visible").first().clone().children().remove().end().text()),t},SD_AppView.prototype.getRecordName=function(e){e=e||{};var t=jQuery(document).find("title").text();if(e.isLEX){var n=e.sobject;return t.indexOf("| Salesforce")>=0?n.label+": "+t.split("| Salesforce")[0]:n.label+": "+jQuery(".viewport").first().find("header h1.slds-page-header__title").first().text()}return t.indexOf("~ Salesforce")>=0?t.split("~ Salesforce")[0]:null},SD_AppView.prototype.isApiNameLabelShow=function(e){return e=e||{},e.isLEX?jQuery(".viewport").find(".SD_Field_Api_Name").length>0:jQuery("#bodyCell").find(".SD_Field_Api_Name").length>0},SD_AppView.prototype.isDebugLogViewerShow=function(e){return jQuery("#Tesforce_Debug_Panel").length>0},SD_AppView.prototype.open=function(e){return jQuery("#Tesforce_Debug_Panel").length>0},SD_AppView.prototype.openQueryViewer=function(e){e=e||{};var t=e.childRelShipMap||{},n=new SD_SoqlEditor({metadata:e.metadata,childRelShipMap:e.childRelShipMap,fieldNameMap:e.fieldNameMap,refShipNameMap:e.refShipNameMap,refToPairMap:e.refToPairMap}),r=1,i=100,o=e.records.length>0?e.records.length:0,a=Math.ceil(o/100),s=function(e,a,s,u){for(var c=u?"SD_query-viewer-table":"SD_query-viewer-table SD_child-records-table",p='<table class="'+c+'"><thead><tr><th>#</th>',d={},f=0;f<a.length;f++){var h=a[f],m=h.name,b="",y="";if(null==m&&h.relationshipName){var g=t[h.relationshipName.toUpperCase()];g&&(b=g.label,y=h.relationshipName)}else{y=Array.isArray(m)?m.join("."):m;var _=n.getFieldMeta(e,m);d[y]=_,b=_.label}p+="<th>"+b+'<span class="SD_api-name">'+y+"</span></th>"}p+="</tr></thead><tbody>";for(var v=(r-1)*i,T=Math.min(v+i-1,o-1),f=v;T>=f;f++){var E=s[f],w=T_Util.upperProperty(E);T_Util.isBlank(e)&&(e=E.attributes.type);var S=E.Id||T_Util.getObjectIdFromUri(E.attributes.url);p+='<tr class="row">',p+='<td><a href="/'+S+'" title="Open in new tab" target="_blank">'+(f+1)+"</a></td>";for(var A=0;A<a.length;A++){var D,C,I,h=a[A],m=h.name;if(null==m&&h.relationshipName){D=w.hasOwnProperty(h.relationshipName.toUpperCase())?w[h.relationshipName.toUpperCase()]:{};var O=D?D.RECORDS:null;I=T_Util.isBlank(O)||0==O.length?"":1==O.length?'<a title="Open detail" class="SD_childRelation-link">1 Record '+l+"</a>":'<a title="Open detail" class="SD_childRelation-link">'+O.length+" Records "+l+"</a>",p+='<td data-column="'+a.length+'">'+I,p+='<input type="hidden" name="relationshipName" value="'+h.relationshipName+'" />',p+='<input type="hidden" name="fields" value="'+T_Util.base64Encode(h)+'" />',p+='<input type="hidden" name="records" value="'+T_Util.base64Encode(O)+'" /></td>'}else{var N=Array.isArray(m)?m.join("."):m,_=d[N];if(D=n.getObjectValue(m,w),C="object"!=typeof D||T_Util.isBlank(D)?D:D.value,I=T_Util.isBlank(C)?"":C,!_.describe||"id"!=_.describe.type&&"reference"!=_.describe.type){var x=Array.isArray(m)?m[m.length-1]:m;if("NAME"==x.toUpperCase()&&D&&D.hasOwnProperty("attributes")){var R=T_Util.getObjectIdFromUri(D.attributes.URL);I='<a href="/'+R+'" target="_blank">'+I+"</a>"}}else I='<a href="/'+C+'" target="_blank">'+I+"</a>";p+='<td title="'+C+'">'+I+"</td>"}}p+="</tr>"}return p+="</tbody></table>"},l='<svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-chevron-down" fill="currentColor" xmlns="http://www.w3.org/2000/svg">';l+='<path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/></svg>';var u='<svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-chevron-up" fill="currentColor" xmlns="http://www.w3.org/2000/svg">';u+='<path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 5.707l-5.646 5.647a.5.5 0 0 1-.708-.708l6-6z"/></svg>';var c=e.records?e.records.length:0,p='<div class="SD_query-viewer-container" id="SD_query-viewer-container">';p+='<div class="SD_modal-container">',p+='<header class="SD_modal-header"><h2 class="SD_modal-title">Query Result - Total Rows: '+c+"</h2>",p+='<a href="javascript:void(0);" class="SD_fullscreen-button"><svg xmlns="http://www.w3.org/2000/svg" width="16px" height="16px" fill="currentColor" class="bi bi-fullscreen" viewBox="0 0 16 16">',p+='<path d="M1.5 1a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4A1.5 1.5 0 0 1 1.5 0h4a.5.5 0 0 1 0 1h-4zM10 .5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 16 1.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zM.5 10a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 0 14.5v-4a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v4a1.5 1.5 0 0 1-1.5 1.5h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5z"/>',p+="</svg></a>",p+='<a href="javascript:void(0);" class="SD_compress-button"><svg xmlns="http://www.w3.org/2000/svg" width="16px" height="16px" fill="currentColor" class="bi bi-fullscreen-exit" viewBox="0 0 16 16">',p+='<path d="M5.5 0a.5.5 0 0 1 .5.5v4A1.5 1.5 0 0 1 4.5 6h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5zm5 0a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 10 4.5v-4a.5.5 0 0 1 .5-.5zM0 10.5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 6 11.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zm10 1a1.5 1.5 0 0 1 1.5-1.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4z"/>',p+="</svg></a>",p+='<a href="javascript:void(0);" class="SD_close-button"><svg class="bi bi-x" width="24px" height="24px" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">',p+='<path fill-rule="evenodd" d="M11.854 4.146a.5.5 0 010 .708l-7 7a.5.5 0 01-.708-.708l7-7a.5.5 0 01.708 0z" clip-rule="evenodd"/>',p+='<path fill-rule="evenodd" d="M4.146 4.146a.5.5 0 000 .708l7 7a.5.5 0 00.708-.708l-7-7a.5.5 0 00-.708 0z" clip-rule="evenodd"/>',p+="</svg></a></header>",p+='<div class="SD_data-body">',p+=s(e.sObjectName,e.fields,e.records,!0),p+="</div>",p+='<div class="SD_modal-footer"></div>',p+="</div></div>",jQuery("#SD_query-viewer-container").remove(),jQuery("body").append(p),jQuery("#SD_iframe-container-mask").addClass("dark");var d=function(){if(0==o)return void jQuery("#SD_query-viewer-container .SD_modal-footer").empty();var t='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-left" viewBox="0 0 16 16">';t+='<path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/></svg>';var n='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-right" viewBox="0 0 16 16">';n+='<path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/></svg>';var l=100*(r-1)+1,u=Math.min(l+i-1,o),c='<div class="SD_count">'+l+" ~ "+u+" / "+o+"</div>";c+='<ul class="SD_pagination">';var p=r>1?"":" disabled",f=r>=a?" disabled":"";c+='<li class="SD_page-item'+p+'"><a data-page="'+(r-1)+'">'+t+"</a></li>",c+='<li class="SD_page-item'+f+'"><a data-page="'+(r+1)+'">'+n+"</a></li></ul>",jQuery("#SD_query-viewer-container .SD_modal-footer").empty().append(c),jQuery("#SD_query-viewer-container .SD_modal-footer .SD_page-item a").click(function(){var t=jQuery(this).data("page");if(!(1>t)){r=t;var n=s(e.sObjectName,e.fields,e.records,!0);jQuery("#SD_query-viewer-container .SD_data-body").empty().append(n),d()}})};d(),jQuery("#SD_query-viewer-container .SD_close-button").click(function(){jQuery("#SD_query-viewer-container > .SD_modal-container").hasClass("full")&&jQuery("#SD_iframe-container").show(),jQuery("#SD_query-viewer-container").remove(),jQuery("#SD_iframe-container-mask").removeClass("dark")}),jQuery("#SD_query-viewer-container .SD_fullscreen-button").click(function(){jQuery("#SD_query-viewer-container > .SD_modal-container").addClass("full"),jQuery("#SD_query-viewer-container .SD_compress-button").show(),jQuery(this).hide(),jQuery("#SD_iframe-container").hide()}),jQuery("#SD_query-viewer-container .SD_compress-button").click(function(){jQuery("#SD_query-viewer-container > .SD_modal-container").removeClass("full"),jQuery("#SD_query-viewer-container .SD_fullscreen-button").show(),jQuery("#SD_iframe-container").show(),jQuery(this).hide()}),jQuery("#SD_query-viewer-container .SD_query-viewer-table a.SD_childRelation-link").click(function(){var e=jQuery(this).closest("td"),n=e.closest("tr"),r=e.data("column"),i=e.find('input[name="relationshipName"]').val(),o={},a={};try{var c=T_Util.base64Decode(e.find('input[name="fields"]').val()),p=T_Util.base64Decode(e.find('input[name="records"]').val());o=JSON.parse(c),a=JSON.parse(p)}catch(d){console.error(d)}var f=jQuery(this).find("svg.bi").first();if(f.hasClass("bi-chevron-down")){var i=o.relationshipName||"",h=i,m=t[i.toUpperCase()];m&&(h=m.label+" <span>("+m.sobject+") </span>");var b='<div class="SD_childRelation"><h3 class="SD_childRelationTitle">'+h+"</h3>";b+=s(o.sobject,o.fields,a,!1);var y='<tr class="SD_childRelationDetail '+i+'"><td></td><td colspan="'+r+'">'+b+"</div></td></tr>",g=jQuery(y);g.insertAfter(n),$childDiv=g.find(".SD_childRelation");var _=$childDiv.height();$childDiv.height(25).animate({height:_},150,"linear",function(){$childDiv.removeAttr("style"),f.after(u),f.remove()})}else{var g=n.nextAll(".SD_childRelationDetail."+i).first();$childDiv=g.find(".SD_childRelation"),$childDiv.animate({height:25},50,"linear",function(){g.remove(),f.after(l),f.remove()})}})},SD_AppView.prototype.openFieldEditor=function(e){var t=this;e=e||{};var n=e.sobject||"",r=e.metadata||[],i=e.metadataNameMap||{},o=e.client,a=o.isLEX||!1,s=o.userInfo.language||"en_US",l=T_FieldTypeMultiLangsMap[s],u={};for(var c in r){var p=r[c];T_Util.isBlank(p.name)||T_Util.isBlank(p.label)||(u[p.name.toUpperCase()]=p.label)}var d=function(){var e='<div class="SD_data-header">';e+='<div class="SD_search-group"><lable class="SD_label">'+l.object+"</lable>";for(var t=[],i=[],o=0;o<r.length;o++){var a=r[o];if(a.createable&&a.updateable&&a.layoutable&&a.queryable&&a.triggerable){var s=a.name===n?" selected":"";a.custom?i.push('<option value="'+a.name+'"'+s+">"+a.label+"</option>"):t.push('<option value="'+a.name+'"'+s+">"+a.label+"</option>")}}return e+='<div class="SD_slds-select_container"><select class="SD_slds-select" id="SD_sobject-select"><option value="ALL">ALL</option><optgroup label="'+l.custom+'">'+i.join("")+"</optgroup>",e+='<optgroup label="'+l.standard+'">'+t.join("")+"</optgroup></select></div>",e+='<div class="SD_slds-select_container field-type"><lable class="SD_label">'+l.field_type+"</lable>",e+='<select class="SD_slds-select" id="SD_field-type-select"><option value="standard">'+l.standard+"</option>",e+='<option value="custom" selected>'+l.custom+"</option></select></div>",e+='<div class="SD_slds-search_container"><span class="icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">',e+='<path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>',e+='</svg></span><input type="text" class="SD_slds-input mid" id="SD_field-keyword" placeholder="Field Name" /></div>',e+="</div></div>",e+='<div class="SD_loading"><div class="loader-wrap mini light"><div class="loader"></div></div>&nbsp;&nbsp;<span class="loading-text">Loading...</span></div>'},f='<a href="#" class="SD_show-more-btn"><span class="SD_expandIcon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-left" viewBox="0 0 16 16">';f+='<path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>',f+="</svg></span>",f+='<span class="SD_closeIcon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-down" viewBox="0 0 16 16">',f+='<path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>',f+="</svg></span></a>";var h='<span class="SD_checkIcon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check-lg" viewBox="0 0 16 16">';h+='<path d="M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z"/>',h+="</svg></span>";var m=function(e){var t="/";return a?(t="/lightning/setup/ObjectManager/"+e.name+"/FieldsAndRelationships/view",e.custom&&!T_Util.isBlank(e.objectId)&&(t="/lightning/setup/ObjectManager/"+e.objectId+"/FieldsAndRelationships/view")):(t="/p/setup/layout/LayoutFieldList?type="+e.name+"&setupid="+e.name+"Fields",e.custom&&"undefined"!=typeof e.objectId&&(t="/"+e.objectId)),t},b=function(e,t,n){var r='<div class="SD_popover SD_popover-right">';r+='<div class="SD_arrow"></div><h3 class="SD_popover-header">'+l.usage+" : "+t+"/"+n+"</h3>",r+='<div class="SD_popover-body">';for(var i=0;i<e.length;i++){var o=e[i],a=T_Util.calcUsage(o.count,n),s=a>75?" over-half":"";r+='<div class="SD_usage_row"><div class="SD_usage_graph"><div class="SD_usage_graph-bar'+s+'" style="width: '+a+'%;">'+o.count+"("+a+'%)</div></div><div class="SD_value">'+o.value+"</div></div>"}return r+="</div></div>"},y=function(e,n,r,i){var o="";if(("picklist"==r.type||"multipicklist"==r.type)&&!T_Util.isBlank(r.picklistValues)){for(var a=[],s=0;s<r.picklistValues.length;s++){var c=r.picklistValues[s];a.push(c.value)}o=a.join(";")}var p="";T_Util.isTrue(r.calculated)&&("0"==r.byteLength&&T_Util.isBlank(r.calculatedFormula)||(p=T_Util.isBlank(r.calculatedFormula_c)?r.calculatedFormula:r.calculatedFormula_c));var d=t.getFieldType(r,l);if("reference"==r.type&&!T_Util.isBlank(r.referenceTo)){var y=t.getFieldReferenceProp(r,u);d+=" ("+y.refLabels.join(",")+")"}T_Util.isBlank(r.custom)?"":r.name;if(rowHtml='<tr class="field-row" data-label="'+r.label+'" data-name="'+r.name+'" data-obj="'+e.name+'"><td>'+i+"</td>",rowHtml+='<td><a href="#" class="SD_field-link">'+(r.label_c?r.label_c:r.label)+"</a></td>",rowHtml+='<td><a href="#" class="SD_field-link">'+(r.name_c?r.name_c:r.name)+"</a></td>",rowHtml+="<td>"+d+"</td>",!n){var g=m(e);rowHtml+='<td><a href="'+g+'" target="_blank">'+e.label+"</a></td>"}n&&(rowHtml+="<td>"+("true"==r.custom||1==r.custom?l.custom:l.standard)+"</td>"),rowHtml+="<td>"+("true"==r.nillable||1==r.nillable?"":h)+"</td>",rowHtml+='<td class="formula"><div class="content">'+p+"</div>"+(T_Util.isBlank(p)?"":f)+"</td>",rowHtml+="<td>"+(T_Util.isTrue(r.unique)?h:"")+"</td>";var _=["Id","IsDeleted","Name","SystemModstamp","LastActivityDate","LastViewedDate","LastReferencedDate"];if("textarea"==r.type&&("plaintextarea"==r.extraTypeInfo||"richtextarea"==r.extraTypeInfo)||"encryptedstring"==r.type||"location"==r.type||_.indexOf(r.name)>=0)rowHtml+="<td></td>";else if(T_Util.isBlank(r.usage))rowHtml+='<td class="SD_usage_td"><a href="#" class="SD_field-usage-link">'+l.show_usage+"</a></td>";else{var v=T_Util.calcUsage(r.usage.used,r.usage.total),T=v>50?" over-half":"";rowHtml+='<td class="SD_usage_td"><div class="SD_usage_graph" title="'+r.usage.used+" / "+r.usage.total+'"><div class="SD_usage_graph-bar'+T+'" style="width: '+v+'%;">'+v+"%</div></div>",r.usage.summary&&(rowHtml+=b(r.usage.summary,r.usage.used,r.usage.total)),rowHtml+="</td>"}return rowHtml+="</tr>",rowHtml},g=1,_=0,v=100,T=[],E=function(e,t,n){var r=[[]];_=0,g=1;for(var i=Object.keys(e),o=0;o<i.length;o++)for(var a=i[o],s=e[a],l=Object.keys(s),u=0;u<l.length;u++){var c=s[l[u]];if(c.label_c=c.label,c.name_c=c.name,c.calculatedFormula_c=c.calculatedFormula,!T_Util.isBlank(t)){var p=t.toLowerCase(),d=c.label.toLowerCase().indexOf(p),f=c.name.toLowerCase().indexOf(p),h=T_Util.isBlank(c.calculatedFormula)?-1:c.calculatedFormula.toLowerCase().indexOf(p);if(0>d&&0>f&&0>h)continue;d>=0&&(c.label_c=T_Util.colorText(c.label,d,t.length)),f>=0&&(c.name_c=T_Util.colorText(c.name,f,t.length)),h>=0&&T_Util.isTrue(c.calculated)&&(c.calculatedFormula_c=T_Util.colorText(c.calculatedFormula,h,t.length))}if(!T_Util.isBlank(n)){if("custom"==n&&!T_Util.isTrue(c.custom))continue;if("standard"==n&&T_Util.isTrue(c.custom))continue}var m=r.length-1;r[m].length>=v&&(r.push([]),m++),c.sobject=a,r[m].push(c),_++}return r},w=function(){if(0==_)return void jQuery("#SD_query-viewer-container .SD_modal-footer").empty();var e='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-left" viewBox="0 0 16 16">';e+='<path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/></svg>';var n='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-right" viewBox="0 0 16 16">';n+='<path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/></svg>';var r=100*(g-1)+1,i=T[g-1].length+100*(g-1),o='<div class="SD_count">'+r+" ~ "+i+" / "+_+"</div>";o+='<ul class="SD_pagination">';var a=g>1?"":" disabled",s=g>=T.length?" disabled":"";o+='<li class="SD_page-item'+a+'"><a data-page="'+(g-1)+'">'+e+"</a></li>",o+='<li class="SD_page-item'+s+'"><a data-page="'+(g+1)+'">'+n+"</a></li></ul>",jQuery("#SD_query-viewer-container .SD_modal-footer").empty().append(o),jQuery("#SD_query-viewer-container .SD_modal-footer .SD_page-item a").click(function(){var e=jQuery(this).data("page");if(!(1>e)){g=e;var n=jQuery("#SD_query-viewer-container #SD_sobject-select"),r=n.val();if("ALL"==r)S(t.cacheFieldsMap,null,T);else{var i={};i[r]=t.cacheFieldsMap[r],S(i,null,T)}}})},S=function(e,n,r){var a=Object.keys(e),s='<table class="SD_query-viewer-table"><thead><tr><th>#</th>';s+="<th>"+l.field_label+"</th><th>"+l.api_name+"</th><th>"+l.data_type+"</th>",a.length>1&&(s+="<th>"+l.object+"</th>"),a.length<=1&&(s+="<th>"+l.field_type+"</th>"),s+="<th>"+l.required+"</th>",s+="<th>"+l.formula+"</th><th>"+l.extendid+"</th>",s+="<th>"+l.usage+"</th>",s+="</tr></thead><tbody>";var u=null;a.length>1&&(u=jQuery("#SD_query-viewer-container #SD_field-type-select").val()),T=r?r:E(e,n,u);for(var c=T[g-1],p=0;p<c.length;p++){var d=c[p],f=d.sobject,h=i[f]||{},m=1==a.length,S=p+1+v*(g-1),A=y(h,m,d,S);s+=A}s+="</tbody></table>",jQuery("#SD_query-viewer-container .SD_data-table").empty().append(s),jQuery("#SD_query-viewer-container .SD_loading").first().hide(),w(),jQuery("#SD_query-viewer-container .SD_data-table .SD_show-more-btn").click(function(){var e=jQuery(this).closest("td");e.toggleClass("full")});var D=function(e,t){var n=jQuery(location).attr("origin");if(T_Util.isTrue(t.custom)){var r=T_Util.isTrue(e.custom)?"CustomObjects":e.name+"Fields";n+="/"+t.fieldId+"?setupid="+r}else{var i=T_Util.isTrue(e.custom)?e.objectId:e.name;n+="/_ui/common/config/field/StandardFieldAttributes/d?id="+t.name+"&type="+i}return n};jQuery("#SD_query-viewer-container .SD_field-link").click(function(){var e=jQuery(this),n=e.closest(".field-row"),r=n.data("obj"),a=n.data("name"),s=i[r]||{},l=t.cacheFieldsMap[r][a];if(T_Util.isBlank(l.fieldId)&&T_Util.isTrue(l.custom)){e.before('<div class="loader-wrap mini light"><div class="loader"></div></div>');var u=s.objectId||s.name,c=T_Util.replaceWordLast(a,"__c","");return void o.conn.getCustomFieldId(u,c,function(e,i){if(e||!i.records||1!=i.size)return o.handleError(e);var u=i.records[0].Id;t.cacheFieldsMap[r][a].fieldId=u;var c=D(s,l);window.open(c),n.find(".loader-wrap").first().remove()})}var p=D(s,l);window.open(p)});var C='<div class="loader-wrap mini light"><div class="loader"></div></div>';jQuery("#SD_query-viewer-container .SD_field-usage-link").click(function(){var e=jQuery(this);e.before(C).addClass("disabled");var n=e.closest("td"),r=e.closest(".field-row"),i=r.data("obj"),a=r.data("name"),s=t.cacheFieldsMap[i][a],l=function(e){o.conn.queryNotNullCount(i,a,function(r,l){var u=l.totalSize&&_>0?l.totalSize:0;if(t.cacheFieldsMap[i][a].usage={used:u,total:e},r)return t.handleError(r);var c=T_Util.calcUsage(u,e),p=c>75?" over-half":"",d='<div class="SD_usage_graph" title="'+u+" / "+e+'"><div class="SD_usage_graph-bar'+p+'" style="width: '+c+'%;">'+u+"("+c+"%)</div></div>";if(n.empty().append(d),0!=u&&T_Util.isTrue(s.groupable)){var f="reference"==s.type&&s.relationshipName,h=f?s.relationshipName+".Name":a;o.conn.queryTop10Summary(i,h,function(r,o){if(!r){for(var s=[],l=0;l<o.records.length;l++){var c=o.records[l],p=f?"Name":a;s.push({value:c[p],count:c.expr0})}t.cacheFieldsMap[i][a].usage.summary=s;var d=b(s,u,e);n.append(d)}})}})};return t.cacheFieldsMap[i].Id&&t.cacheFieldsMap[i].Id.hasOwnProperty("usage_total")?l(t.cacheFieldsMap[i].Id.usage_total):void o.conn.queryCount(i,function(e,n){if(!e){var r=n.totalSize&&n.totalSize>0?n.totalSize:0;return t.cacheFieldsMap[i].Id.usage_total=r,l(r)}})})},A=function(e){if(jQuery("#SD_query-viewer-container .SD_loading").first().show(),t.cacheFieldsMap.hasOwnProperty(e)){var n={};return n[e]=t.cacheFieldsMap[e],void S(n)}o.conn.describe(e,function(n,r){if(n)return o.handleError(n);var i=r.fields;t.cacheFieldsMap[e]={};for(var a=0;a<i.length;a++){var s=i[a];t.cacheFieldsMap[e][s.name]=s}var l={};l[e]=t.cacheFieldsMap[e],S(l)})},D='<div class="SD_query-viewer-container field-editor" id="SD_query-viewer-container">';D+='<div class="SD_modal-container">',D+='<header class="SD_modal-header"><h2 class="SD_modal-title">Object Fields</h2>',D+='<a href="javascript:void(0);" class="SD_fullscreen-button"><svg xmlns="http://www.w3.org/2000/svg" width="16px" height="16px" fill="currentColor" class="bi bi-fullscreen" viewBox="0 0 16 16">',D+='<path d="M1.5 1a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4A1.5 1.5 0 0 1 1.5 0h4a.5.5 0 0 1 0 1h-4zM10 .5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 16 1.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zM.5 10a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 0 14.5v-4a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v4a1.5 1.5 0 0 1-1.5 1.5h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5z"/>',D+="</svg></a>",D+='<a href="javascript:void(0);" class="SD_compress-button"><svg xmlns="http://www.w3.org/2000/svg" width="16px" height="16px" fill="currentColor" class="bi bi-fullscreen-exit" viewBox="0 0 16 16">',D+='<path d="M5.5 0a.5.5 0 0 1 .5.5v4A1.5 1.5 0 0 1 4.5 6h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5zm5 0a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 10 4.5v-4a.5.5 0 0 1 .5-.5zM0 10.5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 6 11.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zm10 1a1.5 1.5 0 0 1 1.5-1.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4z"/>',D+="</svg></a>",D+='<a href="javascript:void(0);" class="SD_close-button"><svg class="bi bi-x" width="24px" height="24px" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">',D+='<path fill-rule="evenodd" d="M11.854 4.146a.5.5 0 010 .708l-7 7a.5.5 0 01-.708-.708l7-7a.5.5 0 01.708 0z" clip-rule="evenodd"/>',D+='<path fill-rule="evenodd" d="M4.146 4.146a.5.5 0 000 .708l7 7a.5.5 0 00.708-.708l-7-7a.5.5 0 00-.708 0z" clip-rule="evenodd"/>',D+="</svg></a></header>",D+='<div class="SD_data-body">',D+=d(),D+='<div class="SD_data-table"></div>',D+="</div>",D+='<div class="SD_modal-footer"></div>',D+="</div></div>",jQuery("#SD_query-viewer-container").remove(),jQuery("body").append(D),jQuery("#SD_iframe-container-mask").addClass("dark"),jQuery("#SD_query-viewer-container .SD_close-button").click(function(){jQuery("#SD_query-viewer-container > .SD_modal-container").hasClass("full")&&jQuery("#SD_iframe-container").show(),jQuery("#SD_query-viewer-container").remove(),jQuery("#SD_iframe-container-mask").removeClass("dark")}),jQuery("#SD_query-viewer-container .SD_fullscreen-button").click(function(){jQuery("#SD_query-viewer-container > .SD_modal-container").addClass("full"),jQuery("#SD_query-viewer-container .SD_compress-button").show(),jQuery(this).hide(),jQuery("#SD_iframe-container").hide()}),jQuery("#SD_query-viewer-container .SD_compress-button").click(function(){jQuery("#SD_query-viewer-container > .SD_modal-container").removeClass("full"),jQuery("#SD_query-viewer-container .SD_fullscreen-button").show(),jQuery("#SD_iframe-container").show(),
jQuery(this).hide()}),jQuery("#SD_query-viewer-container #SD_sobject-select").change(function(){C=jQuery(this);var e=C.val();if("ALL"!==e)return jQuery("#SD_query-viewer-container .SD_slds-select_container.field-type").css("display","none"),void A(e);for(var n=[],i=0;i<r.length;i++){var a=r[i];a.createable&&a.updateable&&a.layoutable&&a.queryable&&a.triggerable&&(t.cacheFieldsMap.hasOwnProperty(a.name)||n.push(a.name))}var s=jQuery("#SD_query-viewer-container .SD_loading").first();s.show();var l=s.find(".loading-text").first();l.text("Loading... (1/"+n.length+")"),o.getMultiObjectFieldValues({sobjects:n,process:function(e){l.text("Loading... ("+e.length+"/"+n.length+")")},callback:function(e){for(var n=Object.keys(e.metadata),r=0;r<n.length;r++){var i=n[r],o=e.metadata[i];t.cacheFieldsMap[i]={};for(var a=0;a<o.fields.length;a++){var s=o.fields[a];t.cacheFieldsMap[i][s.name]=s}}jQuery("#SD_query-viewer-container .SD_slds-select_container.field-type").css("display","inline-block");var u=jQuery("#SD_query-viewer-container #SD_field-keyword").val();S(t.cacheFieldsMap,u),l.text("Loading...")}})}),jQuery("#SD_query-viewer-container #SD_field-type-select").change(function(){if(jQuery(this).is(":visible")){var e=jQuery("#SD_query-viewer-container #SD_field-keyword").val();S(t.cacheFieldsMap,e)}});var C=jQuery("#SD_query-viewer-container #SD_sobject-select");jQuery("#SD_query-viewer-container #SD_field-keyword").bind("keyup focus",function(e){var n=jQuery(this),r=n.val(),i=C.val();if("ALL"==i)S(t.cacheFieldsMap,r);else{var o={};o[i]=t.cacheFieldsMap[i],S(o,r)}}),A(n)},SD_AppView.prototype.getFieldType=function(e,t){if(T_Util.isBlank(e))return null;var n=e.type;"true"==e.calculated&&(n="0"==e.byteLength&&T_Util.isBlank(e.calculatedFormula)?"rollupsummary":"formula"),"string"==e.type&&"true"==e.autoNumber&&(n="autonumber"),"textarea"==e.type&&(n=e.extraTypeInfo),"reference"==e.type&&(n=T_Util.isNotBlank(e.relationshipOrder)?"masterdetail":"lookup"),"double"==e.type&&"true"!==e.calculated&&(n="number","true"==e.displayLocationInDecimal&&(n="geolocation"));var r=n;return t.hasOwnProperty(n)&&(r=t[n]),"int"!=n&&"number"!=n&&"double"!=n||(r+=" ("+(e.precision-e.scale)+", "+e.scale+")"),"formula"==n&&t.hasOwnProperty(e.type)&&(r+=" ("+t[e.type]+")"),r},SD_AppView.prototype.getFieldReferenceProp=function(e,t){var n=[],r=[];if(Array.isArray(e.referenceTo))for(var i=e.referenceTo,o=0;o<i.length;o++){var a=i[o].toUpperCase();t.hasOwnProperty(a)&&(n.push(t[a]),"undefined"!=typeof e.relationshipOrder&&r.push(t[a]))}else{var a=e.referenceTo.toUpperCase();t.hasOwnProperty(a)&&(n.push(t[a]),"undefined"!=typeof e.relationshipOrder&&r.push(t[a]))}return{refLabels:n,masters:r}},SD_AppView.prototype.openProfileViewer=function(e){var t=this;e=e||{};var n=e.profiles||{},r=e.cache?"":' disabled="disabled"',i=e.exportEvent,o=Object.values(n);o.sort(function(e,t){return"true"!=e.custom&&1!=e.custom||"false"!=t.custom&&0!=t.custom?e.fullName>t.fullName?1:e.fullName<t.fullName?-1:0:-1});var a=function(t){var n='<table class="SD_profiles-table"><thead><tr>';n+='<th width="30"><input class="SD_checkbox checkbox-all" type="checkbox"'+r+" /></th>",n+="<th>Profile Name</th>",n+='<th width="200">User License</th>',n+="<th>Custom</th>",n+="</tr></thead><tbody>";for(var i=Object.keys(t),o=0;o<i.length;o++){var a=i[o],s=t[a],l=s.fullName,u=decodeURIComponent(l),c="true"==s.custom||1==s.custom?"":"";n+='<tr class="row" data-id="'+s.id+'">';var p="true"==s.custom||1==s.custom?' checked="checked"':"",d=e.cache?'<input class="SD_checkbox checkbox-row" type="checkbox"'+p+" />":' <div class="loader-wrap mini light"><div class="loader">Loading...</div></div>';n+='<td class="col-checkbox">'+d+"</td>",n+='<td><a href="/'+s.id+'" target="_blank">'+u+"</a></td>",n+='<td class="col-license">'+(s.userLicense||"")+"</td>",n+='<td class="col-custom">'+c+"</td>",n+="</tr>"}return n+="</tbody></table>"},s='<svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-chevron-down" fill="currentColor" xmlns="http://www.w3.org/2000/svg">';s+='<path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/></svg>';var l='<svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-chevron-up" fill="currentColor" xmlns="http://www.w3.org/2000/svg">';l+='<path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 5.707l-5.646 5.647a.5.5 0 0 1-.708-.708l6-6z"/></svg>';var u=e.cache?"":' &nbsp;&nbsp;<div class="loader-wrap"><div class="loader">Loading...</div></div><div class="loader-percent"> (<span class="done">0</span>/<span class="total">'+o.length+"</span>)</div>",c='<div class="SD_profile-select-container" id="SD_profile-select-container">';c+='<div class="SD_modal-container">',c+='<header class="SD_modal-header"><h2 class="SD_modal-title">Select profiles for Field-Level Security '+u+"</h2>",c+='<a href="javascript:void(0);" class="SD_close-button"><svg class="bi bi-x" width="24px" height="24px" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">',c+='<path fill-rule="evenodd" d="M11.854 4.146a.5.5 0 010 .708l-7 7a.5.5 0 01-.708-.708l7-7a.5.5 0 01.708 0z" clip-rule="evenodd"/>',c+='<path fill-rule="evenodd" d="M4.146 4.146a.5.5 0 000 .708l7 7a.5.5 0 00.708-.708l-7-7a.5.5 0 00-.708 0z" clip-rule="evenodd"/>',c+="</svg></a></header>",c+='<div class="SD_data-body">',c+=a(o),c+="</div>",c+='<div class="SD_data-footer"><p><button class="SD_button btn-primary btn-export"'+r+">Export</button></p></div></div></div>",jQuery("#SD_profile-select-container").remove(),jQuery("body").append(c),jQuery("#SD_iframe-container-mask").addClass("dark").addClass("front");var p=jQuery("#SD_profile-select-container");p.find(".SD_close-button").click(function(){t.closeProfileViewer()}),p.find('input[type="checkbox"].checkbox-all').click(function(){$checkAll=jQuery(this);var e=$checkAll.is(":checked");p.find('input[type="checkbox"].checkbox-row').prop("checked",e),t._updateProfileExportButton()}),e.cache&&p.find('input[type="checkbox"].checkbox-row').click(function(){var e=!1,n=p.find('input[type="checkbox"].checkbox-row:not(:checked)').length;0==n&&(e=!0),p.find('input[type="checkbox"].checkbox-all').prop("checked",e),t._updateProfileExportButton()}),p.find("button.btn-export").click(function(){$button=jQuery(this);var e=$button.html();$button.html('<div class="loader-wrap mini"><div class="loader">Loading...</div></div>&nbsp;&nbsp;'+e),$button.prop("disabled",!0);var t=[];p.find('input[type="checkbox"].checkbox-row:checked').each(function(){var e=jQuery(this),n=e.closest("tr.row"),r=n.data("id");t.push(r)}),i(t)}),t._updateProfileExportButton()},SD_AppView.prototype.updateProfileViewer=function(e){var t=jQuery("#SD_profile-select-container");e=e||{};for(var n=e.profiles||[],r=0;r<n.length;r++){var i=n[r],o="true"==i.custom||1==i.custom?"":"",a="true"==i.custom||1==i.custom?' checked="checked"':"",s=t.find('tr.row[data-id="'+i.id+'"]');s.find(".col-checkbox").html('<input class="SD_checkbox checkbox-row" type="checkbox"'+a+" />"),s.find(".col-license").html(i.userLicense),s.find(".col-custom").html(o)}var l=t.find(".loader-percent > .done"),u=t.find(".SD_checkbox.checkbox-row").length;l.text(u),this._updateProfileExportButton()},SD_AppView.prototype._updateProfileExportButton=function(){var e=jQuery("#SD_profile-select-container"),t=e.find('input[type="checkbox"].checkbox-row:checked').length,n=e.find(".btn-export");n.text("Export ("+t+")"),0==t?n.prop("disabled",!0):n.removeAttr("disabled")},SD_AppView.prototype.activeProfileViewer=function(){var e=this,t=jQuery("#SD_profile-select-container");t.find(".loader-wrap").remove(),t.find(".loader-percent").remove(),t.find("input.checkbox-all").removeAttr("disabled"),t.find("button.btn-export").removeAttr("disabled"),t.find('input[type="checkbox"].checkbox-row').click(function(){var n=!1,r=t.find('input[type="checkbox"].checkbox-row:not(:checked)').length;0==r&&(n=!0),t.find('input[type="checkbox"].checkbox-all').prop("checked",n),e._updateProfileExportButton()})},SD_AppView.prototype.closeProfileViewer=function(e){jQuery("#SD_profile-select-container").remove(),jQuery("#SD_iframe-container-mask").removeClass("dark").removeClass("front")};var T_FieldTypeMultiLangsMap={en_US:{"boolean":"Checkbox",formula:"Formula",string:"Text",url:"URL",textarea:"Text Area",percent:"Percent",email:"Email",richtextarea:"Rich Text Area",plaintextarea:"Long Text Area",masterdetail:"Master-Detail",geolocation:"Geolocation",location:"Location","int":"Integer",number:"Number","double":"Number",date:"Date",datetime:"Date/Time",encryptedstring:"Text (Encrypted)",autonumber:"Auto Number",multipicklist:"Picklist (Multi-Select)",currency:"Currency",picklist:"Picklist",phone:"Phone",lookup:"Lookup",recordtype:"Record Type",address:"Address",custom:"Custom",standard:"Standard",required:"Required",extendid:"Extend ID",help:"Help Text",track_history:"Track History",api_name:"API Name",field_label:"Field Label",data_type:"Data Type",length:"Length",field_type:"Field Type",field_required:"Required",picklist_values:"Picklist Values",usage:"Usage",show_usage:"Show",object:"Object",object_label:"Object Label",master_object:"Master Object",object_type:"Object Type",rollupsummary:"Roll-Up Summary"},ja:{"boolean":"",formula:"",string:"",url:"URL",textarea:"",percent:"",email:"",richtextarea:"",plaintextarea:"",masterdetail:"",geolocation:"",location:"","int":"",number:"","double":"",date:"",datetime:"/",encryptedstring:"()",autonumber:"",multipicklist:" ()",currency:"",picklist:"",phone:"",lookup:"",recordtype:"",address:"",custom:"",standard:"",required:"",extendid:" ID",help:"",track_history:"",api_name:"API ",field_label:"",data_type:"",length:"",field_type:"",field_required:"",picklist_values:"",usage:"",show_usage:"",object:"",object_label:"",master_object:"",object_type:"",rollupsummary:""},zh_TW:{"boolean":"",formula:"",string:"",url:"URL",textarea:"",percent:"",email:"",richtextarea:"Rich Text ",plaintextarea:"",masterdetail:"-",geolocation:"",location:"","int":"",number:"","double":"",date:"",datetime:"/",encryptedstring:" ()",autonumber:"",multipicklist:"",currency:"",picklist:"",phone:"",lookup:"",recordtype:"",address:"",custom:"",standard:"",required:"",extendid:"",help:"",track_history:"",api_name:"API ",field_label:"",data_type:"",length:"",field_type:"",field_required:"",picklist_values:"",usage:"",show_usage:"",object:"",object_label:"",master_object:"",object_type:"",rollupsummary:""},zh_CN:{"boolean":"",formula:" ()",string:"",url:"URL",textarea:"",percent:"",email:"",richtextarea:"",plaintextarea:"",masterdetail:"-",geolocation:"",location:"","int":"",number:"","double":"",date:"",datetime:"/",encryptedstring:"",autonumber:"",multipicklist:"",currency:"",picklist:"",phone:"",lookup:"",recordtype:"",address:"",custom:"",standard:"",required:"",extendid:" ID",help:"",track_history:"",api_name:"API ",field_label:"",data_type:"",length:"",field_type:"",field_required:"",picklist_values:"",usage:"",show_usage:"",object:"",object_label:"",master_object:"",object_type:"",rollupsummary:""}},SD_App=function(e){this.conn=new SD_OAuthConnect,this.userInfo=this.conn.userInfo,this.view=new SD_AppView,this.authPending=null,this.tabid=null,this.sobject=null,this.isLEX=!1,this.port=null,this.crobQueue={}};SD_App.prototype.setConn=function(e){this.conn=e},SD_App.prototype.run=function(e){var t=this;e=e||{},t.view.showPanel()},SD_App.prototype.handle=function(e){var t=this;e=e||{},T_Util.isBlank(t.tabid)&&e.tabid&&(t.tabid=e.tabid),"function"==typeof t[e.mode]&&(e.callback=t.sendResponse,t[e.mode](e))},SD_App.prototype.sendResponse=function(e){e=e||{},e.extensionId=chrome.runtime.id,e.tabid=this.tabid,chrome.runtime.sendMessage(e)},SD_App.prototype.sendCrobRequest=function(e,t){e=e||{},e.extensionId=chrome.runtime.id,e.tabid=this.tabid,e.mode="CROB",e.accessToken=this.conn.conn.accessToken,e.instanceUrl=this.conn.conn.instanceUrl;var n=T_Util.getUUid();e.uuid=n,this.crobQueue[n]=t,chrome.runtime.sendMessage(e)},SD_App.prototype.callbackCrobRequest=function(e){var t=this;e=e||{},T_Util.isBlank(e.uuid)||t.crobQueue.hasOwnProperty(e.uuid)&&(t.crobQueue[e.uuid](e.err,e.res),delete t.crobQueue[e.uuid])},SD_App.prototype.init=function(e){var t=this;e=e||{},T_Logger.setUserInfo(t.userInfo);var n=t.userInfo.language||"en_US";T_FieldMapping.hasOwnProperty(n)||(n="en_US"),T_FieldLabelMap=T_FieldMapping[n];var r=window.location.href,i=T_Util.getParser(r);t.isLEX=T_Util.isLightningDomain(i),t.conn.checkStoredOAuthToken(function(r){return T_Logger.log("CHECK TOKEN",r),r?(T_Util.isNotBlank(t.conn.authInfo)&&(T_Logger.setUserInfo(t.conn.authInfo),t.userInfo=t.conn.authInfo,n!==t.userInfo.language&&t.userInfo.language&&(n=t.userInfo.language||"en_US",T_FieldMapping.hasOwnProperty(n)||(n="en_US"),T_FieldLabelMap=T_FieldMapping[n])),void t.conn.checkStoreMetaData(function(n){T_Logger.log("CHECK METADATA",n),n&&!t.conn.metadata&&(t.conn.metadata=n,t.conn.metadataNameMap=t.conn.converToNameMap(n),t.conn.metadataPrefixMap=t.conn.converToPrefixMap(n));var r=t.parsePage();return n||(r.page="unauth"),e.callback(r)})):e.callback(t.parsePage())})},SD_App.prototype.oauth=function(e){var t=this,n=t.conn.getAuthorizationUrl({tabid:t.tabid});return t.authPending=e.callback,window.open(n,"lightning-oauth-win","width=500,height=600,resizable=no,scrollbars=no,menubar=no")},SD_App.prototype.reloadMetadata=function(e){var t=this;t.conn.restoreMetaData(function(n){return T_Logger.log("RELOAD METADATA",n),n?e.callback({mode:"reloadMetadata",done:!0,metadata:t.conn.metadata}):e.callback({mode:"reloadMetadata",done:!1})})},SD_App.prototype.resizePanel=function(e){this.view.resizePanel(e)},SD_App.prototype.showApiName=function(e){var t=this;t.conn.describe(t.sobject.name,function(n,r){if(n)return t.handleError(n);var i=r.fields,o=[];return 0==t.sobject.custom&&T_FieldLabelMap.hasOwnProperty(t.sobject.name)&&(o=T_FieldLabelMap[t.sobject.name]),t.view.showFieldApiName(i,o,t.isLEX),e.callback({mode:"showApiName",done:!0})})},SD_App.prototype.hideApiName=function(e){var t=this;return t.view.hideFieldApiName({isLEX:t.isLEX}),e.callback({mode:"hideApiName",done:!0})},SD_App.prototype.getFieldValues=function(e){var t=this,n=e.sobject||t.sobject.name;t.conn.describe(n,function(r,i){if(r)return t.handleError(r);var o=i.fields,a=i.childRelationships,s=[];!n.endsWith("__c")&&T_FieldLabelMap.hasOwnProperty(n)&&(s=T_FieldLabelMap[n]);var l=t.conn.metadataNameMap[n],u=t.view.getObjectValues(o,s,t.isLEX);return e.callback({mode:"getFieldValues",fields:o,values:u,sobject:l,childRelationships:a})})},SD_App.prototype.getMultiObjectFieldValues=function(e){var t=this,n=e.sobjects||[],r={};async.eachLimit(n,5,function(n,i){t.conn.describe(n,function(o,a){if(o)return t.handleError(o);var s=a.fields,l=t.conn.metadataNameMap[n];r[n]={fields:s,sobject:l},e.process&&e.process(Object.keys(r)),i()})},function(){return e.callback({mode:"getMultiObjectFieldValues",metadata:r})})},SD_App.prototype.query=function(e){var t=this;e=e||{};var n=e.soql||"";t.conn.query(n,function(t,n){return t&&(n={error:t}),n.mode="query",e.callback(n)})},SD_App.prototype.requestGet=function(e){var t=this;e=e||{};var n=e.url||"";t.conn.requestGet(n,function(t,n){return t&&(n={error:t}),n.mode="requestGet",e.callback(n)})},SD_App.prototype.describeObjectFull=function(e){var t=this;e=e||{};var n=!1,r=!1,i=null,o=[],a=function(a){if(o=a,r&&i&&i.profiles){for(var s=Object.keys(i.profiles),l=0;l<s.length;l++)o.indexOf(s[l])<0&&delete i.profiles[s[l]];return t.view.closeProfileViewer(),e.callback(i)}n=!0},s=function(a){t._describeObjectFull({sObjects:e.sObjects,callback:function(s){if(r=!0,i={mode:"describeObjectFull",describes:s.describes,objects:s.objects,triggers:s.triggers,workflows:s.workflows,profiles:a},n){for(var l=Object.keys(i.profiles),u=0;u<l.length;u++)o.indexOf(l[u])<0&&delete i.profiles[l[u]];return t.view.closeProfileViewer(),e.callback(i)}}})};t.conn.getStorageData("profiles",function(e){e&&Object.keys(e).length>0?(t.view.openProfileViewer({profiles:e,cache:!0,exportEvent:a}),s(e)):t._requestProfiles({cache:!0,exportEvent:a},function(e){s(e)})})},SD_App.prototype._requestProfiles=function(e,t){var n=this;n.conn.listProfiles(function(r,i){if(r)return t(r);for(var o=[],a={},s={},l=0;l<i.length;l++){var u=i[l],c=encodeURIComponent(u.fullName);o.push(u.fullName),a[c]=u.id,s[u.id]=u}n.view.openProfileViewer({profiles:s,exportEvent:e.exportEvent}),o=T_Util.splitQueue(o),async.eachLimit(o,5,function(e,r){n.conn.getProfiles(e,function(e,i){if(e)return t(e);Array.isArray(i)||(i=[i]);for(var o=0;o<i.length;o++){var l=i[o],u=encodeURIComponent(l.fullName),c=a[u];c&&(i[o].id=c,s[c]=Object.assign(s[c],l))}n.view.updateProfileViewer({profiles:i}),r()})},function(){return n.conn.saveStorageData("profiles",s,function(e){}),n.view.activeProfileViewer(),t(s)})})},SD_App.prototype._describeObjectFull=function(e){var t=this;e=e||{};var n=e.sObjects||"",r={describes:[],objects:[],triggers:[],workflows:[]},i=function(e){var t=10;if(e.length>t){for(var n=[],r=0;r<e.length;r++)r%t==0&&n.push([]),n[n.length-1].push(e[r]);e=n}else e=[e];return e};async.parallel([function(e){t.conn.describeSObjects(n,function(t,n){return t?e(t):(r.describes=n,e())})},function(e){var o=[].concat(n);o=i(o),async.eachLimit(o,5,function(n,i){t.conn.getObjects(n,function(t,n){if(t)return e(t);Array.isArray(n)||(n=[n]);for(var o=0;o<n.length;o++)r.objects.push(n[o]);i()})},e)},function(e){var i="SELECT Id, Name, TableEnumOrId, ApiVersion, Body, IsValid, ";i+="UsageBeforeInsert, UsageAfterInsert, UsageBeforeUpdate, UsageAfterUpdate, UsageBeforeDelete, UsageAfterDelete, UsageIsBulk, UsageAfterUndelete ",i+="FROM ApexTrigger WHERE TableEnumOrId IN ('"+n.join("', '")+"')",t.conn.query(i,function(t,n){return t?e(t):(r.triggers=n.records,e())})},function(e){var o=[].concat(n);o=i(o),async.eachLimit(o,5,function(n,i){t.conn.getWorkflows(n,function(t,n){if(t)return e(t);Array.isArray(n)||(n=[n]);for(var o=0;o<n.length;o++)r.workflows.push(n[o]);i()})},e)}],function(n){return n?t.handleError(n):e.callback(r)})},SD_App.prototype.describeSObjects=function(e){var t=this;e=e||{};var n=e.sObjects||"";t.conn.describeSObjects(n,function(n,r){return n?t.handleError(n):e.callback({mode:"describeSObjects",describes:r})})},SD_App.prototype.getMultiLayouts=function(e,t,n){var r=this,i=[],o=[];async.eachLimit(t,5,function(t,n){return o.indexOf(t.layoutId)>=0?n():(o.push(t.layoutId),void r.conn.getLayouts(e,t.recordTypeId,function(r,o){var a=o;a.sobject=e,a.recordType=t,i.push(a),n()}))},function(e){return e&&console.error(e),n(e,i)})},SD_App.prototype.requestPagelayout=function(e){var t=this;e=e||{};var n=e.sObjects||[],r=[],i=[];async.parallel([function(e){async.eachLimit(n,5,function(e,n){t.conn.getLayouts(e,function(i,o){if(i)return n(i);if(Array.isArray(o.layouts)&&0==o.layouts.length)return n(i);if(o.layouts&&1==o.recordTypeMappings.length){var a=o.layouts[0];a.sobject=e,a.recordType=o.recordTypeMappings[0],r.push(a),n()}else t.getMultiLayouts(e,o.recordTypeMappings,function(e,t){return e?n(e):(r=r.concat(t),void n())})})},e)},function(e){t.conn.listLayouts(n,function(t,n){return t?e(t):(i=n,e())})}],function(o){if(o)return t.handleError(o);for(var a=t.getRelatedObjFromLayout(r),s=0;s<a.length;s++){var l=a[s];n.indexOf(l)<0&&n.push(l)}t.conn.describeSObjects(n,function(n,o){return n?t.handleError(n):e.callback({mode:"requestPagelayout",layoutMeta:i,layouts:r,describes:o})})})},SD_App.prototype.requestListView=function(e){var t=this;e=e||{};var n=e.sObjects||[],r=[],i={},o=[],a={},s=[],l={};async.waterfall([function(e){t.conn.describeSObjects(n,function(n,o){if(n)return t.handleError(n);r=o;for(var a=0;a<r.length;a++){var s=r[a];i[s.name]={};for(var l=0;l<s.fields.length;l++){var u=s.fields[l];"reference"==u.type&&u.relationshipName&&(i[s.name][u.relationshipName]=u)}}e()})},function(e){async.eachLimit(n,5,function(e,n){t.conn.getListViews(e,function(t,r){if(t)return n(t);if(Array.isArray(r.listviews)&&0==r.listviews.length)return n();a[e]=[];for(var i=0;i<r.listviews.length;i++){var o=r.listviews[i];a[e].push({id:o.id,developerName:o.developerName,label:o.label}),s.push({sobject:e,id:o.id}),l[o.id.substring(0,15)]={sobject:e,index:i}}n()})},e)},function(e){async.eachLimit(s,5,function(e,r){t.conn.describeListView(e.sobject,e.id,function(e,t){if(e)return r(e);if(!t||!t.id)return r();for(var s=l[t.id.substring(0,15)],u=0;u<t.columns.length;u++){var c=t.columns[u],p=c.fieldNameOrPath.split(".");if(1!=p.length){var d=p[0],f=i[s.sobject];if(f&&f.hasOwnProperty(d)){var h=f[d].referenceTo;h=Array.isArray(h)?h[0]:h,t.columns[u].referenceTo=h;var m=f[d].label;m.endsWith(" ID")&&!h.endsWith("__c")&&(m=T_Util.replaceLast(m," ID","")),t.columns[u].label=m,n.indexOf(h)<0&&o.indexOf(h)<0&&o.push(h)}}}a[s.sobject][s.index].describe=t,r()})},e)}],function(n){return n?t.handleError(n):o.length>0?void t.conn.describeSObjects(o,function(n,i){return n?t.handleError(n):(r=r.concat(i),e.callback({mode:"requestListView",listviews:a,describes:r}))}):e.callback({mode:"requestListView",listviews:a,describes:r})})},SD_App.prototype.requestDebuglog=function(e){var t=this;e=e||{},e.resize&&t.view.resizePanel(e);var n=e.existIds||[],r="SELECT Id, LogUser.Id, LogUser.Name, Operation, LastModifiedDate FROM ApexLog ORDER BY LastModifiedDate DESC";t.conn.query(r,function(r,i){if(r)return t.handleError(r);var o={};if(i.done!==!0||0==i.records.length)return e.callback({mode:"requestDebuglog",data:o});for(var a=0;a<i.records.length;a++){var s=i.records[a];n.indexOf(s.Id)>=0||(o[s.Id]=s)}if(0==Object.keys(o).length)return e.callback({mode:"requestDebuglog",data:o});var l=t.conn.conn.tooling;async.eachLimit(Object.keys(o),5,function(e,n){var r="/sobjects/ApexLog/"+e+"/Body/",i=function(t,r){t&&console.error(t),o[e].Body=r,n()};return t.isLEX?t.sendCrobRequest({method:"tooling.request",params:r},i):void l.request(r).thenCall(i)},function(t){return t&&console.error(t),e.callback({mode:"requestDebuglog",data:o})})})},SD_App.prototype.highlightDebugLog=function(e){T_LogViewer&&T_LogViewer.highlight(e)},SD_App.prototype.taggleDebugLog=function(e){T_LogViewer&&T_LogViewer.taggle(e)},SD_App.prototype.hidePanel=function(e){this.view.hidePanel()},SD_App.prototype.openQueryViewer=function(e){var t=this;t.view.openQueryViewer(e)},SD_App.prototype.openFieldEditor=function(e){var t=this;e.client=t,e.metadata=t.conn.metadata,e.metadataNameMap=t.conn.metadataNameMap,t.view.openFieldEditor(e)},SD_App.prototype.parsePage=function(){var e=this,t=window.location.href,n=T_Util.getParser(t);e.isLEX=T_Util.isLightningDomain(n);var r={mode:"init",url:t,isLEX:e.isLEX,userInfo:e.userInfo};if(!e.conn.authed)return r.page="unauth",r;r.metadata=e.conn.metadata;var i=e.checkDetail(t);if(i){var o=T_Util.getObjectIdFromUri(t);return e.sobject=i,r.page="detail",r.sobject=i,r.title=e.view.getRecordName({isLEX:e.isLEX,sobject:e.sobject}),r.id=o,r.isApiNameShowed=e.view.isApiNameLabelShow({isLEX:e.isLEX}),r}var a=e.checkList(t);if(a)return e.sobject=a,r.page="list",r.title=e.view.getRecordName({isLEX:e.isLEX,sobject:e.sobject}),r.sobject=a,r;var s=e.checkSetting(t);if(s)return e.sobject=s,r.page="setting",r.sobject=s,r;var l=T_Util.isDebugLogListPage(n);if(l)return r.page="debugloglist",r;var u=T_Util.isDebugLogDetailPage(n);return u&&T_LogViewer?(r.page="debuglogdetail",r.master=T_LogViewer.getEventMaster(),r.lineTags=T_LogViewer.lineTags,r):(r.page="other",r)},SD_App.prototype.checkDetail=function(e){var t=this,n=T_Util.getObjectIdFromUri(e);if(T_Util.isBlank(n))return!1;var r=n.substring(0,3);return t.conn.metadataPrefixMap&&t.conn.metadataPrefixMap.hasOwnProperty(r)?t.conn.metadataPrefixMap[r]:!1},SD_App.prototype.checkList=function(e){var t=this;if(t.isLEX){var n=T_Util.getParser(e),r=n.pathname.split("/");if(r.length<5)return null;if("lightning"==r[1]&&"o"==r[2]&&"list"==r[4]){var i=r[3];if(t.conn.metadataNameMap&&t.conn.metadataNameMap.hasOwnProperty(i))return t.conn.metadataNameMap[i]}return!1}var o=T_Util.getIdPreFixFromUri(e);return T_Util.isBlank(o)?!1:t.conn.metadataPrefixMap&&t.conn.metadataPrefixMap.hasOwnProperty(o)?t.conn.metadataPrefixMap[o]:!1},SD_App.prototype.checkSetting=function(e){var t=this,n=T_Util.getObjectIdFromUri(e);if(!T_Util.isBlank(n)&&t.conn.metadata)for(var r in t.conn.metadata){var i=t.conn.metadata[r];if(i.objectId==n)return i}var o=T_Util.getParser(e);if(t.isLEX){var a=o.pathname.split("/");if(a.length<6)return null;if("lightning"==a[1]&&"setup"==a[2]&&"ObjectManager"==a[3]){var s=a[4];if(t.conn.metadataNameMap&&t.conn.metadataNameMap.hasOwnProperty(s))return t.conn.metadataNameMap[s]}return!1}var s=T_Util.getParam("type",e),l=T_Util.getParam("setupid",e);return T_Util.isBlank(s)||T_Util.isBlank(l)?!1:t.conn.metadataNameMap&&t.conn.metadataNameMap.hasOwnProperty(s)?t.conn.metadataNameMap[s]:!1},SD_App.prototype.getRelatedObjFromLayout=function(e){var t=[];if(T_Util.isBlank(e))return t;for(var n=0;n<e.length;n++){var r=e[n];if(!T_Util.isBlank(r.relatedLists))for(var i=0;i<r.relatedLists.length;i++){var o=r.relatedLists[i],a=o.sobject;t.indexOf(a)<0&&t.push(a)}}return t},SD_App.prototype.handleError=function(e){if(e&&this.conn.handleOAuthError(e)){var t="SESSION EXPIRED, reopen Salesforce DevTools and try again.";return void alert(t)}var t="Oops! It seems some error occurred, report issue on \n https://github.com/xgeek-net/salesforce-devtools/issues";t+="\n[ERROR]"+JSON.stringify(e),alert(t)},"undefined"!=typeof jQuery&&jQuery.noConflict();var T_DEBUG_MODE=!1,T_FieldLabelMap={},SF_API_VERSION="53.0",T_Util=new SD_Util,T_Logger=new SD_Logger({debugmode:T_DEBUG_MODE}),T_App,T_LogViewer,T_FieldMassEdit;jQuery(document).ready(function(){var e=T_Util.getParser(window.location.href);if(T_Logger.isGithubIssue(e))return T_Logger.prefillIssue();if(T_Util.isOAuthCallback(e)){var t=new SD_OAuthConnect,n=T_Util.getParam("code"),r=T_Util.getParam("sfdc_community_url"),i=T_Util.getParam("tabid");if(T_Util.isBlank(n))return;return jQuery("body").text("Processing..."),void t.authorize({code:n,sfdc_community_url:r},function(e){e&&(e.tabid=T_Util.isBlank(i)?"":i,chrome.runtime.sendMessage({type:"SD_sfdcoauth",options:e},function(e){window.close()}))})}if(T_Util.isSfdcDomain(e.hostname)&&!T_Util.isLightningDomain(e)){if(T_Util.isProfileEditPage(e)){var o=new SD_AllChecker;o.activeOnProfile()}else if(T_Util.isProfileViewPage(e)){var o=new SD_AllChecker;o.activeOnProfileView()}if(T_Util.isFieldEditPage(e)){var o=new SD_AllChecker;o.activeOnFieldPer()}if(T_Util.isDebugLogDetailPage(e)){var t=new SD_OAuthConnect;t.checkStoreMetaData(function(e){e&&(T_LogViewer=new SD_DebugLogger({conn:t}),T_LogViewer.active())})}if(T_Util.isFieldListPage(e)){var t=new SD_OAuthConnect;t.checkStoreMetaData(function(e){e&&(T_FieldMassEdit=new SD_FieldMassEdit({conn:t}),T_FieldMassEdit.activeOnClassic())})}}});var T_callFromBackground=function(e){if("SD_openapp"==e.mode){var t=T_Util.getParser(window.location.href);if(!T_Util.isSfdcDomain(t.hostname)&&!T_Util.isLightningDomain(t))return;return T_App||(T_App=new SD_App),void T_App.run()}if("SD_reportIssue"==e.mode)return T_App.reportIssue({message:"Issue title"},function(e){return sendResponse(e)}),!0;if("SD_sfdcoauthcallback"==e.mode&&T_App&&T_App.authPending){var n=new SD_OAuthConnect(e.token);T_App.userInfo=e.token,T_App.setConn(n);var r="SELECT Id, Name, LanguageLocaleKey, TimeZoneSidKey FROM User WHERE Id = '"+T_App.userInfo.userId+"' LIMIT 1";return n.query(r,function(t,r){var i=r.records[0];e.token.language=i.LanguageLocaleKey,e.token.timezone=i.TimeZoneSidKey,n.storeLocalOAuthToken(e.token,function(t){if(e.token.language&&T_FieldMapping.hasOwnProperty(e.token.language)&&(T_FieldLabelMap=T_FieldMapping[e.token.language]),"function"==typeof T_App.authPending){var n=e.token;n.mode="oauth",T_App.authPending(n),T_App.authPending=null}return!0})}),!0}};
//# sourceMappingURL=app.min.js.map
